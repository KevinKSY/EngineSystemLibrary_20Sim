<?xml version="1.0" encoding="UTF-8"?>
<Document>
 <Icons>
    <Icon size="256" bpp="32" format="png">
<![CDATA[89504e470d0a1a0a0000000d49484452000001000000010008060000005c72a86600000006624b474400ff00ff00ffa0bda793000000097048597300000ec400000ec401952b0e1b0000200049444154789ced9d7d6c1b5776e80f6d27a1e36d3c4e6478d43f1e87c802a55357a68ada4b3b2e4201ee96b2f0b63462548a1fba92d7ca4af6ba35055090b571aa28cd4651a5828e9f5f24eda3202a5d5872e1425abf2a620167c9201fd22a45384e1d8bdeac97a3c5261a574ac86c5c6b12c79af70739d290e2d7f04333c3393fe00012e7de3be7de997be6dc3bf7dcd1f13c0f08a21422918881208839b9f5d00a1be45600292e3a9d8ed7e974aab0f22ccb5694979733c78e1dfb586e5db4021a004431783c9e7fe4384e6e3534051a0044310c0f0f57010034353575cbad8b564003802802bfdfef0806830f9a4ca6af2d168b5b6e7db4021a0044110c0f0fff0800a0a9a9e90db975d1123a7c0b50da0813803ccfebe4d625151cc711dbb66d0b03008442a1dd24497e28b74e5a013d0044763c1ecf6b1cc781cd669bc7cebfbea0014064677878f87f0200d4d7d70fcbad8bd6c0214089a3f421004dd3b5959595a324492ecfcfcf6f945b1fad811e00222bc3c3c36d00000d0d0d3372eba245d003287194ec01701c47188dc6cf5896dd100a85fe9ca2a877e4d6496ba00780c886d7eb6d63597683d56a8d60e797073400886c0c0c0c340200d4d7d7ffabdcba68151c0294384a1d02c4027fae1104c1cfcfcf3faad7eb2372eba445d0034064a1bfbfff3c00405d5ddd2c767ef9400fa0c451aa0760341aef310cb3291008d499cde64b72eba355d00340d61dbfdfef60186693d96c5ec2ce2f2f68009075676060a00500a0bebefedfe5d645ebe010a0c451da1020128918cacbcb19000cfc5102e80120eb8ac7e339c7711cd8edf6df62e7971f3400c8ba323c3cfc970000f5f5f5ff576e5d101c02943c4a1a0208813f14457d130a851e905b1f043d00641d11027feaebebdf955b17240a7a00258e523c008ee388f2f2f2cf2391880e037f94037a00c8ba303e3efe622412d1d96cb645ecfcca010d00b22e0c0c0cfc0d00407d7dfd88dcba20abe010a0c451c2108061980346a3f16d92249743a1d063b8f65f39a00780141d8fc7f31200405d5ddd35ecfcca023d801247091e407979f97d96653760e08ff2400f00292a5eaff72ccbb21b30f04799a001408acac0c0c0490080a6a6a671b97541d68243801247ce2100cbb21546a3f11a00c0fcfc3c4510c4dc7aeb80a4073d00a4688c8e8e76721c07757575bfc6ceaf4cd00020454314f8f37fe4d605490e0e018a80e07623a9917b693212053d0004d1309be456a09451c2534e8e4940e173df1cc7c1fcfc7cdcae3fe81d290bf4009082333a3ada1bdbf5073ff7ad70d0002005677878f86900fcdcb71ac049c022a084e5b772e9f2e69b6f3a0f1e3cd8932af047496d83a007801490f1f1f1ae93274ffe0400037fd4027a004540494fb9f5d4c5fc277fb2f45130a8ffe69b6f607676b6c66432bd21a73e4866f02d005210fc7ebfe3daf5eb7a00008bc5722759e74794070e01148e4ea7e3f391429593e9f55d7757d7d97dfbf6dd0100686a6ac2a83f95801e0092171cc711879f7aea774186d91cba7d7be3e8e8e879bbddfef772eb8564071a0085a3e4b1722412311c3b74e83f994060cbe9975ffe370080babababf935b2f247b7012b0086861a28b619803c7aaabdf3c7debd683271e7c10667ff7bbacc27db5d0366a02e70010c9d0345d7bacaacae70a061f64efdd03fbd34fdfc2705f758206009184f7ca95975aaaab2f0e31cc2633000c13045f7fe2c42b72eb85e406ce012059e379edb5d14bcf3fffd7639f7fae23008006006edbb6fb168bc52db76e486ea00140b2a2fde4c9ebeca54b4f4c7efef9cad87d78cb16a83f79d22ba75e487ee024601128a5892e8ee38813b5b5b37fe4f3ed38f3e5972bf5e100c0b8654bd6937f02a5d436a5007a00484a229188e199bff88b1bb5376e6c6eb87b37aec38e0380f5a9a71670f24fdde02420921486610e1cdeb7ef576dfff11f0f27767e00800182e09b5a5b5f964337a470e010a008a8ddcda569bab6e5f0e19fb96233fd893000505556b61c5a58d828b56cb5b74da9811e001287dfef77885ff3256340af87a6d3a77debaa185214d00328026a7dca79af5c79e9d5e3c7db471617371069d2953ffc30046eddda9dcb765f6a6d9b5205270111000018fde77feebfd4dafaecd8e2e2067d9a745e00305754dcc1bdfe4a03340008785e7b6df4dfcf9efdeb91705897aef303000c6cddca37b5b55d5817c590a283438022a02637f795e79e7be7667ffffe21d1029f54b000b0efd147f9d94f3e7934d7edbed4d4365a003d000df382c311f8cae3d93df4c5175975c6d14d9bc0fef4d33771afbfd201df026894171c8e000c0fefeecab2f303000c6fd9c2d79f3cf94211d542d61934001a44e8fc2f442259777e3f0010462367369b71bbaf120287001ae35c5797f78ba1a1ddaedfff5ed218fcd5ad5bf9d31d1daf164b2f441e7012b0082875a2cb7be5ca4baf1e3bf6e3c92c26fcc4b00050f9c823fcfc175fe4ed312ab56db40a7a001a21180c1eeafce10fdba5767e0080ee2d5ba0edf9e7278aa117222fe8011401a53de5229188a16ad7ae5b639f7cb29192989703809d8f3cc24fddbc692ec4e21fa5b58dd6c149400dd07eea94afe9bffe4b72e70700e8dfb409ecb5b53771e55f69821e401150d2536e7a7abab1a5bafaa7531266fc050afdf4075056db20380750f29c387ab46f2887ce0f804f7f2d8006a084f17abd67c9707863aab0de747000f0eac30ff3532fbe585b68bd10e580730025cccf47461afe2ac7a7ff39bd9eafabafff109ffea50dce011401a58c738ddbb7dff72d2e6ea024e62b44d04f2a94d2364814f4004a182687ce0f00d0be752bdff1ca2b3fc3a09fd2073d8022a094a79c4ea7937c7569003866347e13f8cd6f1e28964e00f2b70d12053d8012867ce4119e95903e0200c7b66f5f1efbc52faa8aa513a22cd00094304d7ffbb7eff56fcafe45cf338f3eca77b9dd5d1445bd5344b5100581438022a014379765d98aaa5dbbe8a9cf3ed3a5dbe4930380135bb7f27ff4a31fbd77e6273f39504c9d94d2364814f4004a1892243f1cb97af599c324b9cca448130480aac71e5bfe4e47c79562777e4479a007500494f694f35eb9f2d289e3c7dbad1ca733dcb9a3b34274b2ef1241f091871f5e1e9998f85febb5d187d2da46eba00128024abdc93d1e8f9b61986fbff5f39fef35efdbf79bdaef7fffdc7a7fda5ba96da355d0001401bcc953836da32c700e0041340c1a0004d13068001044c3a00140100d83060041340c1a0004d13068001044c3a00140100d83060041340c1a0004d13068001044c3a00140100d83060041340c1a0004d130f865209910c2624b110cf5550fe801208886410f40664ae96959ca5e4da9821e00826818340008a261d000208886410380201a060d00826818340008a261d000208886410380201a060d00826818340008a261d000208886410380201a060d008268188c062c5122918881a6e9c3c160702fc7719bcd66f35b2693e91724497e28b76e8882e0791ea5c002007cb469f34b938bcccfcf57d8edf64f85f213c56ab586a7a6a61a4badde28395e33b915284591ab230c0d0db90982584eecf056ab35acd7ebe30cc1993367a69696968852a8374a1ed74c6e054a51e4e808e2a73e4551f7262727cf26a6999a9a6ab4582c5f0ae94c26d357f3f3f3156aae374a9ed74c6e054a51d6bb230c0d0db985f21a1a1a3e0e87c38674e9bbbababc42fae6e6e68fd45a6f94025c33b915284559cf8e100e870d2449de97da995d2ed798a0432010a8555bbd510a23b22b508ab29e1dc1e1707c00003c4992f7333df913c56c36df0500de6c36df555bbd510a23b80e40e58c8e8eee0600e8e8e8b84410c49c94bc2e97ebc70000344d6f8e44228662e887281b34002a8665d90a966537000058add69f49cd6fb55acfe9f57a0000989e9efe9b02ab87a80034002a86a6e9ef01001004c19b4ca6377229c36c36df899575a090ba21ea000d808a113aadc964faef5ccb309bcdbf0500b879f3e6e385d20b510f6800548cc9640a0000300cf370ae65b02cbb0d008024c9c542e985a80734002ac66432bd0d00c0b2ec0696652b128f330c93d1ad9f9e9ede0100f09def7cc75f700511c5830640c5984ca6370882e00100a6a7a79f111fa369bad66834bedddede3e952a3fc33007844944c19820da020d80cab1582c9f01007477779f12ff7eecd8b12100801d3b76b0a9f27676760e01009024b99ceb2422a272e45e88508a02ebb820261008d40a65f5f5f55de4791ec6c6c6ba20b6d63f55c08fcfe77308f9868686dc6aab374a614476054a51d6bb2308ab010982587efdf5d7fb85a5c16363635dc9d24f4d4d355214750f00788bc5f2a55aeb8d52806b26b702a528ebdd1196969608a1430bf2ddef7e773159daaeae2eaf101aacd7eb0b16072047bd51f2175deca2200544a7d345ef749ed7e593460a2ccb561c3d7ad4eff3f9b609bf99cde6258bc512d2ebf55fd1346df4fbfd8470cc64327d3d3232f27db3d97ca910e70790a7de487ee09660250249921f1a0c86cf0060dbc68d1be1fefdfb40d3f4669aa69f484c7be6cc99e98e8e8e6abd5e1f9141554441a0075004e478cad1345d5b595939aad7eb21180c3e190a85f64e4f4fdbae5dbbb693e3b80776efdefd2babd53a6e369bc7a4060d1512f40094051a802220c74d5e555515f6fbfd84cbe51a77381c87d7ebbc524103a02cd0001481f5bec9c7c7c7bb0e1f3e7c8624c9e55028f498925d7b3400ca021702a91c8ee3889696162700405f5fdf3f2ab9f323ca030d80cae9efef1f62186693c562b963b7dbdbe5d607511738042802ebe5e6b22c5bb173e74e3a1289e80281405d215fe9150b1c02280bf400544c7777b7271289e8eaeaea7eab86ce8f280ff4008ac07a3ce5c4affd42a1d06eb57cf20b3d0065811e804a696f6fbf0000d0d6d6f6965a3a3fa23cd0032802c57ecaa9e9b55f22e801280bf4005406c771446767e7690080aeaeae2135757e4479a0015019fdfdfd43344d6f369bcd4b0d0d0d8d72eb83a81b1c02148162b9b92ccb56545656065896dd303535f5acc5627117b2fcf5008700ca023d0015d1dddded61597683dd6e9f5763e74794077a0045a0184f399aa66bf7eddb370a00303b3bfbe71445bd53a8b2d713f40094057a002aa1b3b3d3c5711c34373707d4daf911e5811e401128f453ceebf59eadaeaefe0735bef64b043d0065813b02158142dfdcededed3f0600686b6bbba2e6ce0f801d5f69e01040e19c3b776e4c78eda7e48d3e107582430005c3711c61341a3f635976c3e4e4e4f3369bed25b975424a0bf400144c7b7bfb2f84d77ed8f99162801e80426118e6c0ce9d3bdf0600989a9a5245ac3fa23ed00350282d2d2dff22bcf6c3ce8f140bf4001488dfef77545555b948925c0e04029518ee8b140bf40014484b4bcbcb00d1d77ed8f9916282064061783c1e374dd39b4d26d3d7cdcdcdc7e4d607296d7008a020c4affdc6c6c65ec15d7e9162831e8082e8ecec9c64597683cd665bccb9f3cf0d7aaa75ad338383d50b3a9d8ed7e9747cf5e0dcfe95e3fed619e1f7f86373fb07ab757cebe0a0a75a38deea77c4a56ff53b4427da3f582d94d33ae3cfa3de888cc8fd796294a8cccfcf57089fedceeb93dd8cdb6303e06d6e663fcff3c0fb9c3300ce191fcf03cffb1c4e00dee98ba58d3bc6ec77db80079bdbc388d2c6ff6f5b7033d1bc3e27f0e0f439789e07c66d5b10fe465197a007a0104e9c38e18dbdf6bb91ff6b3fdbe2918386f70000c068ba615bf9dd7aae87e7753dd6d8bf71c7a238db8e3718a207674cb6c4ffbd65c1100080df31d16b5b749fb29e0300301c3c3261eb9d38eacf4f694406d00028009aa66bc7c7c7cbf57a3d7474743c937f89bb428f1b521d13b9ee5463bd37e77378cb1a297139d78db764fbe630922b680014c0b163c7860000bababac68bfada6f6ed053ada3de0db6f13a9ee7753ce31e4ef400b2c7b6e86662e5f0bc8ee727b71f4f697410a582064066464747cfd334bd9924c9e5a2bff60b059ff082f3fd1a6bf45fff855c9fdcd673354e6f59e385d8a4a0bf75062702d5091a0019897dd9f74700ebf4655feb2987dbd6bba72a36ab3f51c33ce9b6893ab294a27a7c2dcede2a974ea7e37555d78d6ea667afb5082a23c505d701c8c82bafbce26d6f6fff4b8bc572676a6aea0fe4d607d11e6800648265d90aa3d1788de33850cb977d91d203870032d1dedefeaf1cc7017ed9179113f4000a08c330071886f9338ee3be353d3d7dd06c364f1104719b24c95f994ca63784746afdb22f5282c8bd1249ed120e870d2e976bcc6c36df05003e95984ca6af3a3a3afca150e880c562f91200f88e8e0ebfdcfaa3685bd003c883fefefe8bededed759148246ea75b93c9f4354992772391c843344d6f161f7be08107e0debd7bb063c78e65866154bdc5375202c86d81d428e170d860b55ac3107bba1304b1ec70383e48b5867f7676f650474787df6030dc13f2949595dd9f9d9d3d24775d50b42db22ba03609854207288a5ae9c80e87e38370386cc8266f4f4fcfff03007ee3c68d2b86c3e7c3201a14f9447605d424e170d8603299be123aefd8d85857b679c5d17eafbffefa806044088258464f00452e915d013589dd6eff54e8b45243761d0ec70700c0dbedf64f793ede98984ca6afb2f52250500a29b22ba016191b1beb12dcfec9c9c9b352f20602815a00e0f57a3d1f0a850e08bfcfcece1e22086259184ac85d4714ed89ec0aa84196969608c165cfa5a3da6cb6855479474646ce0bc6617e7ebe42eebaa2684b6457400dd2d7d77731d74e2a780e2449de5f5a5a2292a511d610a01780b2de22bb026a10e1959fd40ebab4b44408e37c97cb35962a9de0059024795feebaa2684b645740e9120e870dc2ecbdd457762e976b0c0078b3d97c37d33984f985a9a9a946b9eb8ca21dc160a00cd0347d98e338200882b75aa37be06503cbb215dddddddf0300e8eaea7a395d5a8220e62c16cb1d0000bfdf7f243f8d11247bd000648061985d00000441dc9792afbbbbdb23e5cbbe14457d0e00f0c5175f6ccd4d5304910e1a800c442291c70000288aba936d1e9aa66bfbfbfb2b639b7cb664938724c9cf000058962dcb4d5304910e1a800c4422916d52f3747676ba388e03bbdd9e75acbf5eafff4aba7608921f6800324051d4af01002291c843d9a46718e6c0f4f4f40e0080d1d1d1ffb16fdfbe2fc7c7c7bb32e5139efc04417c998fbe08220534001920086201008065d9ac0c004551ef8442a1c75c2ed7384992cbd3d3d3df3a7cf8f099cacacabbe90c01c3306500005bb76efd7d61344790cce07e00196018e680d1687c1b00607676b646bcb34f26388e23fafbfb87babbbbbfc7b2ec060000b3d9bc74faf4e98b0d0d0d8de274e5e5e59f4722115da13e0aeaf74777fa0d06837b398edb6c369bdf8a9d7f8c2008fc84071245eef7906a1061314f57579737d732868686dce230628aa2ee0d0d0db9799e079fcfe780d84ac354ab05b391bebebe8b76bbfd5361dd422ab15aad6197cb3586014828b22ba0063973e6cc146458ce9bad243304bb77efbe0b00bccd665bc8a5ccb1b1b12ec1488945afd7f356ab356cb55ac32449de4f3c4e92e4fd742b14514a5f6457400d228ee52f5487191919399fb88fe00f7ef0839b520c4c381c36d4d5d5cd893b7c7373f347e9f629989a9a6a74381c1f08518800c05b2c962f3110499b22bb026a11b117200ee9cd4796969608a3d1782fd95339937b1e0a850e889ffa0d0d0d1f4bd12b1c0e1bce9c3933251836dc9d489b22bb026a117148b0c562f932dfa100cff3203cbdf57a3d7fe1c2854b89fb0c767474f893198270386c10ef28246567a244090402b5e25d8ea46e7482a26e915d0135c9ececec21e189998fdbbcb4b444885df7919191f3c2319fcfe748660884732d2d2d11c2f1426d272636281445ddc3e18076447605d426232323e705234051d43da96e732010a815be0b0069be0d906808f47a3def70383e78f1c517df147e93ba33513a11ef4ed4d0d0f0b1dced8cb23e22bb026a149fcfe7104fa2d9edf64f33b9ceb3b3b3879a9b9b3f128ff7fbfafa2e663a572010a815f62204005ea7d3f100c03ffbecb3b385aed7d0d0905b380f0e05b421b22ba056999d9d3d246cf5257ea567b7db3fede8e8f00bd2d0d0f071e22b3ab3d97c576adcbf78ac9eebc45f3622bc99a8abab9b93bb8d518a2fb22ba076999c9c3c2b76e9d389c964fa2a9ba77e2a110c40e2ebc3421a02f11e858598e84451b6e052e002c1b26cc5f8f8f8199665fff097bffce51f731cb70900e0a9a79ebaa6d7eb39bbdd7e5eca32e24482c1e0a19d3b774e00449724ebf5fadf7776760e793c9e6f0b69ec76fb7c4747474b3e5f1be6388ed8b66d5b98e338181919f9df7575757f976b59880a90db02a16427e2cd45c5bf8742a103cdcdcd1f8997ff663327914e84a10d7ebcb4f405a30155422412d90e00409264dcbe011445bdd3d7d7f7c7a15068b7c3e108e8f57a181f1f2fafacac1cadaeae5e108282a44092640400e0f6eddbdb0ba33da254d000a8048661be0d00401044d28d434892fcd0e572fda9d81078bddeb2aaaa2ad7e8e8e87929e732180c9f0000701cf760fe9a234a060d804a2049f2d32cd37de872b9fe747e7e9eeae8e878cb64327d6db7dbff5ecab9f0c9af1dd000a80482201601001886f95696e9e75e78e105ebececec437abd3e22e55c2ccb6e0358f50490d2050d804aa028ea4300009665374522114331cf45d3f47600008220c2c53c0f223f68005482c562719324b9cc711c8c8f8f3f5facf34c4f4f37320cb30900c06eb7ff53b1ce83280334002ac26eb70701005e7df5d5a3c53ac7c0c0401b0080c562b94351d43bc53a0fa20cd000a888a6a6a6170100689adeecf178dc852e9fa6e95a616151535353ce8b89101521f742041469d2d0d0f031147863129e8f86190b4b9a337dcb10a57444760550a4c9fcfc7c85108968369bef166abdbe787312fc40a97644760550a4cbd4d45463213626e1f9b59b93e413ac84a23e915d0194dc4488da138603b9ece71708046ac59185b8f65f7b22bb0228b94be2c62456ab359ccdfe803e9fcf21de6444afd7c76d4b86a21dc1706095c330cc819696967f191f1f2f177ed3ebf560b15822168b25f8d0430fadc40ebcf5d65bbb83c1e023c2578a0000ac566bc4e57235e713428ca818b92d104a61241008d4d6d5d5cd65fa2a1048f416504a5bd0032831388e23bc5e6f1b4dd3fb6edfbebd3d180cfe21000045518b0683e1138aa27e6db7dbff01bf0f8800e0c7411144d3e04a4004d13068001044c3a00140100d83060041340c1a0004d13068001044c3a00140100d83060041348c320cc0dca0a75aa7e3ab07e7f6affdbd7a61b0206bd6fc8e569d8e6ff517a2ac7cf528549d10453137e8a9d6b5cef8e5d64302ca300031bc8d17cef973ce8d1d0b41a4a22003605b743aaf1bab5aa57fca0a4190dc50900100309d6afb89b3b7fbb9d44ff1b9fd83d53a5ea78b49f5a0279ad4ef68d555b97ac15bd64865f002265a6756f227ba6b7ef1b18421496c98221c8b1f4a88f55aeb02fa5bc565de32a76f8554758415177370b07a21a98e69cb12e995b19c34f9aa5b675aabe3db20be7e831ec113f3b7ea785d9c41cfe0a5a56cffa83ead83e26b206ee70cc793ea9da69dd3ea22d423d531805ba276957fc89901b9c311799e079e717b6c605b70333cf03ee70cd8dc1e26f1779ed9efb6010f4e61e79bc4ff7d0ee74ada64e2733801f895b2791e18b76d61f5ffe871a72f96dee79c0170cef856ce252a5bac23cf83cfb9aa07e3b62dacea147f6ce5ff947a66a823e3f6d800789b9bd9bf56c7b59252af0ce5649d6f4d1b26d42f51bf84764b767d52b73ff0e2b218b76d21ebe36bf4cee65e4aafcb6a59a2b412af8f12447605566facf88ebedaa0b1df19b7c796d89871bf656300128fa7c9135776e20d92a68c4c3ac5d535dd3993fc96983759fa6cf44a5b8e847c891d654d7ed1b5e4a3c6416c3c32df13a93a5de2b9331ccfa6ddd2b5e59a3648972edbeba30c51d410208ae1bde3fdeee1ebdd092e59d2a48fd3bbe0baf156ce137fc61993cd5b160c09ff8bdc42aab1de2bd669d2d7e2ecad722577fbbc658d94385f4ca7b95be6eb497596c09a3aee0a3d9ef587c152e895b11c29f96c8b26634ae5df3b78c4b6d83be17700f81d13bdb6c523070defa5d63755fbc7cefcb838af71c66493723c43bbad69e714ba84824f786da61b29ab2ce9fac88f020d0000188e37b4ed6aac6fbe107c226dbab95be6eb793578686fd01bbb81e7063dd53aeadd601bafe3795ec733eee1f8fbcb7aae878f1df339df8f7f63615b7433b1633cafe3f9c9edc70d20bdb32723af3aa6d0aba0f9c406742d868347266cbd1347fdfe89a3bdb6231307539593b1fd1309ed0d265a0849c713cf2f6ae774ba184d376cdee01369aaac2ee4764192ba4e22170e52ce01248eafa5cf01f89ca2ff938d8357ca4b283bcd1c40d272528d91d7e898a18e892e65061733a55e19cac93a1f9f610e405c27c8e0fea76dff1463fc95f36638be46ef0ced9c852e89f3093637b35feaf55182c8aec06a43aded14d1899ce43713247466f1b1f831a920b14eec76ce64ca1f2d23e126f189f2a53456c93b77f406123a81db93de50a5a9a3e41b2c855e19cbc9325f96f58b9fb0cbaedef1ed1f9b4b708aafc1da0e9df27852bdb3bb9792de0b71ed93ad818e9f0f518ac8ae004aa949124fcce79c493e819aad64ea3ccaec5c6a1065ce01202a213a51269e109d1bec7e2e71acef9fe8dde3acb19e934343243d6800903c88be1dd9d548bd2bbc1da11a77857c93c71b0c002b8b69aac0d7d2639559552429b82b30826818f4001044c3a00140100da31003100bae480cc888313758bda02b52a8ef4a204b8a738b94588df54e17f79d6b4cb80a63c98b4631da02af4b5236c9ad401cdecb3557e78e43fcaab3b9fd572f7bcb006c8b053fdfdca0a7bbd7b6e866b258216738de3099cd7449b6e91483dfd1aaeb7ece944d1bac17b2b661427ba8ee7a4a43211e0040743f0080cb5713c25bfd17ce35ee72beef2cda79d5b5761b410a89820c0080a9e6c8045cbefa43b12b1e7d875c73312e618a586d49f1e773839e6aaab1de0bbd7baac471dba9e2c0b37505930c15b28fdf8f2b28af7d0152c5e8c7936a1f856cf703481287dfea77c4b561ba0d5e52edb110d7d612ce91788dd25db3a4d739497bac29a390fb35c88fa20c00180ffef4085caeb9bad2a27ec744aff3fd1aab3891dfd15ad5bbc7e95b1b9863ad71be0fbd1347fd2b49d304a0188e374c32ee611b38dff7f1bc2efa9e3a75d9b9d3bbe732f4ff95b4f2e6f60f5653ef36eef2b5f03cafe379e6493734d65371b254045e000002c2494441549d2975b97383d50b55d7ddc34c2c98a72dd858df9bf43cd6733dbcafc509f1c3207febeab91977c22e4ddede3dd78f304ff22b6d06d07b19a09fe7753c1f8b98ec36dd6056fe4fb5c1cbdcfec1e6cb354798d5b6ee4d13019adb395291ea3a276f8f389df3b82e4a445906000cef1d3c221a06f8278ef63a6b2e5ae3d244a3f2561696184d375622b5aca71c6e5bef9e093fc4b2f7eeb11d39f8d3ec3dfc3465e78c280436dbf2e6aefef0b2d7f9beaf47583d170d91b6898d5bca72fd8e0b8dde32675b6c310e00587b7c2dd90fa1a261bbee53d173af44f3253b6f8cd573454370e3ff4f172de82d6bbc10eb3cd69ebdfce4aace89e47e8e64e4789df3ba2eca446106207ac309c380d44b4853c7ed4b8b3f4f46fa9874e914688e41d2be00a963f4e744ee69b2edcba2e4ba8f801432edb1506c0a749df3daaf417e146700c0200c0392b9ff90316e3cebf8f364488e495f4724ed0b90fa8968383eb99d5f89f3efd96b4d9a2ad77d04a4926e8f852252c8eb9cf79e14f2a23c03200c039abb9f5bebfe4374471658350cfe0b094f28c3c19f1eb1f5eea9aa92eafe6751f67a21d44134b6f45f68acf7266b8f3558cf9d72db16c5e3697f6b952bf91c40f2fc354e916bee6f9d49ed29e4439209dab43bed6481e1717a17ac0e01e7ae5eae49fa64cff53ae7755d9489020d406c18e0f5962575ff63e3fcaa98db3851c33ce9b6896ed8d83000c0f97edb7189ee7fc6b2d70bc37bc7279927ddd757dde3aaebee61a627bb883ac3f1c9edbe5d8df5542c6fb7c93d9c7a0e203a866ea45667e1ad3d22d7bceabad1cda4f214f2c17aaec7b72bb432d4a8ba6e74f7a79e03c8b6cc536edb626f55b4cc66383291b4de69aff3daf65825bfeba2444a3318c8df3aa39ba8b9c8abf8c21416052ef6411481223d807cd176fc797631fa08020025b62390b06d575ebbcf9482246c59a5f07de950e493d21c0220089215ff1f22e9e816b85b61170000000049454e44ae426082]]>
   </Icon>
</Icons>
 <Model version="4.4" build="4.4.1.4356">
    <Sidops>
<![CDATA[Eng_Cyl1 334.5 316 description '<Information>
 <Description>
    <Version>4.4</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
  <AllowLibraryUpdate>True</AllowLibraryUpdate>
  <Configuration>
   <struct>
    <member>
     <name>DocumentationMask</name>
     <value>
      <struct>
       <member>
        <name>MaskChoice</name>
        <value>
         <int>1</int>
        </value>
       </member>
       <member>
        <name>BitmapFilename</name>
        <value>
         <string></string>
        </value>
       </member>
       <member>
        <name>ScriptFilename</name>
        <value>
         <string></string>
        </value>
       </member>
       <member>
        <name>Scaling</name>
        <value>
         <double>1</double>
        </value>
       </member>
      </struct>
     </value>
    </member>
   </struct>
  </Configuration>
    <LibraryPath>engine\engCyl2Stroke1ZoneConv.emx</LibraryPath>
  <TimeStamp>2014-10-9 22:45:30</TimeStamp>
</Description>
</Information>'; type Submodel  ports   rotation out M;   power in in [3,1];   power out out [3,1];   signal in input [6,1];   signal out output1 [2,1];   signal boolean out exh_open;   signal out p_cyl;   signal out V_cyl;   signal out p_max;   signal out T_w_phys; end; icon bg bottom shadow 11776947  figures   text 'name' 339.5 347.5 16;   line 328 384 296 368 326.5 314 width 2;   ellipse 316 372 340 396 width 2;   ellipse 320 304 336 320 width 2;   ellipse 285 356 309 380 width 2;   line 304 320 304 288 352 288 352 320 width 2;   line 296 336 296 232 360 232 360 336 360 336 width 2;   line 368 200 352 240 width 2;   line 328 200 328 240 width 2;   line 312 240 344 240 width 2;   spline 351.5 240 327.5 264 337 271 351.5 240 351.5 240 fill 255;   text 'Not based on energy approach. 
May fail in long-term simulation.' 334.5 418 16;  terminals   M 328 384 fixed;   in 278.5 346 fixed;   out 334.5 194 fixed;   input 374.5 194 fixed;   output1 366.5 194 fixed; end; implementation bg  submodels   CrankMechanism 438 562    description '<Description> <Version>4.4</Version> <IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate>   <Configuration><struct>  <member>    <name>DocumentationMask</name>    <value>      <struct>        <member>          <name>MaskChoice</name>          <value>            <int>1</int>          </value>        </member>        <member>          <name>BitmapFilename</name>          <value>            <string></string>          </value>        </member>        <member>          <name>ScriptFilename</name>          <value>            <string></string>          </value>        </member>        <member>          <name>Scaling</name>          <value>            <double>1</double>          </value>        </member>      </struct>    </value>  </member></struct></Configuration></Description>';    type q_gr360     ports      power in p1;      signal out q_rad;      signal out P;      power out p2;      signal out flow;      signal in p_scvg;    end;    icon bg bottom shadow 11776947     figures      ellipse 435 596 459 620 width 3;      line 448 608 418 582 448 528 width 3;      ellipse 406 570 430 594 width 3;      ellipse 439 520 455 536 width 3;      line 422 536 422 504 470 504 470 536 width 3;     terminals      p1 448 496 fixed;      q_rad 488 536 fixed;      P 488 512 fixed;      p2 448 624 fixed;      flow 448 608 fixed;    end;    implementation bg     submodels      FlowSensor2 296 600       knot FlowSensor        ports         power knot in p1 [1];         power knot out p2 [1];         signal knot out flow [1];        restrictions         causality constraint not_equal p1 p2;       end;       icon bg ellipse        figures         ellipse 289.5 593.5 302.5 606.5 fill 16777215;         text 'f' 296.5 598.5;       end;       implementation eqequations	p2.f = p1.f;	p1.e = p2.e;	flow = p1.f;      implementation_end;      MSe 216 424       description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\MSe.emx</LibraryPath>  <TimeStamp>2011-11-29 16:12:33</TimeStamp></Description></Information>';       type MSe        ports         power in p;         signal in p_scvg;        restrictions         causality fixed out p;       end;       icon bg bottom        figures         text 'MSe' 216 424 18 bold;       end;       implementation eqvariables	real flow;equations	p.e = p_scvg;	flow = p.f;implementation_end;      MTF2 296 512       type MTF        ports         power in p1;         power out p2;         signal in pfi;        restrictions         causality constraint not_equal p1 p2;       end;       icon bg        figures         text 'MTF' 296 512 18 bold;       end;       implementation eqparameters	real global slag, alam;variables	real m;	real csin, ccos;equations		csin=sin(pfi);ccos=cos(pfi);	m = slag/2.0*(csin + alam*csin*ccos/sqrt(1.0-(alam*csin)^2));					p1.e = 1/(m + 1e-20) * p2.e;	p2.f  = 1/(m + 1e-20) * p1.f;     implementation_end;      plug q_rad 416 552;      plug P 408 376;      plug p2 296 648;      plug flow 416 600;      plug p_scvg 88 424;      plug p1 296 312;      OneJunction3 296 424       knot OneJunction        ports         power knot duplicatable none p [1];         signal knot out flow [1];        restrictions         causality constraint one_out p;       end;       icon bg        figures         text '1' 296 424 18 bold;       end;       implementation eqequations	sum (direct (p.e)) = 0;	equal (collect (p.f));	flow = first (p.f);    implementation_end;      PowerSensor2 296 376       description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\PowerSensor.emx</LibraryPath>  <TimeStamp>2011-11-29 16:29:42</TimeStamp></Description></Information>';       knot PowerSensor        ports         power knot in p1 [1];         power knot out p2 [1];         signal knot out P [1] {W} ;        restrictions         causality constraint not_equal p1 p2;       end;       icon bg ellipse        figures         ellipse 289.1 368.8 302.9 383.2 fill 16777215;         text 'P' 296.5 375.8;       end;       implementation eqequations	p2.e = p1.e;	p1.f = p2.f;	P = p1.e .* p1.f;implementation_end;      QSensor1 296 344       description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\QSensor.emx</LibraryPath>  <TimeStamp>2011-11-29 16:34:15</TimeStamp></Description></Information>';       knot QSensor        ports         power knot in p1 [1];         power knot out p2 [1];         signal knot out q [1];        restrictions         causality constraint not_equal p1 p2;       end;       icon bg ellipse        figures         ellipse 289.1 337.3 302.9 351.4 fill 16777215;         text 'q' 295.5 341.6;       end;       implementation eqequations	p2.f = p1.f;	p1.e = p2.e;	q = int (p1.f);implementation_end;      QSensor4 296 552       knot q_        ports         power knot in p1 [1];         power knot out p2 [1];         signal knot out q_rad [1];        restrictions         causality constraint not_equal p1 p2;       end;       icon bg ellipse        figures         ellipse 289.5 546 302.5 559 fill 16777215;         text 'q' 295.5 550;       end;       implementation eqparameters	integer global ncyl;	integer icyl= 1;	real global nstroke;	real global pfi0[ncyl];variables	real q0;	real b;	real q_gr;initialequations	q0=pfi0[icyl]*pi/180.0;	b 		= nstroke*180.0;	equations	p2.f 	= p1.f;	p1.e 	= p2.e;	q_rad 	= int (p1.f, q0);	q_gr	= q_rad*180.0/pi;     implementation_end;      Splitter1 360 552       description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';       knot Splitter        ports         signal knot duplicatable out output [1];         signal knot in input [1];       end;       icon bg ellipse        figures         ellipse 356.8 548.8 363.2 555.2 color -1 fill 0;         ellipse 355.7 547.7 364.3 556.3 color -1;        terminals         input 360 552 fixed;       end;       implementation eqequations    collect (output) = input;implementation_end;      TF2 296 472       type TF        ports         power in p1;         power out p2;        restrictions         causality constraint not_equal p1 p2;       end;       icon bg        figures         text 'TF' 296 472 18 bold;       end;       implementation eqparameters	real global Diam;variables	real r;initialequations	r=1/(pi*Diam^2/4.0);equations						p1.e = r * p2.e;	p2.f = r * p1.f;       implementation_end;     end;     connections      OneJunction3\p => TF2\p1;      TF2\p2 => MTF2\p1;      OneJunction3\p => MSe\p;      MTF2\p2 => QSensor4\p1;      PowerSensor2\p2 => OneJunction3\p;      QSensor4\p2 => FlowSensor2\p1;      p1 => QSensor1\p1;      FlowSensor2\p2 => p2;      QSensor1\p2 => PowerSensor2\p1;      Splitter1\output -> q_rad;      QSensor4\q_rad -> Splitter1\input;      PowerSensor2\P -> P;      FlowSensor2\flow -> flow;      Splitter1\output -> MTF2\pfi 360 512;      p_scvg -> MSe\p_scvg;     end;    implementation_end;   Demux 489.5 72.5			specifications active 'outputs_6'				specification 'default'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-10-5 22:44:58</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal in input [2,1];   signal out output2; end; icon bg bottom  figures   line 129.5 64 129.5 96 width 2;   rectangle 125.5 64 133.5 96 color -1;   text '2' 134.5 91 color 8421504 8;  terminals   output1 129.5 72 fixed;   input 129.5 80 fixed;   output2 129.5 88 fixed; end; implementation eqequations	[output1; output2] = input;implementation_end;specification_end;				specification 'outputs_1'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output;   signal in input; end; icon bg bottom  figures   line 128 64 128 80 width 2;   rectangle 124 64 132 80 color -1;   text '1' 133 82 color 8421504 8;  terminals   input 128 72 fixed;   output 128 72 fixed; end; implementation eqequations	output = input;implementation_end;specification_end;				specification 'outputs_2'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal in input [2,1];   signal out output2; end; icon bg bottom  figures   line 128 56 128 88 width 2;   rectangle 124 56 132 88 color -1;   text '2' 133 83 color 8421504 8;  terminals   output1 128 64 fixed;   input 128 72 fixed;   output2 128 80 fixed; end; implementation eqequations	[output1; output2] = input;implementation_end;specification_end;				specification 'outputs_3'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal in input [3,1]; end; icon bg bottom  figures   line 128 56 128 88 width 2;   rectangle 124 56 132 88 color -1;   text '3' 133 82 color 8421504 8;  terminals   output1 128 64 fixed;   output2 128 72 fixed;   output3 128 80 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3] = input;implementation_end;specification_end;				specification 'outputs_4'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal in input [4,1]; end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '4' 133 83 color 8421504 8;  terminals   output1 128 56 fixed;   output2 128 64 fixed;   output3 128 80 fixed;   output4 128 88 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4] = input;implementation_end;specification_end;				specification 'outputs_5'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal in input [5,1]; end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '5' 133 83 color 8421504 8;  terminals   output1 128 56 fixed;   output2 128 64 fixed;   output3 128 72 fixed;   output4 128 80 fixed;   output5 128 88 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5] = input;implementation_end;specification_end;				specification 'outputs_6' description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal out output6;   signal in input [6,1]; end; icon bg bottom  figures   line 521.5 70.5 457.5 70.5 width 2;   rectangle 457.5 66.5 521.5 74.5 color -1;   text '6' 478.5 75.5 color 8421504 8;  terminals   output1 513.5 70.5 fixed;   output2 505.5 70.5 fixed;   output3 497.5 70.5 fixed;   output4 481.5 70.5 fixed;   output5 473.5 70.5 fixed;   output6 465.5 70.5 fixed;   input 489.5 70.5 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5; output6] = input;implementation_end;specification_end;				specification 'outputs_7'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal out output6;   signal out output7;   signal in input [7,1]; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '7' 133 83 color 8421504 8;  terminals   output1 128 48 fixed;   output2 128 56 fixed;   output3 128 64 fixed;   output4 128 72 fixed;   output5 128 80 fixed;   output6 128 88 fixed;   output7 128 96 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5; output6; output7] = input;implementation_end;specification_end;				specification 'outputs_8'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal out output6;   signal out output7;   signal out output8;   signal in input [8,1]; end; icon bg bottom  figures   line 128 32 128 112 width 2;   rectangle 124 32 132 112 color -1;   text '8' 133 83 color 8421504 8;  terminals   output1 128 40 fixed;   output2 128 48 fixed;   output3 128 56 fixed;   output4 128 64 fixed;   output5 128 80 fixed;   output6 128 88 fixed;   output7 128 96 fixed;   output8 128 104 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5; output6; output7; output8] = input;implementation_end;specification_end;				specification 'outputs_9'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal out output6;   signal out output7;   signal out output8;   signal out output9;   signal in input [9,1]; end; icon bg bottom  figures   line 128 32 128 112 width 2;   text '9' 132 83 color 8421504 8;  terminals   output1 128 40 fixed;   output2 128 48 fixed;   output3 128 56 fixed;   output4 128 64 fixed;   output5 128 72 fixed;   output6 128 80 fixed;   output7 128 88 fixed;   output8 128 96 fixed;   output9 128 104 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5; output6; output7; output8; output9] = input;implementation_end;specification_end;			end;   Demux1 361.5 72.5			specifications active 'outputs_2'				specification 'default'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-10-5 22:44:58</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal in input [2,1];   signal out output2; end; icon bg bottom  figures   line 129.5 64 129.5 96 width 2;   rectangle 125.5 64 133.5 96 color -1;   text '2' 134.5 91 color 8421504 8;  terminals   output1 129.5 72 fixed;   input 129.5 80 fixed;   output2 129.5 88 fixed; end; implementation eqequations	[output1; output2] = input;implementation_end;specification_end;				specification 'outputs_1'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output;   signal in input; end; icon bg bottom  figures   line 128 64 128 80 width 2;   rectangle 124 64 132 80 color -1;   text '1' 133 82 color 8421504 8;  terminals   input 128 72 fixed;   output 128 72 fixed; end; implementation eqequations	output = input;implementation_end;specification_end;				specification 'outputs_2' description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal in input [2,1];   signal out output2; end; icon bg bottom  figures   line 377.5 70.5 345.5 70.5 width 2;   rectangle 345.5 66.5 377.5 74.5 color -1;   text '2' 350.5 75.5 color 8421504 8;  terminals   output1 369.5 70.5 fixed;   input 361.5 70.5 fixed;   output2 353.5 70.5 fixed; end; implementation eqequations	[output1; output2] = input;implementation_end;specification_end;				specification 'outputs_3'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal in input [3,1]; end; icon bg bottom  figures   line 128 56 128 88 width 2;   rectangle 124 56 132 88 color -1;   text '3' 133 82 color 8421504 8;  terminals   output1 128 64 fixed;   output2 128 72 fixed;   output3 128 80 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3] = input;implementation_end;specification_end;				specification 'outputs_4'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal in input [4,1]; end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '4' 133 83 color 8421504 8;  terminals   output1 128 56 fixed;   output2 128 64 fixed;   output3 128 80 fixed;   output4 128 88 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4] = input;implementation_end;specification_end;				specification 'outputs_5'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal in input [5,1]; end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '5' 133 83 color 8421504 8;  terminals   output1 128 56 fixed;   output2 128 64 fixed;   output3 128 72 fixed;   output4 128 80 fixed;   output5 128 88 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5] = input;implementation_end;specification_end;				specification 'outputs_6'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal out output6;   signal in input [6,1]; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '6' 133 83 color 8421504 8;  terminals   output1 128 48 fixed;   output2 128 56 fixed;   output3 128 64 fixed;   output4 128 80 fixed;   output5 128 88 fixed;   output6 128 96 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5; output6] = input;implementation_end;specification_end;				specification 'outputs_7'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal out output6;   signal out output7;   signal in input [7,1]; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '7' 133 83 color 8421504 8;  terminals   output1 128 48 fixed;   output2 128 56 fixed;   output3 128 64 fixed;   output4 128 72 fixed;   output5 128 80 fixed;   output6 128 88 fixed;   output7 128 96 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5; output6; output7] = input;implementation_end;specification_end;				specification 'outputs_8'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal out output6;   signal out output7;   signal out output8;   signal in input [8,1]; end; icon bg bottom  figures   line 128 32 128 112 width 2;   rectangle 124 32 132 112 color -1;   text '8' 133 83 color 8421504 8;  terminals   output1 128 40 fixed;   output2 128 48 fixed;   output3 128 56 fixed;   output4 128 64 fixed;   output5 128 80 fixed;   output6 128 88 fixed;   output7 128 96 fixed;   output8 128 104 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5; output6; output7; output8] = input;implementation_end;specification_end;				specification 'outputs_9'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal out output6;   signal out output7;   signal out output8;   signal out output9;   signal in input [9,1]; end; icon bg bottom  figures   line 128 32 128 112 width 2;   text '9' 132 83 color 8421504 8;  terminals   output1 128 40 fixed;   output2 128 48 fixed;   output3 128 56 fixed;   output4 128 64 fixed;   output5 128 72 fixed;   output6 128 80 fixed;   output7 128 88 fixed;   output8 128 96 fixed;   output9 128 104 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5; output6; output7; output8; output9] = input;implementation_end;specification_end;			end;   EffortSensor1 256 320    description '<Description><Version>4.0</Version><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Bond Graph\EffortSensor.emx</LibraryPath>  <TimeStamp>2007-9-27 9:59:27</TimeStamp></Description>';    knot EffortSensor     ports      power knot in p1 [1];      pseudohydraulic knot out p2 [1];      signal knot out effort [1];     restrictions      causality constraint not_equal p1 p2;    end;    icon bg ellipse     figures      ellipse 249.1 313.3 262.9 327.4 fill 16777215;      text 'e' 256.5 317.6;    end;    implementation eqequations	p2.e = p1.e;	p1.f = p2.f;	effort = p1.e;     implementation_end;   ExhValve 568 328    description '<Description> <LibraryPath>Bond Graph\R.emx</LibraryPath> <Version>No Version Info</Version> <IsMainModel>0</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate>   <Configuration><struct>  <member>    <name>DocumentationMask</name>    <value>      <struct>        <member>          <name>MaskChoice</name>          <value>            <int>1</int>          </value>        </member>        <member>          <name>BitmapFilename</name>          <value>            <string></string>          </value>        </member>        <member>          <name>ScriptFilename</name>          <value>            <string></string>          </value>        </member>        <member>          <name>Scaling</name>          <value>            <double>1</double>          </value>        </member>      </struct>    </value>  </member></struct></Configuration></Description>';    type R     ports      power in pF_in;      power out pF_out;      power in pp_in;      pseudohydraulic out pp_out;      power in pT_in;      pseudothermalh out pT_out;      signal in lift; "Crank angle starting with 0 at TDC before intake stroke"      signal in purity;      signal in Comb_state;      signal in AR;      signal boolean in inport_open;      signal boolean out open;     restrictions      causality fixed in pp_in;      causality fixed in pF_in;      causality fixed in pT_in;      causality fixed in pp_out;      causality fixed in pF_out;      causality fixed in pT_out;    end;    icon bg bottom     figures      text 'R' 568 328 51 bold;     terminals      pF_in 536 360 fixed;      pF_out 600 360 fixed;      pp_in 536 312 fixed;      pp_out 600 312 fixed;      pT_in 536 336 fixed;      pT_out 600 336 fixed;      lift 568 296 fixed;      open 600 296 fixed;    end;    implementation eqparameters	real global nstroke;   //number of stroke of the engine	real global fs;			//Stoichiometric fuel-air ratio// Thermo package	string global dll_ICE;	string dll_fcn_thdyn 	= 'thdyn_CombGasZach';	// Valve dimension	real global Dv; // Valve head diameter	real global beta; // Seat angle	real global w; // Valve seat width	real global Dp; // Inner seat diameter	real global Ds; // Stem diameter  	// Parameters for curve fit for Cd correlation   real global p1;   	real global p2;   real global p3;		real global q1;	real global q2;		real global q3;	real global Cd_corr_coeff[3];// The fit model was taken from the Sher, E. (1990). Scavenging // the two-stroke engine. Progress in Energy and Combustion Science, // 16(2), 95-124. variables	real hidden inarr_ThermoProp[3], outarr_ThermoProp[13];	real Area;	real hidden aa, pc, ksi, ksi1, ksim, ksin, ksil, p_AV, T_AV, d, a, c;	real F_AV;	real hidden h, rgas, kap;	real interesting dm, dm_b, dE;	real hidden sinb, cosb, tanb, sin2b;	real Cd, L_Dv, F0;	boolean reset;initialequations	sinb = sin(beta);	cosb = cos(beta); tanb = tan(beta);	sin2b = sin(2*beta);	reset = true;	F0 = 0.0001;code// Calculate the area of valve (from Heywood)		if Comb_state == 5 and reset == true then		F0 = pF_in.e;		reset= false;	else 	if Comb_state == 0 and reset == false then				reset = true;			end;	end;	if lift > 0 then		open = true;		if lift < (w / (sinb*cosb)) then			Area = pi*lift*cosb*(Dv-2*w+lift/2*sin2b);		else if lift <= (((Dp^2 - Ds^2)/(4*(Dv-w)) - w^2)^0.5 + w*tanb) then      	     	Area = pi*(Dv-w)*((lift - w*tanb)^2 + w^2)^0.5;           else          	  	Area = 0.25*pi*(Dp^2 - Ds^2);           end;		end;// Find the Cd at Pr_ref 2.35 (from E. Sher, see above)  		L_Dv = lift/Dv;		Cd = (p1*L_Dv^2 + p2*L_Dv + p3) /               (L_Dv^3 + q1*L_Dv^2 + q2*L_Dv + q3);	else		open = false;   	Cd = 0;   	Area = 0;//		if reset == true then reset = false; end;	end;		if Area == 0 then		dm = 0;		dE = 0;		dm_b = 0;	else		Area = AR*Area;		aa = pp_in.e / pp_out.e;		if (aa > 1) then					p_AV	=pp_in.e; T_AV=pT_in.e; d	= 1; 	a	=aa;					if pF_in.e > 0 then						if inport_open == true then							F_AV = (1-purity)*F0/(purity*F0*fs + 1);						else							F_AV = pF_in.e;						end;					else						F_AV = 0;					end;				else					p_AV	=pp_out.e; T_AV=pT_out.e; F_AV= pF_out.e;	d	=-1; a	=1.0/aa;		end;// Calculate thermodynamic properties from (T,P,x)		inarr_ThermoProp = [p_AV;T_AV;F_AV];		outarr_ThermoProp = dll(dll_ICE,dll_fcn_thdyn, inarr_ThermoProp);			h		= outarr_ThermoProp[4];		rgas	= outarr_ThermoProp[1];		kap		= outarr_ThermoProp[13];			pc = (2.0 / (kap + 1))^(kap / (kap - 1));		c = 1 / pc;		ksim = sqrt(kap * ((2 / (kap + 1))^((kap + 1) / (kap - 1))));		ksin = sqrt(2 * kap / (kap - 1) * (a^(-2 / kap) - a^(-(kap + 1) / kap)));		ksil = 1000 * (a - 1) * sqrt(2 * kap / (kap - 1) * (1.001^(-2 / kap) - 1.001^(-(kap + 1) / kap)));		ksi1 = if (a > c) then ksim 	else ksin end;		ksi = if (a <= 1.001) then					ksil				else 					ksi1				end;//	Correction of Cd to Pr    	Cd = (Cd_corr_coeff[1]*a^2 + Cd_corr_coeff[2]*a + Cd_corr_coeff[3])*Cd;		dm = Cd*Area * p_AV / sqrt(rgas * T_AV) * ksi * d;		if F_AV > 0 then			if inport_open == true then				dm_b = (1-purity)*(F0*fs)/(1+F0*fs)*dm;			else				dm_b = (F_AV*fs)/(1+F_AV*fs)*dm;			end;			else 			dm_b = 0;		end;			dE = dm * h;	end;	pp_in.f = dm;	pp_out.f = dm;	pT_in.f = dE;	pT_out.f = dE;	pF_in.f = dm_b;	pF_out.f = dm_b;implementation_end;   ExhVVLift 608 239.9    description '<Description> <Version>4.0</Version> <LibraryPath>Template\Submodel-Equation.emx</LibraryPath> <IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <TimeStamp>2007-11-1 22:32:1</TimeStamp> <AllowLibraryUpdate>False</AllowLibraryUpdate>   <Configuration><struct>  <member>    <name>DocumentationMask</name>    <value>      <struct>        <member>          <name>MaskChoice</name>          <value>            <int>1</int>          </value>        </member>        <member>          <name>BitmapFilename</name>          <value>            <string></string>          </value>        </member>        <member>          <name>ScriptFilename</name>          <value>            <string></string>          </value>        </member>        <member>          <name>Scaling</name>          <value>            <double>1</double>          </value>        </member>      </struct>    </value>  </member></struct></Configuration></Description>';    type 'ExhVVLift-Equation'     ports      signal out lift;      signal in CA;      signal in CA_start_nom;      signal in dCA_lift_nom;    end;    icon bg     figures      rectangle 574.9 223.9 641.1 255.8 fill 15132390;      text 'name' 609 239.9 16;     terminals      lift 608 255.9 fixed;      CA_start_nom 576 223.9 fixed;      dCA_lift_nom 592 223.9 fixed;    end;    implementation eqparameters//	real CA_start_nom = 1.1;//	real dCA_lift_nom = 1;	real global lift_max;	real hidden global CA_start_ref; //Reference start CA for start of valve lift	real hidden global dCA_lift_up;	 //Lift up time (should not be changed unless file is changed	real hidden global dCA_lift_down; //Lift down time (should not be changed unless file is changed	real hidden global dCA_lift_top_ref; //Reference duration for lift upvariables	real CA_start, dCA_lift, dCA_total, CA_VV;	real phi;code	CA_start = CA_start_nom*CA_start_ref;	dCA_lift = dCA_lift_nom*dCA_lift_top_ref;		dCA_total = dCA_lift_up + dCA_lift + dCA_lift_down;	phi = CA*180/pi mod 360;	if phi > CA_start and phi < CA_start + dCA_total then		CA_VV = phi - CA_start;		if CA_VV <= dCA_lift_up then			lift = table('ExhVVProfUp.csv',CA_VV);		else 	if CA_VV <= dCA_lift_up + dCA_lift then					lift = 1;			  	else 	if CA_VV <= dCA_lift_up + dCA_lift + dCA_lift_down then							CA_VV = phi - (CA_start + dCA_lift_up + dCA_lift);							lift = table('ExhVVProfDown.csv',CA_VV);					 	else 					 		lift = 0;							end;				end;		end;	else		lift = 0;		end;				lift = lift_max*lift; implementation_end;   FlowSensor1 400 416    description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\FlowSensor.emx</LibraryPath>  <TimeStamp>2011-11-29 15:50:53</TimeStamp></Description></Information>';    knot FlowSensor     ports      pseudothermal knot in p1 [1];      power knot out p2 [1];      signal knot out flow [1];     restrictions      causality constraint not_equal p1 p2;    end;    icon bg ellipse     figures      ellipse 393.1 408.8 406.9 423.1 fill 16777215;      text 'f' 400 415.2;    end;    implementation eqequations	p2.f = p1.f;	p1.e = p2.e;	flow = p1.f;implementation_end;   FlowSensor3 448 288    description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\FlowSensor.emx</LibraryPath>  <TimeStamp>2011-11-29 15:50:53</TimeStamp></Description></Information>';    knot FlowSensor     ports      power knot in p1 [1];      pseudothermalh knot out p2 [1];      signal knot out flow [1];     restrictions      causality constraint not_equal p1 p2;    end;    icon bg ellipse     figures      ellipse 441.1 280.8 454.9 295.1 fill 16777215;      text 'f' 448 287.2;    end;    implementation eqequations	p2.f = p1.f;	p1.e = p2.e;	flow = p1.f;implementation_end;   FlowSensor4 424 280    description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\FlowSensor.emx</LibraryPath>  <TimeStamp>2011-11-29 15:50:53</TimeStamp></Description></Information>';    knot FlowSensor     ports      power knot in p1 [1];      pseudohydraulic knot out p2 [1];      signal knot out flow [1];     restrictions      causality constraint not_equal p1 p2;    end;    icon bg ellipse     figures      ellipse 417.1 272.8 430.9 287.1 fill 16777215;      text 'f' 424 279.2;    end;    implementation eqequations	p2.f = p1.f;	p1.e = p2.e;	flow = p1.f;implementation_end;   InValve 304 328    description '<Description> <LibraryPath>Bond Graph\R.emx</LibraryPath> <Version>No Version Info</Version> <IsMainModel>0</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>';    type beta     ports      power in pF_in;      power out pF_out;      pseudohydraulic in pp_in;      pseudohydraulic out pp_out;      pseudothermalh in pT_in;      pseudothermalh out pT_out;      signal in pfi; "Crank angle starting with 0 at TDC before intake stroke"      signal out beta;      signal in m_in;      signal in AR;      signal boolean out open; "indication for port opening (true : open / false : close)"     restrictions      causality fixed in pF_in;      causality fixed in pF_out;      causality fixed in pT_in;      causality fixed in pT_out;      causality fixed in pp_out;      causality fixed in pp_in;    end;    icon bg bottom     figures      text 'R' 304 328 51 bold;     terminals      pF_in 272 360 fixed;      pF_out 336 360 fixed;      pp_in 272 312 fixed;      pp_out 336 312 fixed;      pT_in 272 336 fixed;      pT_out 336 336 fixed;      pfi 304 296 fixed;    end;    implementation eqparameters	real global nstroke;   //number of stroke of the engine	real global fs;			//Stoichiometric fuel-air ratio	real global slag, alam;  //stroke, ratio of crank rod to conneting rod// Thermo package	string global dll_ICE;	string dll_fcn_thdyn 	= 'thdyn_CombGasZach';// Port dimension	real global N_p;				//No of ports	real global Y;				//Height of the ports	real global X;				//Width of the ports// Parameters for purity calculation	real global Diam;	//Bore size		real global kai; //Shape factor for 'S-type' curve;	real global delta; //Shape factor for 'S-type' curve;	variables	real Area;	real a_CR, l_CR, x_p;  // Length of crank rod, connecting rod, position of piston relative to TDC	real r;				// Radius of the corner of the port		real y_open, theta;		// Opening height and angle for corner	real Cd;					// openging ratio	real hidden inarr_ThermoProp[3], outarr_ThermoProp[13];	real hidden aa, pc, ksi, ksi1, ksim, ksin, ksil, p_AV, T_AV, F_AV, d, a, c;	real hidden h, rgas, kap;	real interesting dm, dm_b, dE;  	real m_in_prev, m_in_temp;	real lambda_s; //Delivery ratio	real rho0, Vd;  // Reference density for purity calculation at air reciever	real phi0;      // angle at the opening start	boolean reset;  // indication for port opening begins (ture : open begin / false : otherwise)	real phi;	real A_R;		initialequations	a_CR = slag/2;	l_CR = a_CR / alam;	r = X / 2;	Vd = pi*Diam^2/4*slag;			open = true;	reset = false;	m_in_prev = 0;	phi0 = 0;code	phi = pfi*180/pi mod 360;// Calculating the position of the piston w.r.t. TDC	x_p = a_CR + l_CR - (a_CR*cos(pfi) + sqrt(l_CR^2 - (a_CR*sin(pfi))^2));   if x_p > (slag - Y) then		open = true;// Calculating the area and discharge coefficient of the port		y_open = x_p - (slag - Y);      if y_open < r then      	theta = arcsin((r-y_open)/r);         Area = (X-2*r)*y_open + 0.5*r^2*(pi/2-theta) - 0.5*(r-y_open)*r*cos(theta);      else if y_open > (Y - r) then      			y_open = y_open - (Y - r);               theta = arcsin(min([y_open/r;1]));               Area = X*(Y-r) - 0.43*r^2 + (X-2*r)*y_open + 0.5*r^2*theta + 0.5*r*cos(theta)*y_open;           else               Area = X*y_open - 0.43*r^2;           end;      end;		Area = AR*Area;      A_R = Area / (X*Y - 0.86*r^2);      Area = Area*N_p;      Cd = -5.408*A_R^5 + 15.9*A_R^4 + -19.03*A_R^3 + 11.39*A_R^2 + -3.284*A_R + 1.143;		// The fit model was taken from the Sher, E. (1990). Scavenging 		// the two-stroke engine. Progress in Energy and Combustion Science, 		// 16(2), 95-124.       Cd = min([0.98, Cd]);// Determine the flow direction				aa = pp_in.e / pp_out.e;		if (aa > 1) then			p_AV	=pp_in.e; T_AV=pT_in.e; F_AV= pF_in.e;	d	= 1; 	a	=aa;		else			p_AV	=pp_out.e; T_AV=pT_out.e; F_AV= pF_out.e;	d	=-1; a	=1.0/aa;		end;/// Calculate thermodynamic properties from (P,T,F)		inarr_ThermoProp = [p_AV;T_AV;F_AV];		outarr_ThermoProp = dll(dll_ICE,dll_fcn_thdyn, inarr_ThermoProp);			h		= outarr_ThermoProp[4];		rgas	= outarr_ThermoProp[1];		kap		= outarr_ThermoProp[13];/// Calculate the flow based on ideal nozzle equation for compressible gas		pc = (2.0 / (kap + 1))^(kap / (kap - 1));		c = 1 / pc;		ksim = sqrt(kap * ((2 / (kap + 1))^((kap + 1) / (kap - 1))));		ksin = sqrt(2 * kap / (kap - 1) * (a^(-2 / kap) - a^(-(kap + 1) / kap)));		ksil = 1000 * (a - 1) * sqrt(2 * kap / (kap - 1) * (1.001^(-2 / kap) - 1.001^(-(kap + 1) / kap)));		ksi1 = if (a > c) then ksim 	else ksin end;		ksi = if (a <= 1.001) then ksil else ksi1 end;		dm = Cd*Area * p_AV / sqrt(rgas * T_AV) * ksi * d;		dE = dm * h;		dm_b = dm * (F_AV*fs)/(1+F_AV*fs);// Calculation of purity of the exhaust		if reset == true then			rho0 = pp_in.e / 287 / pT_in.e;			m_in_temp = m_in - m_in_prev;			lambda_s = m_in_temp / rho0 / Vd;			phi0 = phi;			beta = 0;			reset = false;		else			m_in_temp = m_in - m_in_prev;			lambda_s = m_in_temp / rho0 / Vd;			beta = 1 - exp(-kai*lambda_s*((phi - phi0)/(2*(180-phi0)))^delta);		end;   else      dm = 0;      dE = 0;		dm_b = 0;			beta = 0;		lambda_s = 0;		open = false;   end;		if open == false and reset == false then		reset = true;		m_in_prev = m_in;	end;			pp_in.f = dm;	pp_out.f = dm;	pT_in.f = dE;	pT_out.f = dE;	pF_in.f = dm_b;	pF_out.f = dm_b;				implementation_end;   MSf 552 448    description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\MSf.emx</LibraryPath>  <TimeStamp>2011-11-29 16:14:18</TimeStamp></Description></Information>';    type MSf     ports      signal in flow;      signal in phi_rad;    end;    icon bg bottom     figures      text 'powCyc' 552 448 18 bold;    end;    implementation eqparameters	real global Diam, slag;	string global dll_ICE;	string hidden dll_fcn_mip	= 'ice_mip';	variables	real hidden inarr[2], outarr[1];	real hidden Vslag, Yint;	real imep, Wcyl;	initialequations	Vslag=pi/4.0*Diam^2*slag;	equations	Yint = int(flow);	inarr	=[phi_rad; Yint];	outarr	= dll(dll_ICE,dll_fcn_mip, inarr);	imep = min([30e5;outarr[1]/Vslag]);	Wcyl = outarr[1];implementation_end;   Mux 304 106			specifications active 'inputs_2'				specification 'default'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Mux.emx</LibraryPath>  <TimeStamp>2011-10-5 22:44:58</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Mux  ports   signal in input1;   signal out output [2,1];   signal in input2; end; icon bg bottom  figures   line 129.5 64 129.5 96 width 2;   rectangle 125.5 64 133.5 96 color -1;   text '2' 134.5 91 color 8421504 8;  terminals   input1 129.5 72 fixed;   output 129.5 80 fixed;   input2 129.5 88 fixed; end; implementation eqequations	output = [input1; input2];implementation_end;specification_end;				specification 'inputs_1'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Mux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Mux  ports   signal in input;   signal out output; end; icon bg bottom  figures   line 128 64 128 80 width 2;   rectangle 124 64 132 80 color -1;   text '1' 133 82 color 8421504 8;  terminals   input 128 72 fixed;   output 128 72 fixed; end; implementation eqequations	output = input;implementation_end;specification_end;				specification 'inputs_2' description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Mux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Mux  ports   signal in input1;   signal out output [2,1];   signal in input2; end; icon bg bottom  figures   line 320 104 288 104 width 2;   rectangle 288 100 320 108 color -1;   text '2' 293 109 color 8421504 8;  terminals   input1 312 104 fixed;   output 304 104 fixed;   input2 296 104 fixed; end; implementation eqequations	output = [input1; input2];implementation_end;specification_end;				specification 'inputs_3'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Mux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Mux  ports   signal in input1;   signal in input2;   signal in input3;   signal out output [3,1]; end; icon bg bottom  figures   line 128 56 128 88 width 2;   rectangle 124 56 132 88 color -1;   text '3' 133 82 color 8421504 8;  terminals   input1 128 64 fixed;   input2 128 72 fixed;   input3 128 80 fixed;   output 128 72 fixed; end; implementation eqequations	output = [input1; input2; input3];implementation_end;specification_end;				specification 'inputs_4'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Mux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Mux  ports   signal in input1;   signal in input2;   signal in input3;   signal in input4;   signal out output [4,1]; end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '4' 133 83 color 8421504 8;  terminals   input1 128 56 fixed;   input2 128 64 fixed;   input3 128 80 fixed;   input4 128 88 fixed;   output 128 72 fixed; end; implementation eqequations	output = [input1; input2; input3; input4];implementation_end;specification_end;				specification 'inputs_5'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Mux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Mux  ports   signal in input1;   signal in input2;   signal in input3;   signal in input4;   signal in input5;   signal out output [5,1]; end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '5' 133 83 color 8421504 8;  terminals   input1 128 56 fixed;   input2 128 64 fixed;   input3 128 72 fixed;   input4 128 80 fixed;   input5 128 88 fixed;   output 128 72 fixed; end; implementation eqequations	output = [input1; input2; input3; input4; input5];implementation_end;specification_end;				specification 'inputs_6'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Mux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Mux  ports   signal in input1;   signal in input2;   signal in input3;   signal in input4;   signal in input5;   signal in input6;   signal out output [6,1]; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '6' 133 83 color 8421504 8;  terminals   input1 128 48 fixed;   input2 128 56 fixed;   input3 128 64 fixed;   input4 128 80 fixed;   input5 128 88 fixed;   input6 128 96 fixed;   output 128 72 fixed; end; implementation eqequations	output = [input1; input2; input3; input4; input5; input6];implementation_end;specification_end;				specification 'inputs_7'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Mux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Mux  ports   signal in input1;   signal in input2;   signal in input3;   signal in input4;   signal in input5;   signal in input6;   signal in input7;   signal out output [7,1]; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '7' 133 83 color 8421504 8;  terminals   input1 128 48 fixed;   input2 128 56 fixed;   input3 128 64 fixed;   input4 128 72 fixed;   input5 128 80 fixed;   input6 128 88 fixed;   input7 128 96 fixed;   output 128 72 fixed; end; implementation eqequations	output = [input1; input2; input3; input4; input5; input6; input7];implementation_end;specification_end;				specification 'inputs_8'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Mux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Mux  ports   signal in input1;   signal in input2;   signal in input3;   signal in input4;   signal in input5;   signal in input6;   signal in input7;   signal in input8;   signal out output [8,1]; end; icon bg bottom  figures   line 128 32 128 112 width 2;   rectangle 124 32 132 112 color -1;   text '8' 133 83 color 8421504 8;  terminals   input1 128 40 fixed;   input2 128 48 fixed;   input3 128 56 fixed;   input4 128 64 fixed;   input5 128 80 fixed;   input6 128 88 fixed;   input7 128 96 fixed;   input8 128 104 fixed;   output 128 72 fixed; end; implementation eqequations	output = [input1; input2; input3; input4; input5; input6; input7; input8];implementation_end;specification_end;				specification 'inputs_9'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Mux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Mux  ports   signal in input1;   signal in input2;   signal in input3;   signal in input4;   signal in input5;   signal in input6;   signal in input7;   signal in input8;   signal in input9;   signal out output [9,1]; end; icon bg bottom  figures   line 128 32 128 112 width 2;   text '9' 132 83 color 8421504 8;  terminals   input1 128 40 fixed;   input2 128 48 fixed;   input3 128 56 fixed;   input4 128 64 fixed;   input5 128 72 fixed;   input6 128 80 fixed;   input7 128 88 fixed;   input8 128 96 fixed;   input9 128 104 fixed;   output 128 72 fixed; end; implementation eqequations	output = [input1; input2; input3; input4; input5; input6; input7; input8; input9];implementation_end;specification_end;			end;   plug p_max 368 40;   plug V_cyl 392 504;   plug p_cyl 272 384;   plug exh_open 640 280;   plug output1 304 40;   plug input 488 40;   plug out 664 336;   plug in 208 336;   plug M 448 696;   plug T_w_phys 208 432;   PowerDemux 241.5 336			specifications active 'inputs_3'				specification 'default'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-10-5 22:44:58</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power in input [2,1];   power out output2;  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input; end; icon bg bottom  figures   line 129.5 64 129.5 96 width 2;   rectangle 125.5 64 133.5 96 color -1;   text '2' 134.5 91 color 8421504 8;  terminals   output1 129.5 72 fixed;   input 129.5 80 fixed;   output2 129.5 88 fixed; end; implementation eqequations	input.e = [output1.e; output2.e];	input.f = [output1.f; output2.f];implementation_end;specification_end;				specification 'inputs_1'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power in input;   power out output;  restrictions   causality constraint not_equal output input; end; icon bg bottom  figures   line 128 64 128 80 width 2;   rectangle 124 64 132 80 color -1;   text '1' 133 82 color 8421504 8;  terminals   input 128 72 fixed;   input 128 72 fixed; end; implementation eqequations	input.e = output.e;	input.f = output.f;implementation_end;specification_end;				specification 'inputs_2'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power in input [2,1];   power out output2;  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input; end; icon bg bottom  figures   line 128 56 128 88 width 2;   rectangle 124 56 132 88 color -1;   text '2' 133 83 color 8421504 8;  terminals   output1 128 64 fixed;   input 128 72 fixed;   output2 128 80 fixed; end; implementation eqequations	input.e = [output1.e; output2.e];	input.f = [output1.f; output2.f];implementation_end;specification_end;				specification 'inputs_3' description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power out output2;   power out output3;   power in input [3,1];  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input;   causality constraint not_equal output3 input; end; icon bg bottom  figures   line 240 320 240 352 width 2;   rectangle 236 320 244 352 color -1;   text '3' 245 346 color 8421504 8;  terminals   output1 240 328 fixed;   output2 240 336 fixed;   output3 240 344 fixed;   input 240 336 fixed; end; implementation eqequations	input.e = [output1.e; output2.e; output3.e];	input.f = [output1.f; output2.f; output3.f];implementation_end;specification_end;				specification 'inputs_4'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power out output2;   power out output3;   power out output4;   power in input [4,1];  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input;   causality constraint not_equal output3 input;   causality constraint not_equal output4 input; end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '4' 133 83 color 8421504 8;  terminals   output1 128 56 fixed;   output2 128 64 fixed;   output3 128 80 fixed;   output4 128 88 fixed;   input 128 72 fixed; end; implementation eqequations	input.e = [output1.e; output2.e; output3.e; output4.e];	input.f = [output1.f; output2.f; output3.f; output4.f];implementation_end;specification_end;				specification 'inputs_5'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power out output2;   power out output3;   power out output4;   power out output5;   power in input [5,1];  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input;   causality constraint not_equal output3 input;   causality constraint not_equal output4 input;   causality constraint not_equal output5 input;end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '5' 133 83 color 8421504 8;  terminals   output1 128 56 fixed;   output2 128 64 fixed;   output3 128 72 fixed;   output4 128 80 fixed;   output5 128 88 fixed;   input 128 72 fixed; end; implementation eqequations	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e];	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f];implementation_end;specification_end;				specification 'inputs_6'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power out output2;   power out output3;   power out output4;   power out output5;   power out output6;   power in input [6,1];  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input;   causality constraint not_equal output3 input;   causality constraint not_equal output4 input;   causality constraint not_equal output5 input;   causality constraint not_equal output6 input; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '6' 133 83 color 8421504 8;  terminals   output1 128 48 fixed;   output2 128 56 fixed;   output3 128 64 fixed;   output4 128 80 fixed;   output5 128 88 fixed;   output6 128 96 fixed;   input 128 72 fixed; end; implementation eqequations	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e];	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f];implementation_end;specification_end;				specification 'inputs_7'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power out output2;   power out output3;   power out output4;   power out output5;   power out output6;   power out output7;   power in input [7,1];  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input;   causality constraint not_equal output3 input;   causality constraint not_equal output4 input;   causality constraint not_equal output5 input;   causality constraint not_equal output6 input;   causality constraint not_equal output7 input; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '7' 133 83 color 8421504 8;  terminals   output1 128 48 fixed;   output2 128 56 fixed;   output3 128 64 fixed;   output4 128 72 fixed;   output5 128 80 fixed;   output6 128 88 fixed;   output7 128 96 fixed;   input 128 72 fixed; end; implementation eqequations	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e];	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f];implementation_end;specification_end;				specification 'inputs_8'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power out output2;   power out output3;   power out output4;   power out output5;   power out output6;   power out output7;   power out output8;   power in input [8,1];  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input;   causality constraint not_equal output3 input;   causality constraint not_equal output4 input;   causality constraint not_equal output5 input;   causality constraint not_equal output6 input;   causality constraint not_equal output7 input;   causality constraint not_equal output8 input; end; icon bg bottom  figures   line 128 32 128 112 width 2;   rectangle 124 32 132 112 color -1;   text '8' 133 83 color 8421504 8;  terminals   output1 128 40 fixed;   output2 128 48 fixed;   output3 128 56 fixed;   output4 128 64 fixed;   output5 128 80 fixed;   output6 128 88 fixed;   output7 128 96 fixed;   output8 128 104 fixed;   input 128 72 fixed; end; implementation eqequations	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e; output8.e];	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f; output8.f];implementation_end;specification_end;				specification 'inputs_9'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power out output2;   power out output3;   power out output4;   power out output5;   power out output6;   power out output7;   power out output8;   power out output9;   power in input [9,1];  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input;   causality constraint not_equal output3 input;   causality constraint not_equal output4 input;   causality constraint not_equal output5 input;   causality constraint not_equal output6 input;   causality constraint not_equal output7 input;   causality constraint not_equal output8 input;   causality constraint not_equal output9 input; end; icon bg bottom  figures   line 128 32 128 112 width 2;   text '9' 132 83 color 8421504 8;  terminals   output1 128 40 fixed;   output2 128 48 fixed;   output3 128 56 fixed;   output4 128 64 fixed;   output5 128 72 fixed;   output6 128 80 fixed;   output7 128 88 fixed;   output8 128 96 fixed;   output9 128 104 fixed;   input 128 72 fixed; end; implementation eqequations	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e; output8.e; output9.e];implementation_end;	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f; output8.f; output9.f];specification_end;			end;   PowerMux 625.5 336			specifications active 'inputs_3'				specification 'default'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-10-5 22:44:58</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power out output [2,1];   power in input2;  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output; end; icon bg bottom  figures   line 129.5 64 129.5 96 width 2;   rectangle 125.5 64 133.5 96 color -1;   text '2' 134.5 91 color 8421504 8;  terminals   input1 129.5 72 fixed;   output 129.5 80 fixed;   input2 129.5 88 fixed; end; implementation eqequations	output.e = [input1.e; input2.e];	output.f = [input1.f; input2.f];implementation_end;specification_end;				specification 'inputs_1'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input;   power out output;  restrictions   causality constraint not_equal input output; end; icon bg bottom  figures   line 128 64 128 80 width 2;   rectangle 124 64 132 80 color -1;   text '1' 133 82 color 8421504 8;  terminals   input 128 72 fixed;   output 128 72 fixed; end; implementation eqequations	output.e = input.e;	output.f = input.f;implementation_end;specification_end;				specification 'inputs_2'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power out output [2,1];   power in input2;  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output; end; icon bg bottom  figures   line 128 56 128 88 width 2;   rectangle 124 56 132 88 color -1;   text '2' 133 83 color 8421504 8;  terminals   input1 128 64 fixed;   output 128 72 fixed;   input2 128 80 fixed; end; implementation eqequations	output.e = [input1.e; input2.e];	output.f = [input1.f; input2.f];implementation_end;specification_end;				specification 'inputs_3' description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power in input2;   power in input3;   power out output [3,1];  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output;   causality constraint not_equal input3 output; end; icon bg bottom  figures   line 624 320 624 352 width 2;   rectangle 620 320 628 352 color -1;   text '3' 629 346 color 8421504 8;  terminals   input1 624 328 fixed;   input2 624 336 fixed;   input3 624 344 fixed;   output 624 336 fixed; end; implementation eqequations	output.e = [input1.e; input2.e; input3.e];	output.f = [input1.f; input2.f; input3.f];implementation_end;specification_end;				specification 'inputs_4'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power in input2;   power in input3;   power in input4;   power out output [4,1];  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output;   causality constraint not_equal input3 output;   causality constraint not_equal input4 output; end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '4' 133 83 color 8421504 8;  terminals   input1 128 56 fixed;   input2 128 64 fixed;   input3 128 80 fixed;   input4 128 88 fixed;   output 128 72 fixed; end; implementation eqequations	output.e = [input1.e; input2.e; input3.e; input4.e];	output.f = [input1.f; input2.f; input3.f; input4.f];implementation_end;specification_end;				specification 'inputs_5'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power in input2;   power in input3;   power in input4;   power in input5;   power out output [5,1];  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output;   causality constraint not_equal input3 output;   causality constraint not_equal input4 output;   causality constraint not_equal input5 output; end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '5' 133 83 color 8421504 8;  terminals   input1 128 56 fixed;   input2 128 64 fixed;   input3 128 72 fixed;   input4 128 80 fixed;   input5 128 88 fixed;   output 128 72 fixed; end; implementation eqequations	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e];	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f];implementation_end;specification_end;				specification 'inputs_6'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power in input2;   power in input3;   power in input4;   power in input5;   power in input6;   power out output [6,1];  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output;   causality constraint not_equal input3 output;   causality constraint not_equal input4 output;   causality constraint not_equal input5 output;   causality constraint not_equal input6 output; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '6' 133 83 color 8421504 8;  terminals   input1 128 48 fixed;   input2 128 56 fixed;   input3 128 64 fixed;   input4 128 80 fixed;   input5 128 88 fixed;   input6 128 96 fixed;   output 128 72 fixed; end; implementation eqequations	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e];	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f];implementation_end;specification_end;				specification 'inputs_7'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power in input2;   power in input3;   power in input4;   power in input5;   power in input6;   power in input7;   power out output [7,1];  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output;   causality constraint not_equal input3 output;   causality constraint not_equal input4 output;   causality constraint not_equal input5 output;   causality constraint not_equal input6 output;   causality constraint not_equal input7 output; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '7' 133 83 color 8421504 8;  terminals   input1 128 48 fixed;   input2 128 56 fixed;   input3 128 64 fixed;   input4 128 72 fixed;   input5 128 80 fixed;   input6 128 88 fixed;   input7 128 96 fixed;   output 128 72 fixed; end; implementation eqequations	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e];	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f];implementation_end;specification_end;				specification 'inputs_8'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power in input2;   power in input3;   power in input4;   power in input5;   power in input6;   power in input7;   power in input8;   power out output [8,1];  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output;   causality constraint not_equal input3 output;   causality constraint not_equal input4 output;   causality constraint not_equal input5 output;   causality constraint not_equal input6 output;   causality constraint not_equal input7 output;   causality constraint not_equal input8 output; end; icon bg bottom  figures   line 128 32 128 112 width 2;   rectangle 124 32 132 112 color -1;   text '8' 133 83 color 8421504 8;  terminals   input1 128 40 fixed;   input2 128 48 fixed;   input3 128 56 fixed;   input4 128 64 fixed;   input5 128 80 fixed;   input6 128 88 fixed;   input7 128 96 fixed;   input8 128 104 fixed;   output 128 72 fixed; end; implementation eqequations	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e; input8.e];	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f; input8.f];implementation_end;specification_end;				specification 'inputs_9'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power in input2;   power in input3;   power in input4;   power in input5;   power in input6;   power in input7;   power in input8;   power in input9;   power out output [9,1];  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output;   causality constraint not_equal input3 output;   causality constraint not_equal input4 output;   causality constraint not_equal input5 output;   causality constraint not_equal input6 output;   causality constraint not_equal input7 output;   causality constraint not_equal input8 output;   causality constraint not_equal input9 output; end; icon bg bottom  figures   line 128 32 128 112 width 2;   text '9' 132 83 color 8421504 8;  terminals   input1 128 40 fixed;   input2 128 48 fixed;   input3 128 56 fixed;   input4 128 64 fixed;   input5 128 72 fixed;   input6 128 80 fixed;   input7 128 88 fixed;   input8 128 96 fixed;   input9 128 104 fixed;   output 128 72 fixed; end; implementation eqequations	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e; input8.e; input9.e];implementation_end;	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f; input8.f; input9.f];specification_end;			end;   QSensor1 368 312    description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\QSensor.emx</LibraryPath>  <TimeStamp>2011-11-29 16:34:15</TimeStamp></Description></Information>';    knot QSensor     ports      pseudohydraulic knot in p1 [1];      pseudohydraulic knot out p2 [1];      signal knot out q [1];     restrictions      causality constraint not_equal p1 p2;    end;    icon bg ellipse     figures      ellipse 361.1 305.3 374.9 319.4 fill 16777215;      text 'q' 367.5 309.6;    end;    implementation eqequations	p2.f = p1.f;	p1.e = p2.e;	q = int (p1.f);implementation_end;   ROHR1 446.9 232    type Submodel     ports      power out pp;      power out pF;      power out pT;      signal in x_lev; "Controller Input (Throttle)"      signal in omega; "Engine speed (rad/s)"      signal integer out Comb_state; "0: Start of new cycle / 1 : injection started / 2 : start of combustion / 5: end of combustion"      signal out p_max [2,1];      signal in pfi;      signal in fiinj;     restrictions      causality fixed in pp;      causality fixed in pF;      causality fixed in pT;    end;    icon bg     figures      rectangle 411.1 217 482.6 247 fill 12895428;      text 'name' 447.9 232 16;     terminals      pp 423.9 256 fixed;      pF 470.9 256 fixed;      pT 446.9 256 fixed;      x_lev 422.9 208 fixed;      omega 478.9 208 fixed;      Comb_state 486.9 256 fixed;      pfi 446.9 208 fixed;      fiinj 462.9 208 fixed;    end;    implementation eqparameters	integer global ncyl;	real global nstroke;	real global hn;//	real global fiinj;	real global mqf_max;	real global pemax;	real global ommax;	real global T_L;	real global T_H;	real global fs;	real global slag, Diam, alam, Veps;	integer global CASE;//Fuel composition [C H O N]	real global FC[4];// Englib	string global dll_ICE;//	string dll_fcn_rohr    = 'ice_rohr';	string dll_icemax    = 'ice_pfimax';	string hidden dll_fcn_ThDP = 'thdyn_CombGasZach'; // subroutines names in the dll file//	string dll_fcn_rohr = 		'ice_rohr2';	real wiebe_para[9] = [0.07;0.57;3.05;11;24;56.3;1.5;1;0.7];variables	real phi;	real phi_comb;	real P, F, T, V_cyl, m_cyl0, Vc;	real dmf;	real mqf_des, mqf, mqf_min;//	real inarr_ROHR[20], outarr_ROHR[13];	real fiig;	real hidden inarr_pfimax[3], outarr_pfimax[2];	real hidden inarr_ThermoProp[3], outarr_ThermoProp[13];	real Pmax, Pmax_pfi;//	real bmepnom, omeganom;//	real eta_i, sfoc;//	real mfPC, mf, Oldmf, OldmfPC;	boolean reset;		real dphi_comb, igdel, dmf_nom;	real yp, ym, yl, yptomp, ymtomm, yltoml, df1dy, df2dy, df3dy;	initialequations	Comb_state = 0;	// 0: Start of new cycle / 1 : injection started / 2 : start of combustion / 5: end of combustion//	if fiinj > 180 then fiinj = fiinj - 360; end;		fiig = 0;	reset = true;	mqf = 0;	dmf = 0;	Vc	= pi*Diam^2/4.0*slag/(Veps-1);	dphi_comb = wiebe_para[3] + wiebe_para[6];code	P=pp.e; F=pF.e; T=pT.e;	phi = pfi*180/pi mod 360;// Deternmine the mass of fuel per cycle not exceeding the stoichiometric ratio	if phi > 180 then 		phi_comb= phi - 360;  	else		phi_comb = phi;	end;	if phi_comb > fiinj and Comb_state == 0 then		Comb_state = 1;		mqf_des = mqf_max * x_lev;		inarr_ThermoProp = [P;T;F];		outarr_ThermoProp = dll(dll_ICE,dll_fcn_ThDP, inarr_ThermoProp);			V_cyl = pi*Diam^2*slag^2/8*alam*(alam + 1 - (alam*cos(pfi) + sqrt(1 - (alam*sin(pfi))^2))) + Vc;		m_cyl0 = P*V_cyl/outarr_ThermoProp[1]/T;			mqf_min = m_cyl0*fs;			mqf = min([mqf_des;m_cyl0*fs]);		igdel = 180/pi*omega*180/pi*0.00020*exp(4650/T)*(P*1e-5)^(-1.19);		if igdel > 30 then			Comb_state = 5;		end;		fiig = fiinj + igdel;		reset = false;			else if phi_comb > fiig and phi_comb < fiig + dphi_comb and Comb_state == 1 then				Comb_state = 2;				reset = true;			else	if phi_comb > fiig + dphi_comb and reset == true then						Comb_state = 5;						reset = false;					end;			end;	end;				if phi_comb > -20 and phi_comb < -15 then		Comb_state = 0;		reset = true;	end;				switch Comb_state		case 2 do			yp = max([(phi_comb - fiig) / wiebe_para[4];0]);			ym = max([0;(phi_comb - (fiig + wiebe_para[3]))/wiebe_para[5]]);			yl = max([0;(phi_comb - (fiig + wiebe_para[3]))/wiebe_para[6]]);			yptomp = yp^wiebe_para[7];			ymtomm = ym^wiebe_para[8];			yltoml = yl^wiebe_para[9];			df1dy = 6.9*(wiebe_para[7] + 1)*yptomp*exp(-6.9*yp*yptomp) / wiebe_para[4];			df2dy = 6.9*(wiebe_para[8] + 1)*ymtomm*exp(-6.9*ym*ymtomm) / wiebe_para[5];			df3dy = 6.9*(wiebe_para[9] + 1)*yltoml*exp(-6.9*yl*yltoml) / wiebe_para[6];			dmf_nom = wiebe_para[1]*df1dy + wiebe_para[2]*df2dy + (1-wiebe_para[1] - wiebe_para[2])*df3dy;			dmf = mqf*dmf_nom*omega*180/pi;		default do			dmf = 0;	end;	// Calculate normalized BMEP and omega (0~1)//	bmepnom = max([0.5;0/pemax]);//	bmepnom = min([1;bmepnom]);//	omeganom = max([0.61;omega/ommax]);//	omeganom = min([1;omeganom]);// Calculate the rate of heat release//	inarr_ROHR[1:11]=[nstroke; fiinj; pfi; P; T; omega; mqf ; hn; bmepnom; Comb_state; fiig];//	inarr_ROHR[12:20] = WiebePara;//	outarr_ROHR=dll(dll_ICE,dll_fcn_rohr, inarr_ROHR);//	if Comb_state == 1 //	dmf = outarr_ROHR[1];//	dqf = outarr_ROHR[2];//	Comb_state = outarr_ROHR[3];//	fiig = outarr_ROHR[4];//	WiebePara = outarr_ROHR[5:13];//	if dmf>0 and dmf<1e-4 then//		dmf = 0;//	end;	pp.f=dmf;	pF.f= dmf;	pT.f=dmf*hn;	//	if Comb_state == 5 then//		reset = true;//	end;	// Get Pmax for cycle 		inarr_pfimax=[time; phi; P];	outarr_pfimax=dll(dll_ICE,dll_icemax, inarr_pfimax);	Pmax=outarr_pfimax[1];Pmax_pfi=outarr_pfimax[2];	p_max = [Pmax;Pmax_pfi];implementation_end;   Splitter10 320 384    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 316.8 380.8 323.2 387.2 color -1 fill 0;      ellipse 315.7 379.7 324.3 388.3 color -1;     terminals      input 320 384 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;   Splitter11 392 456    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 388.8 452.8 395.2 459.2 color -1 fill 0;      ellipse 387.7 451.7 396.3 460.3 color -1;     terminals      input 392 456 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;   Splitter12 312 136    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 308.8 132.8 315.2 139.2 color -1 fill 0;      ellipse 307.7 131.7 316.3 140.3 color -1;     terminals      input 312 136 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;   Splitter13 728 456    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 724.8 452.8 731.2 459.2 color -1 fill 0;      ellipse 723.7 451.7 732.3 460.3 color -1;     terminals      input 728 456 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;   Splitter15 680 440    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 676.8 436.8 683.2 443.2 color -1 fill 0;      ellipse 675.7 435.7 684.3 444.3 color -1;     terminals      input 680 440 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;   Splitter3 448 608    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 444.8 604.8 451.2 611.2 color -1 fill 0;      ellipse 443.7 603.7 452.3 612.3 color -1;     terminals      input 448 608 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;   Splitter4 456 608    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 452.8 604.8 459.2 611.2 color -1 fill 0;      ellipse 451.7 603.7 460.3 612.3 color -1;     terminals      input 456 608 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;   Splitter6 320 608    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 316.8 604.8 323.2 611.2 color -1 fill 0;      ellipse 315.7 603.7 324.3 612.3 color -1;     terminals      input 320 608 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;   Splitter7 608 160    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 604.8 156.8 611.2 163.2 color -1 fill 0;      ellipse 603.7 155.7 612.3 164.3 color -1;     terminals      input 608 160 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;   Splitter8 448 160    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 444.8 156.8 451.2 163.2 color -1 fill 0;      ellipse 443.7 155.7 452.3 164.3 color -1;     terminals      input 448 160 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;   Splitter9 576 536    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 572.8 532.8 579.2 539.2 color -1 fill 0;      ellipse 571.7 531.7 580.3 540.3 color -1;     terminals      input 576 536 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;   Submodel1 344 432    type 'Submodel-Graphical'     ports      power in pQ;      signal in Vol;      signal in Pcyl;      signal in omega;      signal out T_w_phys;    end;    icon bg     figures      text 'dQ' 344 432 36;     terminals      pQ 368 416 fixed;      Vol 368 456 fixed;      Pcyl 320 416 fixed;      omega 320 456 fixed;    end;    implementation bg     submodels      C 272 200       description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\C.emx</LibraryPath>  <TimeStamp>2011-11-29 15:58:35</TimeStamp></Description></Information>';       type C        ports         power in p;         signal out state;        restrictions         causality preferred out p;       end;       icon bg bottom        figures         text 'C' 272 200 18 bold;       end;       implementation eqparameters	real global mCp;	real global T_w_init;variables	real global E_init;initialequations	E_init = mCp*T_w_init;		equations	state = int(p.f, E_init);	p.e = state / mCp;implementation_end;      plug pQ 30 135;      plug Vol 112.5 52.5;      plug Pcyl 165 52.5;      plug omega 217.5 52.5;      plug T_w_phys 272 48;      R 360 136       description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\R.emx</LibraryPath>  <TimeStamp>2011-11-29 16:35:37</TimeStamp></Description></Information>';       type R        ports         power in p;       end;       icon bg bottom        figures         text 'R' 360 136 18 bold;       end;       implementation eqparameters	real global C_cylHT[4];	integer global ncyl;variables	real T_w;	equations	T_w = p.e;	p.f = (((C_cylHT[1]*T_w + C_cylHT[2])*T_w + C_cylHT[3])*T_w + C_cylHT[4])*1e3/ncyl;implementation_end;      R1 168 136       type R        ports         power in pTCyl;         power out pTwall;         signal in Vol;         signal in Pcyl;         signal in omega;        restrictions         causality fixed in pTCyl;       end;       icon bg bottom        figures         text 'R' 168 136 18 bold;       end;       implementation eqparameters	real global slag, Diam;	real Cylhead= 1;variables	real hidden Area, AreaLin, AreaPis, alfa;	real Q;initialequations	AreaPis = 2*pi/4.0*Diam^2;	equations					AreaLin=Vol*4.0/Diam;	Area = AreaPis + AreaLin;	alfa = Cylhead*sqrt(Pcyl*pTCyl.e*1.0e-5)*(slag*omega/pi)^0.333;	Q = alfa*Area*(pTCyl.e-pTwall.e);    	pTCyl.f= Q;	pTwall.f= Q;implementation_end;      ZeroJunction 272 136       description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>  <TimeStamp>2011-11-29 16:45:16</TimeStamp></Description></Information>';       knot ZeroJunction        ports         power knot duplicatable none p [1];         signal knot out effort [1];        restrictions         causality constraint one_in p;       end;       icon bg        figures         text '0' 272 136 18 bold;       end;       implementation eqequations	sum (direct (p.f)) = 0;	equal (collect (p.e));	effort = first (p.e);implementation_end;      ZeroJunction1 97.5 135       knot ZeroJunction        ports         power knot duplicatable none p [1];         signal knot out effort [1];        restrictions         causality constraint one_in p;       end;       icon bg        figures         text '0' 97.5 135 18 bold;       end;       implementation eqequations	sum (direct (p.f)) = 0;	equal (collect (p.e));	effort = first (p.e);    implementation_end;     end;     connections      pQ => ZeroJunction1\p;      ZeroJunction1\p => R1\pTCyl;      R1\pTwall => ZeroJunction\p;      ZeroJunction\p => C\p;      ZeroJunction\p => R\p;      Vol -> R1\Vol;      Pcyl -> R1\Pcyl;      omega -> R1\omega;      ZeroJunction\effort -> T_w_phys;     end;    implementation_end;   Thdyn_Cont_Vol_Eng_Cyl 448 432    description '<Description> <LibraryPath>Bond Graph\C.emx</LibraryPath> <Version>No Version Info</Version> <IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate>   <Configuration><struct>  <member>    <name>DocumentationMask</name>    <value>      <struct>        <member>          <name>MaskChoice</name>          <value>            <int>1</int>          </value>        </member>        <member>          <name>BitmapFilename</name>          <value>            <string></string>          </value>        </member>        <member>          <name>ScriptFilename</name>          <value>            <string></string>          </value>        </member>        <member>          <name>Scaling</name>          <value>            <double>1</double>          </value>        </member>      </struct>    </value>  </member></struct></Configuration><Description>Thermodynamic control volume with fixed volume and no chemical reaction inside</Description></Description>';    type C     ports      pseudohydraulic in pp;      power in pF;      pseudothermalh in pT;      pneumatic out ppV;      signal out Cyl_vol;      signal out m_air_cyl;      pseudothermal out pHT;      signal in dmfb;      signal in omega;      signal in phi {rad} ;     restrictions      causality preferred out pp;      causality fixed out pHT;    end;    icon bg bottom     figures      text 'C' 448 432 51 bold;     terminals      pp 424 408 fixed;      pF 472 408 fixed;      pT 448 408 fixed;      ppV 448 456 fixed;      Cyl_vol 424 456 fixed;      pHT 424 416 fixed;      dmfb 472 432 fixed;      omega 472 456 fixed;      phi 472 440 fixed;    end;    implementation eqparameters	integer icyl = 1;	integer global ncyl;	real global FComb;	real global slag, Diam, alam, Veps;	real global pfi0[ncyl];	real global nstroke;	real global fs;	real global hn;	string global dll_ICE;	// dll filename for subroutines	string hidden dll_fcn_ThDP = 'thdyn_CombGasZachV1'; // subroutines names in the dll file	real global p0[8]; 	real global T0[8];	real global F0[8];variables		real p, T, F;	real U, UInt, U0;	real p0Cyl, T0Cyl, F0Cyl;	real pPrev, TPrev, FPrev, mPrev, mbPrev, VPrev;	real m0, mb0, V0;	real m, mb, V;  	real dF,	dE, u1, u2, D, a11, a12, a21, a22, dp, dT;	real R, RF, RP, RT, uF, uP, uT, u;  		// Thermodynamic properties of the previous state	real Vc;	real hidden inarr_ThermoProp[4], outarr_ThermoProp[16];	real hidden inarr_ThermoProp1[4], outarr_ThermoProp1[16];	real hidden pfi;	initialequations	Vc		= pi*Diam^2/4.0*slag/(Veps-1);	pfi	= pfi0[icyl]/180.0*pi;	V0		= Vc + pi*Diam^2/4.0* ( slag/2.0*(1.0-cos(pfi) + 1.0/alam*(1.0-sqrt(1.0-alam^2*sin(pfi)^2))));	inarr_ThermoProp = [p0[icyl];T0[icyl];F0[icyl];fs];	outarr_ThermoProp = dll(dll_ICE,dll_fcn_ThDP, inarr_ThermoProp);		m0		= p0[icyl]*V0 /(outarr_ThermoProp[1]*T0[icyl]);	mb0 	= m0*(F0[icyl]*fs)/(1+F0[icyl]*fs);	U0 	= outarr_ThermoProp[2]*m0;		pPrev	= p0[icyl];	TPrev	= T0[icyl];	FPrev	= F0[icyl];	p0Cyl	= p0[icyl];	T0Cyl	= T0[icyl];	F0Cyl	= F0[icyl];		mPrev = m0;	mbPrev = mb0;	VPrev = V0;equations	dF 	= (pF.f*m - pp.f*mb)/(fs*(m-mb)^2);	dE 	= pT.dH - pHT.dQ - pPrev*ppV.f;	inarr_ThermoProp = [p;T;F;fs];	outarr_ThermoProp = dll(dll_ICE,dll_fcn_ThDP, inarr_ThermoProp);			R		= outarr_ThermoProp[1];	RF 	= outarr_ThermoProp[5];	RP 	= outarr_ThermoProp[6];	RT 	= outarr_ThermoProp[7];	uF 	= outarr_ThermoProp[8];	uP 	= outarr_ThermoProp[9];	uT 	= outarr_ThermoProp[10];	u 	 	= outarr_ThermoProp[2];		u1 	= 1/R*RF*dF + pp.f/m - ppV.f/V;	u2 	= dE - m*uF*dF - u*pp.f;	D 		= m*(1/p*uT + 1/T*uP - 1/R*(RP*uT - RT*uP));	a11 	= m*uT/D;       a12 = (1/T+1/R*RT)/D;	a21 	= -m*uP/D;      a22 = (1/p-1/R*RP)/D;	dp 	= a11*u1 + a12*u2;	dT 	= a21*u1 + a22*u2;		m 		= int(pp.f,m0);	mb		= int(pF.f,mb0);	V 		= int(ppV.f,V0);	UInt 	= int(dE,U0);		p 		= int(dp, p0Cyl);	T 		= int(dT, T0Cyl);	F 		= mb/((m-mb)*fs);		pp.e = p;	pT.e = T;	pF.e = F;	ppV.e = p;	Cyl_vol = V;	pHT.T = T;	m_air_cyl = m;	pPrev = p;	TPrev = T;	FPrev = F;	mPrev = m;	mbPrev = mb;	VPrev = V;			inarr_ThermoProp1 = [p;T;F;fs];	outarr_ThermoProp1 = dll(dll_ICE,dll_fcn_ThDP, inarr_ThermoProp1);			U = m*outarr_ThermoProp[2];implementation_end;   ZeroJunction 424 312    description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>  <TimeStamp>2011-11-29 16:45:16</TimeStamp></Description></Information>';    knot ZeroJunction     ports      pseudohydraulic knot duplicatable none p [1];      signal knot out effort [1];     restrictions      causality constraint one_in p;    end;    icon bg     figures      text '0' 424 312 18 bold;    end;    implementation eqequations	sum (direct (p.f)) = 0;	equal (collect (p.e));	effort = first (p.e);implementation_end;   ZeroJunction1 448 336    description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>  <TimeStamp>2011-11-29 16:45:16</TimeStamp></Description></Information>';    knot ZeroJunction     ports      pseudothermalh knot duplicatable none p [1];      signal knot out effort [1];     restrictions      causality constraint one_in p;    end;    icon bg     figures      text '0' 448 336 18 bold;    end;    implementation eqequations	sum (direct (p.f)) = 0;	equal (collect (p.e));	effort = first (p.e);implementation_end;   ZeroJunction2 472 360    description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>  <TimeStamp>2011-11-29 16:45:16</TimeStamp></Description></Information>';    knot ZeroJunction     ports      power knot duplicatable none p [1];      signal knot out effort [1];     restrictions      causality constraint one_in p;    end;    icon bg     figures      text '0' 472 360 18 bold;    end;    implementation eqequations	sum (direct (p.f)) = 0;	equal (collect (p.e));	effort = first (p.e);implementation_end;  end;  connections   CrankMechanism\q_rad -> Splitter9\input 'CA(rad)';   Splitter4\output -> Splitter13\input 728 608 'omega';   Thdyn_Cont_Vol_Eng_Cyl\ppV => CrankMechanism\p1;   FlowSensor4\p2 => ZeroJunction\p;   InValve\pF_out => ZeroJunction2\p;   ZeroJunction2\p => ExhValve\pF_in;   ROHR1\pT => FlowSensor3\p1;   ZeroJunction1\p => ExhValve\pT_in;   ExhValve\pp_out => PowerMux\input1;   in => PowerDemux\input;   ExhValve\pF_out => PowerMux\input3;   PowerDemux\output1 => EffortSensor1\p1;   CrankMechanism\p2 => M;   PowerMux\output => out;   ZeroJunction2\p => Thdyn_Cont_Vol_Eng_Cyl\pF;   PowerDemux\output3 => InValve\pF_in;   ZeroJunction\p => ExhValve\pp_in;   ROHR1\pp => FlowSensor4\p1;   EffortSensor1\p2 => InValve\pp_in;   Thdyn_Cont_Vol_Eng_Cyl\pHT => FlowSensor1\p1;   InValve\pT_out => ZeroJunction1\p;   ZeroJunction1\p => Thdyn_Cont_Vol_Eng_Cyl\pT;   ExhValve\pT_out => PowerMux\input2;   FlowSensor1\p2 => Submodel1\pQ;   ROHR1\pF => ZeroJunction2\p;   PowerDemux\output2 => InValve\pT_in;   FlowSensor3\p2 => ZeroJunction1\p;   InValve\pp_out => QSensor1\p1;   ZeroJunction\p => Thdyn_Cont_Vol_Eng_Cyl\pp;   QSensor1\p2 => ZeroJunction\p;   ExhVVLift\lift -> ExhValve\lift 608 272 568 272;   Splitter15\output -> Splitter7\input 680 160;   FlowSensor1\flow -> Splitter12\input 400 264;   Splitter15\output -> Thdyn_Cont_Vol_Eng_Cyl\phi;   Splitter12\output -> Mux\input2;   EffortSensor1\effort -> CrankMechanism\p_scvg 256 280 128 280 128 560;   ZeroJunction\effort -> Splitter10\input 392 328 392 384;   Mux\output -> output1;   input -> Demux\input;   Splitter10\output -> p_cyl;   InValve\beta -> ExhValve\purity 344 176 536 176 544 280;   Demux1\input <- ROHR1\p_max;   CrankMechanism\P -> MSf\flow;   Splitter7\output -> ExhVVLift\CA;   Demux1\output1 -> p_max;   Demux\output5 -> ROHR1\x_lev 424 112;   Demux\output6 -> InValve\AR 408 104;   QSensor1\q -> InValve\m_in 368 288 344 288;   Splitter8\output -> ROHR1\pfi;   Demux\output1 -> ExhVVLift\dCA_lift_nom 592 104;   FlowSensor3\flow -> Thdyn_Cont_Vol_Eng_Cyl\dmfb 488 288 488 432;   Splitter11\output -> V_cyl;   FlowSensor4\flow -> Mux\input1;   Thdyn_Cont_Vol_Eng_Cyl\Cyl_vol -> Splitter11\input;   Splitter8\output -> InValve\pfi 304 160;   Splitter13\output -> Thdyn_Cont_Vol_Eng_Cyl\omega;   ExhValve\open -> exh_open;   Splitter13\output -> ROHR1\omega 728 192 480 192;   InValve\open -> ExhValve\inport_open 344 168 536 168 552 280;   Splitter6\output -> Submodel1\omega 320 608;   ROHR1\Comb_state -> ExhValve\Comb_state;   Demux\output4 -> ROHR1\fiinj 464 112;   Splitter7\output -> Splitter8\input;   Demux\output2 -> ExhVVLift\CA_start_nom 568 112;   Demux\output3 -> ExhValve\AR 544 120;   Splitter9\output -> MSf\phi_rad 576 504;   Splitter4\output -> Splitter6\input;   Splitter11\output -> Submodel1\Vol;   Splitter10\output -> Submodel1\Pcyl 320 384;   CrankMechanism\flow -> Splitter3\input;   Splitter3\output -> Splitter4\input;   Splitter9\output -> Splitter15\input 680 536;   Submodel1\T_w_phys -> T_w_phys;  end; implementation_end;]]>
  </Sidops>
</Model>
</Document>
