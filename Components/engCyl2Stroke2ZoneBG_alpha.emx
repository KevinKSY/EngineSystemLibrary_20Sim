<?xml version="1.0" encoding="UTF-8"?>
<Document>
  <Icons>
    <Icon size="256" bpp="32" format="png">
<![CDATA[89504e470d0a1a0a0000000d49484452000001000000010008060000005c72a86600000006624b474400ff00ff00ffa0bda793000000097048597300000ec400000ec401952b0e1b00001b7049444154789ceddd7f701be59907f04740924d4292251706859b39cbf4c7294cc791af05048456c95c07996bf166da60fbe6eea20c69e3e4b8466e136c9750d99d4e151f69e5721d2c669c913cbd899de90d12dc508bbb32520a3dbbb4458283585c0a92e9341204aa0532f14212effd916cd8183bd68f5dedafef67e699c8b2f6d5e38df6d1bbaff67d65134591c0bafafafa52b2db1eed32a99d20086c4747c7f1d6d6d65fb4b7b7ef631886d73a27bdb3a100589bcd66bbf4021045d1a6652eb51a1b1b7bb4a3a3e35f88889c4ee747535353cbb4ce49efaed23a0100a58c8c8c7448b7dbdada26b4ccc528d003b038b3f400f2f9fca6c6c6c6e7a49f0b85c246bbddfeb2963919017a00600ad168f407d26dafd7fb0e0efef2a00080298c8c8cdc29dddebe7dfba896b918090a00185e22913890cfe7af2122b2dbedb31cc77d4feb9c8c0205000c6f6464e41bd2edf6f6f697f0f15ff930086871461f04e479be61fdfaf57941108888289d4eb7bb5caea31aa76518e80180a145a3d141e9e077b95c3338f82b8302008636323272b7747bd7ae5d712d7331229c02589c914f0132994c5b7373f3181111c3305428141c2ccb4e6b9d9791a0070086353232d22ddde638ee4d1cfc95430100431204818d46a32ee9e75dbb7685b4ccc7a85000c090e2f1f8f7799eb71111391c8e731e8f6750eb9c8c0805000c493ef167fbf6edbfd6321723c320a0c519711010137f94831e00180e26fe280705000c07137f948302008682893fca42010043c1c41f656110d0e28c340888893fca430f000c03137f948702008681893fcac32980c519e51400137fd4811e00180226fea8030500740f137fd4830200ba87893fea410100ddc3c41ff56010d0e2f43e0888893fea420f00740d137fd4850200ba86893fea420100ddc2c41ff5a100806e61e28ffa300868717a1d04c4c49ffa400f007409137fea0305007409137fea03a70016a7c753004cfca91ff400407730f1a77e5000405730f1a7be5000405730f1a7be3006a022f9f93528472f631566801e008085a1000058180a409d88a268d363e8294787c3714eca657474f4df16ca1394830200ba80893fda4001005dc0c41f6de0530015e9f12abbb9f4906339137ff490a719a107009a1b1e1efe2926fe6803050034373838d84244b484883a3a3a52da66632d3805509111baad5ae798c964da3e2f4dfc59b284fef4f6dbf34efcd13a4fb3420fc080fafafa52369b4d5422e4ed2ad5a6cd6613fbfafa52e5fc2ddffbdef77e324b445713d1bd5ffb1a26fed4190a006846100476eaf8f1b55bb66c295dcd3098f8a3816bb44e00ac49100476eb5d77fd69ddb265b3cf3efbec5a4110587cf4577f18035011ce5be7c7f37cc3d6bbeeca66b25926f2f39f1fe438ae77b16db02fd58102a022bc683fa9582c36756cdefcdbbdd9ecd2ddab578b85f7de2beb3414fb521d180380bac964326d5b6fbbedf7a16c76e9b1952ba9fbe1879fd63a27ab430f404578d7fa582a95f2f77774fc28522c5e6527a20dab578b13afbde62af7abbeb02fd5811e00a82efad8636303dbb6fd28562c5ee520a23811b9376dc2f7fce9003e0500551d7ce8a1e75f0b87ef88fdf9cf36e6e27d8fb3ac18d8bfff879a2606448453005559b9db2a0802bbbbad6dca7eecd80dc1f7debbf4b7e78968f3ba75b3b953a7aeaea43d2bef4b35a107008ae379bea1e3cb5f3ede76fcf872df9933971dac8f330ceddabb37a9556e7039f4005464c577ad7c3ebf69474bcbb3816c76a9679edfaf5fb182d2afbfbeb1d2f37f2beecb7ac02020282693c9b475dc79672ab4c0c19f20225753d3690cfee9070a002822f1d4533fe86a6939123b79f26ad7028f1959bd5adcbe776fa4ae89c115e114404556e9b6461f7b6cecc9ef7f7f5be4adb7ae6217780c4f441b56ad12736fbfbdb69a6bfeadb22feb0d838050933ebf3f3dfdb39f6d1c957dcc379fe835d7507b7bfb6b98f0a32f280050b51dadad85865ffdea86c8c5aff2ba9291952bc5c89e3d7d75480b2a80020015933ee3ffd22f7f79c3dc8ff9e69321225abbf63cd6fad31f1400a88820086cc7962d6fb6bef4d2b5e51cfc44448faf5841bb1e7cf0e76ae70695c320a08acc3670255de0b3f7e59757783ffaa8ac6d04225acf30542895aeabe5fcdf6cfb522fd00380b2f03cdfb0f5f6dbff6fa10b7c16324644dc57bef2270cfee9130a002c4a3af843d9ecd2853ee35fc8e32c2b86bef39d3e35f282dae114404566e8b6d672f06788684763e3b9f41b6f2ca9350f33ec4b3dc29580b0204110d81df7dcf3bfdd6fbc51f1c14f4434b272256ddfb327a17862a018f4005464e4772d69b47fd7ef7fbfaadc013fb95aaffc9bcbc8fb52cf300600f3eab8fbeefcf6dffd6e95f7ecd9aab6c7957fc68002009fd0bb67cf2bb7a5d3abb92a0f7e22a29f308c98fcee77bfb1f823414b180380cb8443a1383f3a7a73cf071f54ddcd8e1391eb965b7887c3f1bc82a9810ad003804b52a994ffc91ffef0abb132aeedbf92c75956dcfbe0833f562a2f500f06015564a481ab62b1d8d4d2dc9c1ebfb86c77b594fce84fce48fbd248700a004444d4bb67cff8de77dfade9e02722ea5fb3460cfcf8c78714490a54870200944aa5fcf96472bdaf86413f22a22c116557ae9c2de7bbfe401f300660718220b0bddffce6bf0ed578de4f44f4f8ca95b4abab6b5c89bca03e50002c2e954a3dc09e3a754d3557fac9158928be6c9938f5c003ffa8445e501f3805b0b82747477dad0abcfbf7af5a2576f7f53d810b7f8c059f02a8c80823d78dd75f7f3ef9ce3b57396a6843ad917f3923ec4b23420fc0c2f2f9fc2612049ba3c67676ac5923469e78e21f144809ea0c05006a125db2845c5bb614b0de9f31611010aac613d1c0ead562f2b1c75ab4ce05aa831e8085d9edf657f873e76c4295dbef58bb560c0e0d0de2abbe8c0b05c0c21886e1dbefbbeff56815db0e2e5f2e3a38ee04b76ddbb795ce0bea0705c0e2b6efde7d7084652bfa28686cc9123a76cb2def870e1ffe6bb5f282fa4001b038b7db3d7cf7f6ed2ff59551040422ea5abd5a3c7afbedef8d3ef38c43fdec406d2800407d8383cd1f76741cef58bd5acc2ff0981411b5ac5b37dbd0d3f35fb163c7585cf0630eb810484546bb78251a8d0ef7efdfbfc371ee9ccdf9d147b61bce9ca1e96baf1513b3b336e7673f3b131c1afa96dbed1ed62237a3ed4ba340015091515fb4a954ca9fcd666f2d168b373a1c8e3f78bdde47b51ee937eabed43b140015e145ab1cec4b75600c00c0c25000002c0c0500c0c25000002c0c0500c0c25000002c0c0500c0c25000002c0c0500c0c25000002c0c0500c0c25000002c0c0500c0c25000002c0c0500c0c2f0bd003a209feb6e6598e75f7fe8010058180a008085e1144067acd60dc6e98fb6d00300b0301400000b430100b0301400000b430100b0301400000b430100b0301400000b430100b0301400000b430100b0301400000b430100b0301400000b430100b0301400000b430100b030ac0864513ccf37c4e3f187f3f9fca7e5f7dbedf6931cc71db4dbed2f6b951bd491288a08958288442994789c125128149adadbdba7e5cf395f783c9e523a9d6eb3e23eb252689e8099436f2fee582c1664597676b1835f0a8661c4603098b0d23eb25a689e8099432f2fee52a9d4e0f3f94ec89fc7ebf59e1a1d1d7d74666686953f36168b05e7f610dc6ef707b95c6e9399f7915543f304cc1c7a7971cb0ffe72dfd5c7c7c70fd8edf6f3d2764ea7f3c3b9c5c24cfbc8aaa17902660e3dbcb84747471f95da76b95c67a6a6a6ee2977db52a9d420ef0df8fdfe17cdb88fac1c9a2760e6d0fac55d28149aa4737e8661c44a0e7e2966666658a7d3f9a1945f3299f49b691f593d344fc0cca1f58b9be3b89352bb43434347aa6d67626262a7d48ec3e1386ba67d64f5d03c013387962fee42a1d0241ff0abb53dbfdfffa21abd0014006d0357029a543c1eef916eefddbbf727b5b6b777efde6f49b78f1e3dfa8d5adb037d400130a9d75e7bcd29ddf6783c3fadb53d87c3f1bcd3e9fc8888289bcdde586b7ba00f280026c5f3fc2a222296654586617825dab4dbed6788888ac5e20a25da03eda100989420084b898818861155681baf1b93c07fa449b12c7b9a88a8582c2af67fccf3fc32222287c3715aa936415b280026d5d0d0f047e9f6e4e4e44ef9ef8ac562536363e3d970387ca4dcf6044160b3d9ec72222296656794cb14b4840260521e8fe73fa4db478f1edd23ff5d7f7fff683e9fbf66f7eedd1d5bb76e3d594e7b6363638704412022a2d6d6d65f289a2c6847ebcf21cd1ca4f167dc0e87e32c5dbc0a70626262a7288a944ea7dbe4cf178bc5828bb55328149aa479010cc388a552a9c12cfbc8eaa17902660ead5fdcc964d22fb52b4de6915f1de872b9ce94d38e7c3e80d2d383b5de47560fcd133073e8e1c5ddd9d9f9aad4f6bdf7de5b903f57390b7e44229161e9f16eb7fb0333ee232b87e6099839f4f0e29e3b99470a8ee34e5e69bbb96b08543b99c808fbc8ca814140936318861f1d1dfd2796652fbb1ee0a69b6e3ac9f37cc37cdb8c8d8d3dba61c38637a2d1e8a72fb641434343879d4e2706ff4cc676b1ba820a6c36dba59d2b8aa2add6c7554b1004b6a1a1e1ddb7df7efb1305dfe3f15c769560269359c3f3fca51cdc6ef7e94824d2a6d6c1af977d6455581558070281c03135db0f87c311e9e05fb264092d5fbe5c7cfffdf76d4444a9548a9d6f1b86612810083cd3d3d3e3553337b5ff76b832f40054a48777ad62b1d8d4dcdc9c96ae080c8542719fcfe78fc7e30f3ff9e493f7f03cbf3c93c9ac1104c1e676bb798661ceb5b6b6feb7de9606d7c3be3423140015e9e145dbd5d5f5e2e0e060331191dd6e9fcde5727fa1d4e4a07ad2c3be34230c029a58b1586c0a87c3cdd2cfc1603062c4831fd4831e808ab47ed7daba75ebc9783cbe9e88c8e572cda4d369c34ee3d57a5f9a157a002695c964daa4839f88281008d4bc2a10980f7a002ad2f25d6bf3e6cd2569849fe3b8422c1633f42a3ee801a8033d00138ac7e341f9c77b8140a04bcb7c40bfd003509156ef5acdcdcd673299cc7222229fcff7874824f2997a3db75ad00350077a002633383818930e7e866128180c7e4deb9c40bf50004c441004766060e05ee9e7cececeb49e2ee601fd4101309183070fc6a52bfeec76fb6c3018dca2754ea06f280026512c169b060606be24fddcddddfd142efa81c5a00098c4c0c040545ab3cfe1709cebececdca1714a600028002690c964dae497fc8642a14378f78772e0634015d5eba32b335df2bb107c0ca80ef4000c6e727272a7fc92dfa1a1a16f5de9f10072e801a8a81eef5af28b7ecc70c9ef42d00350077a0006168fc783f28b7e70c92f540a3d0015a9f9ae250802bb61c38653f97cfe1a2222bfdf9f0e85427fa3e473e8097a00ea400fc0a0c2e170443af81986a1eeee6e9fc629810161515015a9b5e025cff30df24b7e0381c03366bfe4178b87aa03a70006649675fe407b38053098b9ebfc050281a338f8a15ae801184c4747c7f4d8d8d85f1199f7a21fa81ff4000c2493c9b449073f11d6f983daa10760202d2d2da71289c43a2222afd7fbcef8f8f8f55ae704c6861e8041c4e3f1a074f013110583c107b4cc07cc013d0083905ff2dbdedefee6e8e8e8bcdfec0b5009f4000c201a8d0ecb2ff90d85425fd53a27300714009d130481edededbdb4b807d6f90325a100e85c381c8ec8d7f9c325bfa02414001d2b168b4dbdbdbd9cf4737777f753cabcfba7fcfb6d36717f6afa8ec32d36d166fb38f6a7e679f4fecb1fd37278fa8e4fb675e1df4b8fdb9ff24bbf9b7f3ba2e9c32da7167b6e5099288a089d86dfef7f9188442212ed76fbf99999195699b693fe7d17dbdd97fcf8fefcb0f71491f7d470fee3fb92fb4824ef70342f6d9bdcf7c2e5db496d7dbcdd8576e6bb6fe19fc5fc70d44b247a87f37768bddfad149a2780983fa6a6a6ee611846940a402c160b2ad7fec583765fd23fdffd730f6e799190eefbf8409da7adf90ee68bf75d686b6e1b17e24251d8f7425207fbdf2a8153009deaeded1d9656f975b95c331cc7f52afd1c5e67e30bf3ddffcaeb5257dd33f88828da1ef17cfcbbe9c3030f1d5aacad864f653e47449ffb54c3ffccbd8f8888524ffffd21f2bef3f5bf95fd9e881afef6eb4f7be995c6d7a7abf863a02a28003a34f7abbd43a1d077354b26b5ff05f979ba23fbb9dc3e451a4eacdbe9b87c6cc1e6d8b93da148db502e14001ddab1634744bacd715cc1e3f10c6a92c8f4e168cbe643b77887f3778aa2681345d1263ef277479469dcfbce70fe629b97c5f8f5f7e312a7ba4101d019f93a7f441a7fb5772e7b7382f6fdb6fb7e59577dfa75d72bb5b6dbe83ceea5c4ba6caed686a05628003a72f1a29f6f4b3ffbfdfeb4cbe53aaa59428dcee35e3a74cbd329e98ee93b0e775ee8a627b2b95bab6eb7e17e5f78d8fbcea1cd2da70ecbcef72f7cdcb8ff85d4821b82d2500074241c0e47b2d9ec52229dacf377e94095ced31dbfce768bb6e43e223a34f0d0e11a06eb1aee1fbf3e3f4c241f07d8fccaf0485e7ce4568f52f9c3a2301948270441601b1b1bdf95aefa0b0402c7fafafa3c1aa705268702a01358e70fb48053001d98bbce1fbeda1bea053d001dd8bd7bf7abe170f86622acf307f5851e80c62e7eb5f7cdd2cf58e70fea093d00954c4e4eeecc64325b8ac5e2655fd6c9b26cc9e5721d73bbdd51866178f9577b7b3c1e3e994c5ea74dc6604528000a4aa552fe9191917f4e24123749a3f90b6118869a9b9b3f9898985825dd974ea7db35fddc1f2c07054001994ca6adb7b7f7a7f2453b2b75db6db79d9e9c9c5cb5f82301948331801af5f6f64e3437378fc90f7e97cb35130a85e2c964b2ab50286c94ae732f954a8e6432d935343434ba71e3c619793bbff9cd6fae6d696939c5f33cae8487fad17a3eb251a3542a35701c77922eced72722d1ebf59e4aa7d36d8b6d3b3333c3daedf6f3f26da5703a9d1fe672b94d5aff7d086b84e60918314aa55283cbe53a231db42ccbce26937317d7583842a1504cbeed73cf3db7c7ed767f20bf6f6a6aea1eadff4e84f943f3048c185eafb4e415892e97eb4c25efd88542a18965d95969fb50281413c50bbd029fcf7742badfe1709c2d954a0d5affad087387e609182de4ebf4b9ddee0f2a5da76fb175fe6a6d1f81a824344fc048914ea7dbe4076fa5e7eab95c6e937c9dbfd1d1d147e77b9cbc8721f51010083542f3048c141e8fa7241d981313133b2bdd5e3e68e872b9ce2cf4b852a9d4200d12daedf6f38542a149ebbf1d61ced03c01a3442c160b4a072fc771272bdd5ede7b2022717c7cfcc0951e2f1f28f4fbfd2f6afdf723cc199a276094686f6f9f960ec8723eea9b1bf251fe720a88fca34287c37156ebbf1f61ced03c0123c4cccc0c2b8ddc7b3c9e52a5dbcb7b0f9514909e9e9e895a8a0e02b158e04ac032a452a907789eb71111b5b5b58d57b2ad20086c7f7fff5ee9e7cececee3e55eefdfdada7a58ba1d8fc77757f2bc00e540012843369bfdbc74dbe3f1fc7b25db86c3e188fcabbd03814047b9dbbaddee6186618888687a7afa2f2b795e8072a00094e1adb7deb24bb7ed76fbabe56e2708023b303070aff4b3dfef9facf4cb3ded76fb3922a27c3e5ff544238085a00094a1582cae23baf00eceb26cd96be11e3c78302eff6aef4020d052e9733b1c8ed344443ccf2fab745b80c5a00094411084a54444170702cb522c169b060606be24fdccf3fc555d5d5dbfcee7f39baacce1ea6ab603b812148032d8edf6778988165be443ae582c6e703a9d97a6fc0a8240e170f8e6c6c6c6e776ecd871a2dc42502c16575ccce14ca579032c0605a00c6bd6ac795fba5dee81eb72b98ea6d3e915b158eca0c7e3b96c85df6834fae9720b41b1585c424464b7dbdfbfd2e300aa81025006a7d37969e06e7272f2be4ab6e538ae37994c5e974c26bb162a045bb76e3d99c964dae66e9bcfe737491f3f4abd1000256149b032148bc5a6f5ebd7bf4444e4f3f9fe1089443e536d5ba954cadfdfdf1f48a552ecdcdf711c570804025dd27502e170f8c8eeddbb3b8888c6c7c71ff67abd3fa8f679e72a77d152a59e0f744aeb2b918c12d244209665679598a29b4ea7dbe6ae2844b24b8593c9a45f9a15c8308ca8c473269349bfcfe73bb1d06a44f2601846e438ee64241219d67adf23d40bcd13304ac827e7f4f4f44c28d5ee950a8114edededd3b53e877c8a71a5e1743a3f8cc56241adff0f10ca87e6091825e49373188611959ea29b4ea7dbe42b02c9e30b5ff8c2e94a961c93877c3e81142e97eb4c28148a259349bffcef28954a0dc964d23f34347464be82e1f57a4f6195227385e6091829e4bd805adf95178a5c2eb7e9d65b6f3d3d5f2170b95c67ca7d27ae65d152290a8542536767e7ab737b0358b4d43ca17902460bf9b4de60309850bafdf1f1f10352fb4b972e15972d5b567121a875d1d2b9313535750f162d3567689e80d12297cb6d920fa229b964d7f8f8f80169c9308661c4f1f1f1038542a1c9eff7bf285f4a4c5e08e61ba4ab65d1d285028b969a33344fc088313131b1537e40fa7cbe13b58ed20f0d0d1d911fdc730fec2b150287c371567abcda8b8a62d1527385e609183526262676ca97f776381c67ab19294f26937e79f79a61984f1cfcf228140a4d814020257f6e296ebcf1c64b3d936a162d2d37b068a97942f3048c1cb95c6e93d3e9fc70be11f62b1d7ca552a92112890ccf1da463597676b1b502e56d2c5408882eac23a8d6bb33162d354f689e80d1a3542a35f4f4f44cccd735675976d6e3f194e4b1d045381cc79dace61dfb4a85c06eb79f0f854231350a01162d3547689e80592297cb6df2f97c27e62b04570ae9aabf5a9f7fdbb66d7f5ce839ec76fbf96030985072d00e8b969a23344fc08c313e3e7ea0b3b3f355f9bbbebc37e0f3f94e8c8e8e3eaad401295fb4f48b5ffc221f0a8562f3f53458969d0d040229a59e178b961a3f344f00517bc8af1d181a1a3a228a178a4224121976381c67d52a041313133ba5360381404aebfd80a83c344f00517bc8cfc7e7bb4067a142c0308ce8f7fb5fac65104f3ae5f1f97c27b4de0f88ca03eb0198c0628b96fa7cbe9db95c6e49241239ec72b92e5ba5687070b0b9b1b1f1a562b1d854cd7363d152634301308172172df5f97c3ba5558ae485c0ebf5162a5dad5882454b8d0d05c0042a5db494e3b85e79210804025d0ae480454b0d0805c004aa59b494e8e34250ee3715cd078b961a1b0a800954b368a952b068a9b1a10098402d8b96d6028b961a1f0a8009783c9e61e9f633cf3c53f1b70f552b9148ec916edf7df7dd4fd4eb7941395815d824366fde5c4aa5522ccbb262a150585b8f157d5b5a5a4e251289750cc350a954ba0eab081b0f7a0026d1dada9a2222e279ded6dfdf5fd15798572391481c482412eb8888388e7b1307bf31a10760128220b08d8d8def168bc5ab1886a15c2eb7b1dacff6cbd1dcdc7c46fadaf3743add5ecb2709a01df4004c826118bebbbbfb29a20b57f8757575fda75acf35383818930e7e8ee30a38f80d4ceb6b9111ca463d172d655976168b81183b344f00a16cd47bd152adff5e446da1790208e5438b454b11c60ccd1340a8135a2d5a8a3056689e0042bdd072d1528431021f039a1ccff30d030303638383836e41102efb1dcbb2a2cbe57a4f7e5f369b5d3ddfa4228ee30aa150e83e87c3f1bcca29433d695d8110f509ad172d45e833fe1fdb64949415f63c8c0000000049454e44ae426082]]>
     </Icon>
  </Icons>
  <Model version="4.4" build="4.4.1.4356">
    <Sidops>
<![CDATA[Eng_Cyl1 326.5 322 description '<Information>
 <Description>
    <Version>4.4</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
  <AllowLibraryUpdate>True</AllowLibraryUpdate>
  <Configuration>
   <struct>
    <member>
     <name>DocumentationMask</name>
     <value>
      <struct>
       <member>
        <name>MaskChoice</name>
        <value>
         <int>1</int>
        </value>
       </member>
       <member>
        <name>BitmapFilename</name>
        <value>
         <string></string>
        </value>
       </member>
       <member>
        <name>ScriptFilename</name>
        <value>
         <string></string>
        </value>
       </member>
       <member>
        <name>Scaling</name>
        <value>
         <double>1</double>
        </value>
       </member>
      </struct>
     </value>
    </member>
   </struct>
  </Configuration>
    <LibraryPath>engine\engCyl2Stroke2ZoneBG_alpha.emx</LibraryPath>
  <TimeStamp>2014-10-9 23:58:29</TimeStamp>
</Description>
</Information>'; type Submodel  ports   rotation out M;   power in in [3,1];   power out out [3,1];   signal in input [6,1];   signal out output1 [2,1];   signal boolean out exh_open;   signal out p_cyl;   signal out V_cyl;   signal out p_max;   signal out T_w_phys; end; icon bg bottom shadow 11776947  figures   text 'name' 339.5 371.5 16;   line 328 408 296 392 326.5 338 width 2;   ellipse 316 396 340 420 width 2;   ellipse 320 328 336 344 width 2;   ellipse 285 380 309 404 width 2;   line 304 344 304 312 352 312 352 344 width 2;   line 296 360 296 256 360 256 360 360 360 360 width 2;   line 368 224 352 264 width 2;   line 328 224 328 264 width 2;   line 312 264 344 264 width 2;   spline 351.5 264 327.5 288 337 295 351.5 264 351.5 264 fill 255;  terminals   M 328 408 fixed;   in 278.5 370 fixed;   out 334.5 218 fixed;   input 374.5 218 fixed;   output1 366.5 218 fixed; end; implementation bg  submodels   CrankMechanism 438 562    description '<Description> <Version>4.4</Version> <IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate>   <Configuration><struct>  <member>    <name>DocumentationMask</name>    <value>      <struct>        <member>          <name>MaskChoice</name>          <value>            <int>1</int>          </value>        </member>        <member>          <name>BitmapFilename</name>          <value>            <string></string>          </value>        </member>        <member>          <name>ScriptFilename</name>          <value>            <string></string>          </value>        </member>        <member>          <name>Scaling</name>          <value>            <double>1</double>          </value>        </member>      </struct>    </value>  </member></struct></Configuration></Description>';    type q_gr360     ports      power in p1;      signal out q_rad;      signal out P;      power out p2;      signal out flow;      signal in p_scvg;    end;    icon bg bottom shadow 11776947     figures      ellipse 435 596 459 620 width 3;      line 448 608 418 582 448 528 width 3;      ellipse 406 570 430 594 width 3;      ellipse 439 520 455 536 width 3;      line 422 536 422 504 470 504 470 536 width 3;     terminals      p1 448 496 fixed;      q_rad 488 536 fixed;      P 488 512 fixed;      p2 448 624 fixed;      flow 448 608 fixed;    end;    implementation bg     submodels      FlowSensor2 296 600       knot FlowSensor        ports         power knot in p1 [1];         power knot out p2 [1];         signal knot out flow [1];        restrictions         causality constraint not_equal p1 p2;       end;       icon bg ellipse        figures         ellipse 289.5 593.5 302.5 606.5 fill 16777215;         text 'f' 296.5 598.5;       end;       implementation eqequations	p2.f = p1.f;	p1.e = p2.e;	flow = p1.f;      implementation_end;      MSe 216 424       description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\MSe.emx</LibraryPath>  <TimeStamp>2011-11-29 16:12:33</TimeStamp></Description></Information>';       type MSe        ports         power in p;         signal in p_scvg;        restrictions         causality fixed out p;       end;       icon bg bottom        figures         text 'MSe' 216 424 18 bold;       end;       implementation eqvariables	real flow;equations	p.e = p_scvg;	flow = p.f;implementation_end;      MTF2 296 512       type MTF        ports         power in p1;         power out p2;         signal in pfi;        restrictions         causality constraint not_equal p1 p2;       end;       icon bg        figures         text 'MTF' 296 512 18 bold;       end;       implementation eqparameters	real global slag, alam;variables	real m;	real csin, ccos;equations		csin=sin(pfi);ccos=cos(pfi);	m = slag/2.0*(csin + alam*csin*ccos/sqrt(1.0-(alam*csin)^2));					p1.e = 1/(m + 1e-20) * p2.e;	p2.f  = 1/(m + 1e-20) * p1.f;     implementation_end;      plug q_rad 416 552;      plug P 408 376;      plug p2 296 648;      plug flow 416 600;      plug p_scvg 88 424;      plug p1 296 312;      OneJunction3 296 424       knot OneJunction        ports         power knot duplicatable none p [1];         signal knot out flow [1];        restrictions         causality constraint one_out p;       end;       icon bg        figures         text '1' 296 424 18 bold;       end;       implementation eqequations	sum (direct (p.e)) = 0;	equal (collect (p.f));	flow = first (p.f);    implementation_end;      PowerSensor2 296 376       description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\PowerSensor.emx</LibraryPath>  <TimeStamp>2011-11-29 16:29:42</TimeStamp></Description></Information>';       knot PowerSensor        ports         power knot in p1 [1];         power knot out p2 [1];         signal knot out P [1] {W} ;        restrictions         causality constraint not_equal p1 p2;       end;       icon bg ellipse        figures         ellipse 289.1 368.8 302.9 383.2 fill 16777215;         text 'P' 296.5 375.8;       end;       implementation eqequations	p2.e = p1.e;	p1.f = p2.f;	P = p1.e .* p1.f;implementation_end;      QSensor4 296 552       knot q_        ports         power knot in p1 [1];         power knot out p2 [1];         signal knot out q_rad [1];        restrictions         causality constraint not_equal p1 p2;       end;       icon bg ellipse        figures         ellipse 289.5 546 302.5 559 fill 16777215;         text 'q' 295.5 550;       end;       implementation eqparameters	integer global ncyl;	integer icyl= 1;	real global nstroke;	real global pfi0[ncyl];variables	real q0;	real b;	real q_gr;initialequations	q0=pfi0[icyl]*pi/180.0;	b 		= nstroke*180.0;	equations	p2.f 	= p1.f;	p1.e 	= p2.e;	q_rad 	= int (p1.f, q0);	q_gr	= q_rad*180.0/pi;     implementation_end;      Splitter1 360 552       description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';       knot Splitter        ports         signal knot duplicatable out output [1];         signal knot in input [1];       end;       icon bg ellipse        figures         ellipse 356.8 548.8 363.2 555.2 color -1 fill 0;         ellipse 355.7 547.7 364.3 556.3 color -1;        terminals         input 360 552 fixed;       end;       implementation eqequations    collect (output) = input;implementation_end;      TF2 296 472       type TF        ports         power in p1;         power out p2;        restrictions         causality constraint not_equal p1 p2;       end;       icon bg        figures         text 'TF' 296 472 18 bold;       end;       implementation eqparameters	real global Diam;variables	real r;initialequations	r=1/(pi*Diam^2/4.0);equations						p1.e = r * p2.e;	p2.f = r * p1.f;       implementation_end;     end;     connections      OneJunction3\p => TF2\p1;      TF2\p2 => MTF2\p1;      OneJunction3\p => MSe\p;      MTF2\p2 => QSensor4\p1;      PowerSensor2\p2 => OneJunction3\p;      QSensor4\p2 => FlowSensor2\p1;      p1 => PowerSensor2\p1;      FlowSensor2\p2 => p2;      Splitter1\output -> q_rad;      QSensor4\q_rad -> Splitter1\input;      PowerSensor2\P -> P;      FlowSensor2\flow -> flow;      Splitter1\output -> MTF2\pfi 360 512;      p_scvg -> MSe\p_scvg;     end;    implementation_end;   Demux 489.5 72.5			specifications active 'outputs_6'				specification 'default'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-10-5 22:44:58</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal in input [2,1];   signal out output2; end; icon bg bottom  figures   line 129.5 64 129.5 96 width 2;   rectangle 125.5 64 133.5 96 color -1;   text '2' 134.5 91 color 8421504 8;  terminals   output1 129.5 72 fixed;   input 129.5 80 fixed;   output2 129.5 88 fixed; end; implementation eqequations	[output1; output2] = input;implementation_end;specification_end;				specification 'outputs_1'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output;   signal in input; end; icon bg bottom  figures   line 128 64 128 80 width 2;   rectangle 124 64 132 80 color -1;   text '1' 133 82 color 8421504 8;  terminals   input 128 72 fixed;   output 128 72 fixed; end; implementation eqequations	output = input;implementation_end;specification_end;				specification 'outputs_2'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal in input [2,1];   signal out output2; end; icon bg bottom  figures   line 128 56 128 88 width 2;   rectangle 124 56 132 88 color -1;   text '2' 133 83 color 8421504 8;  terminals   output1 128 64 fixed;   input 128 72 fixed;   output2 128 80 fixed; end; implementation eqequations	[output1; output2] = input;implementation_end;specification_end;				specification 'outputs_3'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal in input [3,1]; end; icon bg bottom  figures   line 128 56 128 88 width 2;   rectangle 124 56 132 88 color -1;   text '3' 133 82 color 8421504 8;  terminals   output1 128 64 fixed;   output2 128 72 fixed;   output3 128 80 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3] = input;implementation_end;specification_end;				specification 'outputs_4'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal in input [4,1]; end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '4' 133 83 color 8421504 8;  terminals   output1 128 56 fixed;   output2 128 64 fixed;   output3 128 80 fixed;   output4 128 88 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4] = input;implementation_end;specification_end;				specification 'outputs_5'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal in input [5,1]; end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '5' 133 83 color 8421504 8;  terminals   output1 128 56 fixed;   output2 128 64 fixed;   output3 128 72 fixed;   output4 128 80 fixed;   output5 128 88 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5] = input;implementation_end;specification_end;				specification 'outputs_6' description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal out output6;   signal in input [6,1]; end; icon bg bottom  figures   line 521.5 70.5 457.5 70.5 width 2;   rectangle 457.5 66.5 521.5 74.5 color -1;   text '6' 478.5 75.5 color 8421504 8;  terminals   output1 513.5 70.5 fixed;   output2 505.5 70.5 fixed;   output3 497.5 70.5 fixed;   output4 481.5 70.5 fixed;   output5 473.5 70.5 fixed;   output6 465.5 70.5 fixed;   input 489.5 70.5 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5; output6] = input;implementation_end;specification_end;				specification 'outputs_7'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal out output6;   signal out output7;   signal in input [7,1]; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '7' 133 83 color 8421504 8;  terminals   output1 128 48 fixed;   output2 128 56 fixed;   output3 128 64 fixed;   output4 128 72 fixed;   output5 128 80 fixed;   output6 128 88 fixed;   output7 128 96 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5; output6; output7] = input;implementation_end;specification_end;				specification 'outputs_8'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal out output6;   signal out output7;   signal out output8;   signal in input [8,1]; end; icon bg bottom  figures   line 128 32 128 112 width 2;   rectangle 124 32 132 112 color -1;   text '8' 133 83 color 8421504 8;  terminals   output1 128 40 fixed;   output2 128 48 fixed;   output3 128 56 fixed;   output4 128 64 fixed;   output5 128 80 fixed;   output6 128 88 fixed;   output7 128 96 fixed;   output8 128 104 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5; output6; output7; output8] = input;implementation_end;specification_end;				specification 'outputs_9'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal out output6;   signal out output7;   signal out output8;   signal out output9;   signal in input [9,1]; end; icon bg bottom  figures   line 128 32 128 112 width 2;   text '9' 132 83 color 8421504 8;  terminals   output1 128 40 fixed;   output2 128 48 fixed;   output3 128 56 fixed;   output4 128 64 fixed;   output5 128 72 fixed;   output6 128 80 fixed;   output7 128 88 fixed;   output8 128 96 fixed;   output9 128 104 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5; output6; output7; output8; output9] = input;implementation_end;specification_end;			end;   Demux1 361.5 72.5			specifications active 'outputs_2'				specification 'default'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-10-5 22:44:58</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal in input [2,1];   signal out output2; end; icon bg bottom  figures   line 129.5 64 129.5 96 width 2;   rectangle 125.5 64 133.5 96 color -1;   text '2' 134.5 91 color 8421504 8;  terminals   output1 129.5 72 fixed;   input 129.5 80 fixed;   output2 129.5 88 fixed; end; implementation eqequations	[output1; output2] = input;implementation_end;specification_end;				specification 'outputs_1'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output;   signal in input; end; icon bg bottom  figures   line 128 64 128 80 width 2;   rectangle 124 64 132 80 color -1;   text '1' 133 82 color 8421504 8;  terminals   input 128 72 fixed;   output 128 72 fixed; end; implementation eqequations	output = input;implementation_end;specification_end;				specification 'outputs_2' description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal in input [2,1];   signal out output2; end; icon bg bottom  figures   line 377.5 70.5 345.5 70.5 width 2;   rectangle 345.5 66.5 377.5 74.5 color -1;   text '2' 350.5 75.5 color 8421504 8;  terminals   output1 369.5 70.5 fixed;   input 361.5 70.5 fixed;   output2 353.5 70.5 fixed; end; implementation eqequations	[output1; output2] = input;implementation_end;specification_end;				specification 'outputs_3'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal in input [3,1]; end; icon bg bottom  figures   line 128 56 128 88 width 2;   rectangle 124 56 132 88 color -1;   text '3' 133 82 color 8421504 8;  terminals   output1 128 64 fixed;   output2 128 72 fixed;   output3 128 80 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3] = input;implementation_end;specification_end;				specification 'outputs_4'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal in input [4,1]; end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '4' 133 83 color 8421504 8;  terminals   output1 128 56 fixed;   output2 128 64 fixed;   output3 128 80 fixed;   output4 128 88 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4] = input;implementation_end;specification_end;				specification 'outputs_5'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal in input [5,1]; end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '5' 133 83 color 8421504 8;  terminals   output1 128 56 fixed;   output2 128 64 fixed;   output3 128 72 fixed;   output4 128 80 fixed;   output5 128 88 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5] = input;implementation_end;specification_end;				specification 'outputs_6'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal out output6;   signal in input [6,1]; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '6' 133 83 color 8421504 8;  terminals   output1 128 48 fixed;   output2 128 56 fixed;   output3 128 64 fixed;   output4 128 80 fixed;   output5 128 88 fixed;   output6 128 96 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5; output6] = input;implementation_end;specification_end;				specification 'outputs_7'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal out output6;   signal out output7;   signal in input [7,1]; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '7' 133 83 color 8421504 8;  terminals   output1 128 48 fixed;   output2 128 56 fixed;   output3 128 64 fixed;   output4 128 72 fixed;   output5 128 80 fixed;   output6 128 88 fixed;   output7 128 96 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5; output6; output7] = input;implementation_end;specification_end;				specification 'outputs_8'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal out output6;   signal out output7;   signal out output8;   signal in input [8,1]; end; icon bg bottom  figures   line 128 32 128 112 width 2;   rectangle 124 32 132 112 color -1;   text '8' 133 83 color 8421504 8;  terminals   output1 128 40 fixed;   output2 128 48 fixed;   output3 128 56 fixed;   output4 128 64 fixed;   output5 128 80 fixed;   output6 128 88 fixed;   output7 128 96 fixed;   output8 128 104 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5; output6; output7; output8] = input;implementation_end;specification_end;				specification 'outputs_9'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal out output6;   signal out output7;   signal out output8;   signal out output9;   signal in input [9,1]; end; icon bg bottom  figures   line 128 32 128 112 width 2;   text '9' 132 83 color 8421504 8;  terminals   output1 128 40 fixed;   output2 128 48 fixed;   output3 128 56 fixed;   output4 128 64 fixed;   output5 128 72 fixed;   output6 128 80 fixed;   output7 128 88 fixed;   output8 128 96 fixed;   output9 128 104 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5; output6; output7; output8; output9] = input;implementation_end;specification_end;			end;   EffortSensor1 256 320    description '<Description><Version>4.0</Version><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Bond Graph\EffortSensor.emx</LibraryPath>  <TimeStamp>2007-9-27 9:59:27</TimeStamp></Description>';    knot EffortSensor     ports      power knot in p1 [1];      pseudohydraulic knot out p2 [1];      signal knot out effort [1];     restrictions      causality constraint not_equal p1 p2;    end;    icon bg ellipse     figures      ellipse 249.1 313.3 262.9 327.4 fill 16777215;      text 'e' 256.5 317.6;    end;    implementation eqequations	p2.e = p1.e;	p1.f = p2.f;	effort = p1.e;     implementation_end;   ExhValve 568 328    description '<Description> <LibraryPath>Bond Graph\R.emx</LibraryPath> <Version>No Version Info</Version> <IsMainModel>0</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate>   <Configuration><struct>  <member>    <name>DocumentationMask</name>    <value>      <struct>        <member>          <name>MaskChoice</name>          <value>            <int>1</int>          </value>        </member>        <member>          <name>BitmapFilename</name>          <value>            <string></string>          </value>        </member>        <member>          <name>ScriptFilename</name>          <value>            <string></string>          </value>        </member>        <member>          <name>Scaling</name>          <value>            <double>1</double>          </value>        </member>      </struct>    </value>  </member></struct></Configuration></Description>';    type R     ports      power in pF_in;      power out pF_out;      power in pp_in;      pseudohydraulic out pp_out;      power in pT_in;      pseudothermalh out pT_out;      signal in lift; "Crank angle starting with 0 at TDC before intake stroke"      signal in purity;      signal in Comb_state;      signal in AR;      signal boolean in inport_open;      signal boolean out open;     restrictions      causality fixed in pp_in;      causality fixed in pF_in;      causality fixed in pT_in;      causality fixed in pp_out;      causality fixed in pF_out;      causality fixed in pT_out;    end;    icon bg bottom     figures      text 'R' 568 328 51 bold;     terminals      pF_in 536 360 fixed;      pF_out 600 360 fixed;      pp_in 536 312 fixed;      pp_out 600 312 fixed;      pT_in 536 336 fixed;      pT_out 600 336 fixed;      lift 568 296 fixed;      open 600 296 fixed;    end;    implementation eqparameters	real global nstroke;   //number of stroke of the engine	real global fs;			//Stoichiometric fuel-air ratio// Thermo package	string global dll_ICE;	string dll_fcn_thdyn 	= 'thdyn_CombGasZach';	// Valve dimension	real global Dv; // Valve head diameter	real global beta; // Seat angle	real global w; // Valve seat width	real global Dp; // Inner seat diameter	real global Ds; // Stem diameter  	// Parameters for curve fit for Cd correlation   real global p1;   	real global p2;   real global p3;		real global q1;	real global q2;		real global q3;	real global Cd_corr_coeff[3];// The fit model was taken from the Sher, E. (1990). Scavenging // the two-stroke engine. Progress in Energy and Combustion Science, // 16(2), 95-124. variables	real hidden inarr_ThermoProp[3], outarr_ThermoProp[13];	real Area;	real hidden aa, pc, ksi, ksi1, ksim, ksin, ksil, p_AV, T_AV, d, a, c;	real F_AV;	real hidden h, rgas, kap;	real interesting dm, dm_b, dE;	real hidden sinb, cosb, tanb, sin2b;	real Cd, L_Dv, F0;	boolean reset;initialequations	sinb = sin(beta);	cosb = cos(beta); tanb = tan(beta);	sin2b = sin(2*beta);	reset = true;	F0 = 0.0001;code// Calculate the area of valve (from Heywood)		if Comb_state == 5 and reset == true then		F0 = pF_in.e;		reset= false;	else 	if Comb_state == 0 and reset == false then				reset = true;			end;	end;	if lift > 0 then		open = true;		if lift < (w / (sinb*cosb)) then			Area = pi*lift*cosb*(Dv-2*w+lift/2*sin2b);		else if lift <= (((Dp^2 - Ds^2)/(4*(Dv-w)) - w^2)^0.5 + w*tanb) then      	     	Area = pi*(Dv-w)*((lift - w*tanb)^2 + w^2)^0.5;           else          	  	Area = 0.25*pi*(Dp^2 - Ds^2);           end;		end;// Find the Cd at Pr_ref 2.35 (from E. Sher, see above)  		L_Dv = lift/Dv;		Cd = (p1*L_Dv^2 + p2*L_Dv + p3) /               (L_Dv^3 + q1*L_Dv^2 + q2*L_Dv + q3);	else		open = false;   	Cd = 0;   	Area = 0;//		if reset == true then reset = false; end;	end;		if Area == 0 then		dm = 0;		dE = 0;		dm_b = 0;	else		Area = AR*Area;		aa = pp_in.e / pp_out.e;		if (aa > 1) then					p_AV	=pp_in.e; T_AV=pT_in.e; d	= 1; 	a	=aa;					if pF_in.e > 0 then						if inport_open == true then							F_AV = (1-purity)*F0/(purity*F0*fs + 1);						else							F_AV = pF_in.e;						end;					else						F_AV = 0;					end;				else					p_AV	=pp_out.e; T_AV=pT_out.e; F_AV= pF_out.e;	d	=-1; a	=1.0/aa;		end;// Calculate thermodynamic properties from (T,P,x)		inarr_ThermoProp = [p_AV;T_AV;F_AV];		outarr_ThermoProp = dll(dll_ICE,dll_fcn_thdyn, inarr_ThermoProp);			h		= outarr_ThermoProp[4];		rgas	= outarr_ThermoProp[1];		kap		= outarr_ThermoProp[13];			pc = (2.0 / (kap + 1))^(kap / (kap - 1));		c = 1 / pc;		ksim = sqrt(kap * ((2 / (kap + 1))^((kap + 1) / (kap - 1))));		ksin = sqrt(2 * kap / (kap - 1) * (a^(-2 / kap) - a^(-(kap + 1) / kap)));		ksil = 1000 * (a - 1) * sqrt(2 * kap / (kap - 1) * (1.001^(-2 / kap) - 1.001^(-(kap + 1) / kap)));		ksi1 = if (a > c) then ksim 	else ksin end;		ksi = if (a <= 1.001) then					ksil				else 					ksi1				end;//	Correction of Cd to Pr    	Cd = (Cd_corr_coeff[1]*a^2 + Cd_corr_coeff[2]*a + Cd_corr_coeff[3])*Cd;		dm = Cd*Area * p_AV / sqrt(rgas * T_AV) * ksi * d;		if F_AV > 0 then			if inport_open == true then				dm_b = (1-purity)*(F0*fs)/(1+F0*fs)*dm;			else				dm_b = (F_AV*fs)/(1+F_AV*fs)*dm;			end;			else 			dm_b = 0;		end;			dE = dm * h;	end;	pp_in.f = dm;	pp_out.f = dm;	pT_in.f = dE;	pT_out.f = dE;	pF_in.f = dm_b;	pF_out.f = dm_b;implementation_end;   ExhVVLift 608 239.9    description '<Description> <Version>4.0</Version> <LibraryPath>Template\Submodel-Equation.emx</LibraryPath> <IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <TimeStamp>2007-11-1 22:32:1</TimeStamp> <AllowLibraryUpdate>False</AllowLibraryUpdate>   <Configuration><struct>  <member>    <name>DocumentationMask</name>    <value>      <struct>        <member>          <name>MaskChoice</name>          <value>            <int>1</int>          </value>        </member>        <member>          <name>BitmapFilename</name>          <value>            <string></string>          </value>        </member>        <member>          <name>ScriptFilename</name>          <value>            <string></string>          </value>        </member>        <member>          <name>Scaling</name>          <value>            <double>1</double>          </value>        </member>      </struct>    </value>  </member></struct></Configuration></Description>';    type 'ExhVVLift-Equation'     ports      signal out lift;      signal in CA;      signal in CA_start_nom;      signal in dCA_lift_nom;    end;    icon bg     figures      rectangle 574.9 223.9 641.1 255.8 fill 15132390;      text 'name' 609 239.9 16;     terminals      lift 608 255.9 fixed;      CA_start_nom 576 223.9 fixed;      dCA_lift_nom 592 223.9 fixed;    end;    implementation eqparameters//	real CA_start_nom = 1.1;//	real dCA_lift_nom = 1;	real global lift_max;	real hidden global CA_start_ref; //Reference start CA for start of valve lift	real hidden global dCA_lift_up;	 //Lift up time (should not be changed unless file is changed	real hidden global dCA_lift_down; //Lift down time (should not be changed unless file is changed	real hidden global dCA_lift_top_ref; //Reference duration for lift upvariables	real CA_start, dCA_lift, dCA_total, CA_VV;	real phi;code	CA_start = CA_start_nom*CA_start_ref;	dCA_lift = dCA_lift_nom*dCA_lift_top_ref;		dCA_total = dCA_lift_up + dCA_lift + dCA_lift_down;	phi = CA*180/pi mod 360;	if phi > CA_start and phi < CA_start + dCA_total then		CA_VV = phi - CA_start;		if CA_VV <= dCA_lift_up then			lift = table('ExhVVProfUp.csv',CA_VV);		else 	if CA_VV <= dCA_lift_up + dCA_lift then					lift = 1;			  	else 	if CA_VV <= dCA_lift_up + dCA_lift + dCA_lift_down then							CA_VV = phi - (CA_start + dCA_lift_up + dCA_lift);							lift = table('ExhVVProfDown.csv',CA_VV);					 	else 					 		lift = 0;							end;				end;		end;	else		lift = 0;		end;				lift = lift_max*lift; implementation_end;   FlowSensor1 400 416    description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\FlowSensor.emx</LibraryPath>  <TimeStamp>2011-11-29 15:50:53</TimeStamp></Description></Information>';    knot FlowSensor     ports      pseudothermal knot in p1 [1];      power knot out p2 [1];      signal knot out flow [1];     restrictions      causality constraint not_equal p1 p2;    end;    icon bg ellipse     figures      ellipse 393.1 408.8 406.9 423.1 fill 16777215;      text 'f' 400 415.2;    end;    implementation eqequations	p2.f = p1.f;	p1.e = p2.e;	flow = p1.f;implementation_end;   FlowSensor3 448 288    description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\FlowSensor.emx</LibraryPath>  <TimeStamp>2011-11-29 15:50:53</TimeStamp></Description></Information>';    knot FlowSensor     ports      power knot in p1 [1];      pseudothermalh knot out p2 [1];      signal knot out flow [1];     restrictions      causality constraint not_equal p1 p2;    end;    icon bg ellipse     figures      ellipse 441.1 280.8 454.9 295.1 fill 16777215;      text 'f' 448 287.2;    end;    implementation eqequations	p2.f = p1.f;	p1.e = p2.e;	flow = p1.f;implementation_end;   FlowSensor4 424 280    description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\FlowSensor.emx</LibraryPath>  <TimeStamp>2011-11-29 15:50:53</TimeStamp></Description></Information>';    knot FlowSensor     ports      power knot in p1 [1];      pseudohydraulic knot out p2 [1];      signal knot out flow [1];     restrictions      causality constraint not_equal p1 p2;    end;    icon bg ellipse     figures      ellipse 417.1 272.8 430.9 287.1 fill 16777215;      text 'f' 424 279.2;    end;    implementation eqequations	p2.f = p1.f;	p1.e = p2.e;	flow = p1.f;implementation_end;   InValve 304 328    description '<Description> <LibraryPath>Bond Graph\R.emx</LibraryPath> <Version>No Version Info</Version> <IsMainModel>0</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>';    type beta     ports      power in pF_in;      power out pF_out;      pseudohydraulic in pp_in;      pseudohydraulic out pp_out;      pseudothermalh in pT_in;      pseudothermalh out pT_out;      signal in pfi; "Crank angle starting with 0 at TDC before intake stroke"      signal out beta;      signal in m_in;      signal in AR;      signal boolean out open; "indication for port opening (true : open / false : close)"     restrictions      causality fixed in pF_in;      causality fixed in pF_out;      causality fixed in pT_in;      causality fixed in pT_out;      causality fixed in pp_out;      causality fixed in pp_in;    end;    icon bg bottom     figures      text 'R' 304 328 51 bold;     terminals      pF_in 272 360 fixed;      pF_out 336 360 fixed;      pp_in 272 312 fixed;      pp_out 336 312 fixed;      pT_in 272 336 fixed;      pT_out 336 336 fixed;      pfi 304 296 fixed;    end;    implementation eqparameters	real global nstroke;   //number of stroke of the engine	real global fs;			//Stoichiometric fuel-air ratio	real global slag, alam;  //stroke, ratio of crank rod to conneting rod// Thermo package	string global dll_ICE;	string dll_fcn_thdyn 	= 'thdyn_CombGasZach';// Port dimension	real global N_p;				//No of ports	real global Y;				//Height of the ports	real global X;				//Width of the ports// Parameters for purity calculation	real global Diam;	//Bore size		real global kai; //Shape factor for 'S-type' curve;	real global delta; //Shape factor for 'S-type' curve;	variables	real Area;	real a_CR, l_CR, x_p;  // Length of crank rod, connecting rod, position of piston relative to TDC	real r;				// Radius of the corner of the port		real y_open, theta;		// Opening height and angle for corner	real Cd;					// openging ratio	real hidden inarr_ThermoProp[3], outarr_ThermoProp[13];	real hidden aa, pc, ksi, ksi1, ksim, ksin, ksil, p_AV, T_AV, F_AV, d, a, c;	real hidden h, rgas, kap;	real interesting dm, dm_b, dE;  	real m_in_prev, m_in_temp;	real lambda_s; //Delivery ratio	real rho0, Vd;  // Reference density for purity calculation at air reciever	real phi0;      // angle at the opening start	boolean reset;  // indication for port opening begins (ture : open begin / false : otherwise)	real phi;	real A_R;		initialequations	a_CR = slag/2;	l_CR = a_CR / alam;	r = X / 2;	Vd = pi*Diam^2/4*slag;			open = true;	reset = false;	m_in_prev = 0;	phi0 = 0;code	phi = pfi*180/pi mod 360;// Calculating the position of the piston w.r.t. TDC	x_p = a_CR + l_CR - (a_CR*cos(pfi) + sqrt(l_CR^2 - (a_CR*sin(pfi))^2));   if x_p > (slag - Y) then		open = true;// Calculating the area and discharge coefficient of the port		y_open = x_p - (slag - Y);      if y_open < r then      	theta = arcsin((r-y_open)/r);         Area = (X-2*r)*y_open + 0.5*r^2*(pi/2-theta) - 0.5*(r-y_open)*r*cos(theta);      else if y_open > (Y - r) then      			y_open = y_open - (Y - r);               theta = arcsin(min([y_open/r;1]));               Area = X*(Y-r) - 0.43*r^2 + (X-2*r)*y_open + 0.5*r^2*theta + 0.5*r*cos(theta)*y_open;           else               Area = X*y_open - 0.43*r^2;           end;      end;		Area = AR*Area;      A_R = Area / (X*Y - 0.86*r^2);      Area = Area*N_p;      Cd = -5.408*A_R^5 + 15.9*A_R^4 + -19.03*A_R^3 + 11.39*A_R^2 + -3.284*A_R + 1.143;		// The fit model was taken from the Sher, E. (1990). Scavenging 		// the two-stroke engine. Progress in Energy and Combustion Science, 		// 16(2), 95-124.       Cd = min([0.98, Cd]);// Determine the flow direction				aa = pp_in.e / pp_out.e;		if (aa > 1) then			p_AV	=pp_in.e; T_AV=pT_in.e; F_AV= pF_in.e;	d	= 1; 	a	=aa;		else			p_AV	=pp_out.e; T_AV=pT_out.e; F_AV= pF_out.e;	d	=-1; a	=1.0/aa;		end;/// Calculate thermodynamic properties from (P,T,F)		inarr_ThermoProp = [p_AV;T_AV;F_AV];		outarr_ThermoProp = dll(dll_ICE,dll_fcn_thdyn, inarr_ThermoProp);			h		= outarr_ThermoProp[4];		rgas	= outarr_ThermoProp[1];		kap		= outarr_ThermoProp[13];/// Calculate the flow based on ideal nozzle equation for compressible gas		pc = (2.0 / (kap + 1))^(kap / (kap - 1));		c = 1 / pc;		ksim = sqrt(kap * ((2 / (kap + 1))^((kap + 1) / (kap - 1))));		ksin = sqrt(2 * kap / (kap - 1) * (a^(-2 / kap) - a^(-(kap + 1) / kap)));		ksil = 1000 * (a - 1) * sqrt(2 * kap / (kap - 1) * (1.001^(-2 / kap) - 1.001^(-(kap + 1) / kap)));		ksi1 = if (a > c) then ksim 	else ksin end;		ksi = if (a <= 1.001) then ksil else ksi1 end;		dm = Cd*Area * p_AV / sqrt(rgas * T_AV) * ksi * d;		dE = dm * h;		dm_b = dm * (F_AV*fs)/(1+F_AV*fs);// Calculation of purity of the exhaust		if reset == true then			rho0 = pp_in.e / 287 / pT_in.e;			m_in_temp = m_in - m_in_prev;			lambda_s = m_in_temp / rho0 / Vd;			phi0 = phi;			beta = 0;			reset = false;		else			m_in_temp = m_in - m_in_prev;			lambda_s = m_in_temp / rho0 / Vd;			beta = 1 - exp(-kai*lambda_s*((phi - phi0)/(2*(180-phi0)))^delta);		end;   else      dm = 0;      dE = 0;		dm_b = 0;			beta = 0;		lambda_s = 0;		open = false;   end;		if open == false and reset == false then		reset = true;		m_in_prev = m_in;	end;			pp_in.f = dm;	pp_out.f = dm;	pT_in.f = dE;	pT_out.f = dE;	pF_in.f = dm_b;	pF_out.f = dm_b;				implementation_end;   MSf 552 480    description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\MSf.emx</LibraryPath>  <TimeStamp>2011-11-29 16:14:18</TimeStamp></Description></Information>';    type MSf     ports      signal in flow;      signal in phi_rad;    end;    icon bg bottom     figures      text 'powCyc' 552 480 18 bold;    end;    implementation eqparameters	real global Diam, slag;	string global dll_ICE;	string hidden dll_fcn_mip	= 'ice_mip';	variables	real hidden inarr[2], outarr[1];	real hidden Vslag, Yint;	real imep, Wcyl;	initialequations	Vslag=pi/4.0*Diam^2*slag;	equations	Yint = int(flow);	inarr	=[phi_rad; Yint];	outarr	= dll(dll_ICE,dll_fcn_mip, inarr);	imep = min([30e5;outarr[1]/Vslag]);	Wcyl = outarr[1];implementation_end;   Mux 304 106			specifications active 'inputs_2'				specification 'default'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Mux.emx</LibraryPath>  <TimeStamp>2011-10-5 22:44:58</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Mux  ports   signal in input1;   signal out output [2,1];   signal in input2; end; icon bg bottom  figures   line 129.5 64 129.5 96 width 2;   rectangle 125.5 64 133.5 96 color -1;   text '2' 134.5 91 color 8421504 8;  terminals   input1 129.5 72 fixed;   output 129.5 80 fixed;   input2 129.5 88 fixed; end; implementation eqequations	output = [input1; input2];implementation_end;specification_end;				specification 'inputs_1'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Mux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Mux  ports   signal in input;   signal out output; end; icon bg bottom  figures   line 128 64 128 80 width 2;   rectangle 124 64 132 80 color -1;   text '1' 133 82 color 8421504 8;  terminals   input 128 72 fixed;   output 128 72 fixed; end; implementation eqequations	output = input;implementation_end;specification_end;				specification 'inputs_2' description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Mux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Mux  ports   signal in input1;   signal out output [2,1];   signal in input2; end; icon bg bottom  figures   line 320 104 288 104 width 2;   rectangle 288 100 320 108 color -1;   text '2' 293 109 color 8421504 8;  terminals   input1 312 104 fixed;   output 304 104 fixed;   input2 296 104 fixed; end; implementation eqequations	output = [input1; input2];implementation_end;specification_end;				specification 'inputs_3'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Mux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Mux  ports   signal in input1;   signal in input2;   signal in input3;   signal out output [3,1]; end; icon bg bottom  figures   line 128 56 128 88 width 2;   rectangle 124 56 132 88 color -1;   text '3' 133 82 color 8421504 8;  terminals   input1 128 64 fixed;   input2 128 72 fixed;   input3 128 80 fixed;   output 128 72 fixed; end; implementation eqequations	output = [input1; input2; input3];implementation_end;specification_end;				specification 'inputs_4'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Mux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Mux  ports   signal in input1;   signal in input2;   signal in input3;   signal in input4;   signal out output [4,1]; end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '4' 133 83 color 8421504 8;  terminals   input1 128 56 fixed;   input2 128 64 fixed;   input3 128 80 fixed;   input4 128 88 fixed;   output 128 72 fixed; end; implementation eqequations	output = [input1; input2; input3; input4];implementation_end;specification_end;				specification 'inputs_5'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Mux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Mux  ports   signal in input1;   signal in input2;   signal in input3;   signal in input4;   signal in input5;   signal out output [5,1]; end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '5' 133 83 color 8421504 8;  terminals   input1 128 56 fixed;   input2 128 64 fixed;   input3 128 72 fixed;   input4 128 80 fixed;   input5 128 88 fixed;   output 128 72 fixed; end; implementation eqequations	output = [input1; input2; input3; input4; input5];implementation_end;specification_end;				specification 'inputs_6'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Mux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Mux  ports   signal in input1;   signal in input2;   signal in input3;   signal in input4;   signal in input5;   signal in input6;   signal out output [6,1]; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '6' 133 83 color 8421504 8;  terminals   input1 128 48 fixed;   input2 128 56 fixed;   input3 128 64 fixed;   input4 128 80 fixed;   input5 128 88 fixed;   input6 128 96 fixed;   output 128 72 fixed; end; implementation eqequations	output = [input1; input2; input3; input4; input5; input6];implementation_end;specification_end;				specification 'inputs_7'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Mux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Mux  ports   signal in input1;   signal in input2;   signal in input3;   signal in input4;   signal in input5;   signal in input6;   signal in input7;   signal out output [7,1]; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '7' 133 83 color 8421504 8;  terminals   input1 128 48 fixed;   input2 128 56 fixed;   input3 128 64 fixed;   input4 128 72 fixed;   input5 128 80 fixed;   input6 128 88 fixed;   input7 128 96 fixed;   output 128 72 fixed; end; implementation eqequations	output = [input1; input2; input3; input4; input5; input6; input7];implementation_end;specification_end;				specification 'inputs_8'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Mux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Mux  ports   signal in input1;   signal in input2;   signal in input3;   signal in input4;   signal in input5;   signal in input6;   signal in input7;   signal in input8;   signal out output [8,1]; end; icon bg bottom  figures   line 128 32 128 112 width 2;   rectangle 124 32 132 112 color -1;   text '8' 133 83 color 8421504 8;  terminals   input1 128 40 fixed;   input2 128 48 fixed;   input3 128 56 fixed;   input4 128 64 fixed;   input5 128 80 fixed;   input6 128 88 fixed;   input7 128 96 fixed;   input8 128 104 fixed;   output 128 72 fixed; end; implementation eqequations	output = [input1; input2; input3; input4; input5; input6; input7; input8];implementation_end;specification_end;				specification 'inputs_9'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Mux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Mux  ports   signal in input1;   signal in input2;   signal in input3;   signal in input4;   signal in input5;   signal in input6;   signal in input7;   signal in input8;   signal in input9;   signal out output [9,1]; end; icon bg bottom  figures   line 128 32 128 112 width 2;   text '9' 132 83 color 8421504 8;  terminals   input1 128 40 fixed;   input2 128 48 fixed;   input3 128 56 fixed;   input4 128 64 fixed;   input5 128 72 fixed;   input6 128 80 fixed;   input7 128 88 fixed;   input8 128 96 fixed;   input9 128 104 fixed;   output 128 72 fixed; end; implementation eqequations	output = [input1; input2; input3; input4; input5; input6; input7; input8; input9];implementation_end;specification_end;			end;   plug p_max 368 40;   plug V_cyl 392 504;   plug p_cyl 272 384;   plug exh_open 640 280;   plug output1 304 40;   plug input 488 40;   plug out 664 336;   plug in 208 336;   plug M 448 696;   plug T_w_phys 208 432;   PowerDemux 241.5 336			specifications active 'inputs_3'				specification 'default'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-10-5 22:44:58</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power in input [2,1];   power out output2;  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input; end; icon bg bottom  figures   line 129.5 64 129.5 96 width 2;   rectangle 125.5 64 133.5 96 color -1;   text '2' 134.5 91 color 8421504 8;  terminals   output1 129.5 72 fixed;   input 129.5 80 fixed;   output2 129.5 88 fixed; end; implementation eqequations	input.e = [output1.e; output2.e];	input.f = [output1.f; output2.f];implementation_end;specification_end;				specification 'inputs_1'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power in input;   power out output;  restrictions   causality constraint not_equal output input; end; icon bg bottom  figures   line 128 64 128 80 width 2;   rectangle 124 64 132 80 color -1;   text '1' 133 82 color 8421504 8;  terminals   input 128 72 fixed;   input 128 72 fixed; end; implementation eqequations	input.e = output.e;	input.f = output.f;implementation_end;specification_end;				specification 'inputs_2'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power in input [2,1];   power out output2;  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input; end; icon bg bottom  figures   line 128 56 128 88 width 2;   rectangle 124 56 132 88 color -1;   text '2' 133 83 color 8421504 8;  terminals   output1 128 64 fixed;   input 128 72 fixed;   output2 128 80 fixed; end; implementation eqequations	input.e = [output1.e; output2.e];	input.f = [output1.f; output2.f];implementation_end;specification_end;				specification 'inputs_3' description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power out output2;   power out output3;   power in input [3,1];  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input;   causality constraint not_equal output3 input; end; icon bg bottom  figures   line 240 320 240 352 width 2;   rectangle 236 320 244 352 color -1;   text '3' 245 346 color 8421504 8;  terminals   output1 240 328 fixed;   output2 240 336 fixed;   output3 240 344 fixed;   input 240 336 fixed; end; implementation eqequations	input.e = [output1.e; output2.e; output3.e];	input.f = [output1.f; output2.f; output3.f];implementation_end;specification_end;				specification 'inputs_4'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power out output2;   power out output3;   power out output4;   power in input [4,1];  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input;   causality constraint not_equal output3 input;   causality constraint not_equal output4 input; end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '4' 133 83 color 8421504 8;  terminals   output1 128 56 fixed;   output2 128 64 fixed;   output3 128 80 fixed;   output4 128 88 fixed;   input 128 72 fixed; end; implementation eqequations	input.e = [output1.e; output2.e; output3.e; output4.e];	input.f = [output1.f; output2.f; output3.f; output4.f];implementation_end;specification_end;				specification 'inputs_5'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power out output2;   power out output3;   power out output4;   power out output5;   power in input [5,1];  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input;   causality constraint not_equal output3 input;   causality constraint not_equal output4 input;   causality constraint not_equal output5 input;end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '5' 133 83 color 8421504 8;  terminals   output1 128 56 fixed;   output2 128 64 fixed;   output3 128 72 fixed;   output4 128 80 fixed;   output5 128 88 fixed;   input 128 72 fixed; end; implementation eqequations	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e];	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f];implementation_end;specification_end;				specification 'inputs_6'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power out output2;   power out output3;   power out output4;   power out output5;   power out output6;   power in input [6,1];  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input;   causality constraint not_equal output3 input;   causality constraint not_equal output4 input;   causality constraint not_equal output5 input;   causality constraint not_equal output6 input; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '6' 133 83 color 8421504 8;  terminals   output1 128 48 fixed;   output2 128 56 fixed;   output3 128 64 fixed;   output4 128 80 fixed;   output5 128 88 fixed;   output6 128 96 fixed;   input 128 72 fixed; end; implementation eqequations	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e];	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f];implementation_end;specification_end;				specification 'inputs_7'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power out output2;   power out output3;   power out output4;   power out output5;   power out output6;   power out output7;   power in input [7,1];  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input;   causality constraint not_equal output3 input;   causality constraint not_equal output4 input;   causality constraint not_equal output5 input;   causality constraint not_equal output6 input;   causality constraint not_equal output7 input; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '7' 133 83 color 8421504 8;  terminals   output1 128 48 fixed;   output2 128 56 fixed;   output3 128 64 fixed;   output4 128 72 fixed;   output5 128 80 fixed;   output6 128 88 fixed;   output7 128 96 fixed;   input 128 72 fixed; end; implementation eqequations	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e];	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f];implementation_end;specification_end;				specification 'inputs_8'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power out output2;   power out output3;   power out output4;   power out output5;   power out output6;   power out output7;   power out output8;   power in input [8,1];  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input;   causality constraint not_equal output3 input;   causality constraint not_equal output4 input;   causality constraint not_equal output5 input;   causality constraint not_equal output6 input;   causality constraint not_equal output7 input;   causality constraint not_equal output8 input; end; icon bg bottom  figures   line 128 32 128 112 width 2;   rectangle 124 32 132 112 color -1;   text '8' 133 83 color 8421504 8;  terminals   output1 128 40 fixed;   output2 128 48 fixed;   output3 128 56 fixed;   output4 128 64 fixed;   output5 128 80 fixed;   output6 128 88 fixed;   output7 128 96 fixed;   output8 128 104 fixed;   input 128 72 fixed; end; implementation eqequations	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e; output8.e];	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f; output8.f];implementation_end;specification_end;				specification 'inputs_9'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power out output2;   power out output3;   power out output4;   power out output5;   power out output6;   power out output7;   power out output8;   power out output9;   power in input [9,1];  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input;   causality constraint not_equal output3 input;   causality constraint not_equal output4 input;   causality constraint not_equal output5 input;   causality constraint not_equal output6 input;   causality constraint not_equal output7 input;   causality constraint not_equal output8 input;   causality constraint not_equal output9 input; end; icon bg bottom  figures   line 128 32 128 112 width 2;   text '9' 132 83 color 8421504 8;  terminals   output1 128 40 fixed;   output2 128 48 fixed;   output3 128 56 fixed;   output4 128 64 fixed;   output5 128 72 fixed;   output6 128 80 fixed;   output7 128 88 fixed;   output8 128 96 fixed;   output9 128 104 fixed;   input 128 72 fixed; end; implementation eqequations	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e; output8.e; output9.e];implementation_end;	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f; output8.f; output9.f];specification_end;			end;   PowerMux 625.5 336			specifications active 'inputs_3'				specification 'default'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-10-5 22:44:58</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power out output [2,1];   power in input2;  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output; end; icon bg bottom  figures   line 129.5 64 129.5 96 width 2;   rectangle 125.5 64 133.5 96 color -1;   text '2' 134.5 91 color 8421504 8;  terminals   input1 129.5 72 fixed;   output 129.5 80 fixed;   input2 129.5 88 fixed; end; implementation eqequations	output.e = [input1.e; input2.e];	output.f = [input1.f; input2.f];implementation_end;specification_end;				specification 'inputs_1'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input;   power out output;  restrictions   causality constraint not_equal input output; end; icon bg bottom  figures   line 128 64 128 80 width 2;   rectangle 124 64 132 80 color -1;   text '1' 133 82 color 8421504 8;  terminals   input 128 72 fixed;   output 128 72 fixed; end; implementation eqequations	output.e = input.e;	output.f = input.f;implementation_end;specification_end;				specification 'inputs_2'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power out output [2,1];   power in input2;  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output; end; icon bg bottom  figures   line 128 56 128 88 width 2;   rectangle 124 56 132 88 color -1;   text '2' 133 83 color 8421504 8;  terminals   input1 128 64 fixed;   output 128 72 fixed;   input2 128 80 fixed; end; implementation eqequations	output.e = [input1.e; input2.e];	output.f = [input1.f; input2.f];implementation_end;specification_end;				specification 'inputs_3' description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power in input2;   power in input3;   power out output [3,1];  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output;   causality constraint not_equal input3 output; end; icon bg bottom  figures   line 624 320 624 352 width 2;   rectangle 620 320 628 352 color -1;   text '3' 629 346 color 8421504 8;  terminals   input1 624 328 fixed;   input2 624 336 fixed;   input3 624 344 fixed;   output 624 336 fixed; end; implementation eqequations	output.e = [input1.e; input2.e; input3.e];	output.f = [input1.f; input2.f; input3.f];implementation_end;specification_end;				specification 'inputs_4'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power in input2;   power in input3;   power in input4;   power out output [4,1];  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output;   causality constraint not_equal input3 output;   causality constraint not_equal input4 output; end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '4' 133 83 color 8421504 8;  terminals   input1 128 56 fixed;   input2 128 64 fixed;   input3 128 80 fixed;   input4 128 88 fixed;   output 128 72 fixed; end; implementation eqequations	output.e = [input1.e; input2.e; input3.e; input4.e];	output.f = [input1.f; input2.f; input3.f; input4.f];implementation_end;specification_end;				specification 'inputs_5'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power in input2;   power in input3;   power in input4;   power in input5;   power out output [5,1];  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output;   causality constraint not_equal input3 output;   causality constraint not_equal input4 output;   causality constraint not_equal input5 output; end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '5' 133 83 color 8421504 8;  terminals   input1 128 56 fixed;   input2 128 64 fixed;   input3 128 72 fixed;   input4 128 80 fixed;   input5 128 88 fixed;   output 128 72 fixed; end; implementation eqequations	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e];	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f];implementation_end;specification_end;				specification 'inputs_6'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power in input2;   power in input3;   power in input4;   power in input5;   power in input6;   power out output [6,1];  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output;   causality constraint not_equal input3 output;   causality constraint not_equal input4 output;   causality constraint not_equal input5 output;   causality constraint not_equal input6 output; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '6' 133 83 color 8421504 8;  terminals   input1 128 48 fixed;   input2 128 56 fixed;   input3 128 64 fixed;   input4 128 80 fixed;   input5 128 88 fixed;   input6 128 96 fixed;   output 128 72 fixed; end; implementation eqequations	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e];	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f];implementation_end;specification_end;				specification 'inputs_7'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power in input2;   power in input3;   power in input4;   power in input5;   power in input6;   power in input7;   power out output [7,1];  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output;   causality constraint not_equal input3 output;   causality constraint not_equal input4 output;   causality constraint not_equal input5 output;   causality constraint not_equal input6 output;   causality constraint not_equal input7 output; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '7' 133 83 color 8421504 8;  terminals   input1 128 48 fixed;   input2 128 56 fixed;   input3 128 64 fixed;   input4 128 72 fixed;   input5 128 80 fixed;   input6 128 88 fixed;   input7 128 96 fixed;   output 128 72 fixed; end; implementation eqequations	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e];	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f];implementation_end;specification_end;				specification 'inputs_8'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power in input2;   power in input3;   power in input4;   power in input5;   power in input6;   power in input7;   power in input8;   power out output [8,1];  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output;   causality constraint not_equal input3 output;   causality constraint not_equal input4 output;   causality constraint not_equal input5 output;   causality constraint not_equal input6 output;   causality constraint not_equal input7 output;   causality constraint not_equal input8 output; end; icon bg bottom  figures   line 128 32 128 112 width 2;   rectangle 124 32 132 112 color -1;   text '8' 133 83 color 8421504 8;  terminals   input1 128 40 fixed;   input2 128 48 fixed;   input3 128 56 fixed;   input4 128 64 fixed;   input5 128 80 fixed;   input6 128 88 fixed;   input7 128 96 fixed;   input8 128 104 fixed;   output 128 72 fixed; end; implementation eqequations	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e; input8.e];	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f; input8.f];implementation_end;specification_end;				specification 'inputs_9'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power in input2;   power in input3;   power in input4;   power in input5;   power in input6;   power in input7;   power in input8;   power in input9;   power out output [9,1];  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output;   causality constraint not_equal input3 output;   causality constraint not_equal input4 output;   causality constraint not_equal input5 output;   causality constraint not_equal input6 output;   causality constraint not_equal input7 output;   causality constraint not_equal input8 output;   causality constraint not_equal input9 output; end; icon bg bottom  figures   line 128 32 128 112 width 2;   text '9' 132 83 color 8421504 8;  terminals   input1 128 40 fixed;   input2 128 48 fixed;   input3 128 56 fixed;   input4 128 64 fixed;   input5 128 72 fixed;   input6 128 80 fixed;   input7 128 88 fixed;   input8 128 96 fixed;   input9 128 104 fixed;   output 128 72 fixed; end; implementation eqequations	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e; input8.e; input9.e];implementation_end;	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f; input8.f; input9.f];specification_end;			end;   QSensor1 368 312    description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\QSensor.emx</LibraryPath>  <TimeStamp>2011-11-29 16:34:15</TimeStamp></Description></Information>';    knot QSensor     ports      pseudohydraulic knot in p1 [1];      pseudohydraulic knot out p2 [1];      signal knot out q [1];     restrictions      causality constraint not_equal p1 p2;    end;    icon bg ellipse     figures      ellipse 361.1 305.3 374.9 319.4 fill 16777215;      text 'q' 367.5 309.6;    end;    implementation eqequations	p2.f = p1.f;	p1.e = p2.e;	q = int (p1.f);implementation_end;   ROHR1 446.9 232    type Submodel     ports      power out pp;      power out pF;      power out pT;      signal in x_lev; "Controller Input (Throttle)"      signal in omega; "Engine speed (rad/s)"      signal integer out Comb_state; "0: Start of new cycle / 1 : injection started / 2 : start of combustion / 5: end of combustion"      signal out p_max [2,1];      signal in pfi;      signal in fiinj;     restrictions      causality fixed in pp;      causality fixed in pF;      causality fixed in pT;    end;    icon bg     figures      rectangle 411.1 217 482.6 247 fill 12895428;      text 'name' 447.9 232 16;     terminals      pp 423.9 256 fixed;      pF 470.9 256 fixed;      pT 446.9 256 fixed;      x_lev 422.9 208 fixed;      omega 478.9 208 fixed;      Comb_state 486.9 256 fixed;      pfi 446.9 208 fixed;      fiinj 462.9 208 fixed;    end;    implementation eqparameters	integer global ncyl;	real global nstroke;	real global hn;//	real global fiinj;	real global mqf_max;	real global pemax;	real global ommax;	real global T_L;	real global T_H;	real global fs;	real global slag, Diam, alam, Veps;	integer global CASE;//Fuel composition [C H O N]	real global FC[4];// Englib	string global dll_ICE;//	string dll_fcn_rohr    = 'ice_rohr';	string dll_icemax    = 'ice_pfimax';	string hidden dll_fcn_ThDP = 'thdyn_CombGasZach'; // subroutines names in the dll file//	string dll_fcn_rohr = 		'ice_rohr2';	real wiebe_para[9] = [0.07;0.57;3.05;11;24;56.3;1.5;1;0.7];variables	real phi;	real phi_comb;	real P, F, T, V_cyl, m_cyl0, Vc;	real dmf;	real mqf_des, mqf, mqf_min;//	real inarr_ROHR[20], outarr_ROHR[13];	real fiig;	real hidden inarr_pfimax[3], outarr_pfimax[2];	real hidden inarr_ThermoProp[3], outarr_ThermoProp[13];	real Pmax, Pmax_pfi;//	real bmepnom, omeganom;//	real eta_i, sfoc;//	real mfPC, mf, Oldmf, OldmfPC;	boolean reset;		real dphi_comb, igdel, dmf_nom;	real yp, ym, yl, yptomp, ymtomm, yltoml, df1dy, df2dy, df3dy;	initialequations	Comb_state = 0;	// 0: Start of new cycle / 1 : injection started / 2 : start of combustion / 5: end of combustion//	if fiinj > 180 then fiinj = fiinj - 360; end;		fiig = 0;	reset = true;	mqf = 0;	dmf = 0;	Vc	= pi*Diam^2/4.0*slag/(Veps-1);	dphi_comb = wiebe_para[3] + wiebe_para[6];code	P=pp.e; F=pF.e; T=pT.e;	phi = pfi*180/pi mod 360;// Deternmine the mass of fuel per cycle not exceeding the stoichiometric ratio	if phi > 180 then 		phi_comb= phi - 360;  	else		phi_comb = phi;	end;	if phi_comb > fiinj and Comb_state == 0 then		Comb_state = 1;		mqf_des = mqf_max * x_lev;		inarr_ThermoProp = [P;T;F];		outarr_ThermoProp = dll(dll_ICE,dll_fcn_ThDP, inarr_ThermoProp);			V_cyl = pi*Diam^2*slag^2/8*alam*(alam + 1 - (alam*cos(pfi) + sqrt(1 - (alam*sin(pfi))^2))) + Vc;		m_cyl0 = P*V_cyl/outarr_ThermoProp[1]/T;			mqf_min = m_cyl0*fs;			mqf = min([mqf_des;m_cyl0*fs]);		igdel = 180/pi*omega*180/pi*0.00020*exp(4650/T)*(P*1e-5)^(-1.19);		if igdel > 30 then			Comb_state = 5;		end;		fiig = fiinj + igdel;		reset = false;			else if phi_comb > fiig and phi_comb < fiig + dphi_comb and Comb_state == 1 then				Comb_state = 2;				reset = true;			else	if phi_comb > fiig + dphi_comb and reset == true then						Comb_state = 5;						reset = false;					end;			end;	end;				if phi_comb > -20 and phi_comb < -15 then		Comb_state = 0;		reset = true;	end;				switch Comb_state		case 2 do			yp = max([(phi_comb - fiig) / wiebe_para[4];0]);			ym = max([0;(phi_comb - (fiig + wiebe_para[3]))/wiebe_para[5]]);			yl = max([0;(phi_comb - (fiig + wiebe_para[3]))/wiebe_para[6]]);			yptomp = yp^wiebe_para[7];			ymtomm = ym^wiebe_para[8];			yltoml = yl^wiebe_para[9];			df1dy = 6.9*(wiebe_para[7] + 1)*yptomp*exp(-6.9*yp*yptomp) / wiebe_para[4];			df2dy = 6.9*(wiebe_para[8] + 1)*ymtomm*exp(-6.9*ym*ymtomm) / wiebe_para[5];			df3dy = 6.9*(wiebe_para[9] + 1)*yltoml*exp(-6.9*yl*yltoml) / wiebe_para[6];			dmf_nom = wiebe_para[1]*df1dy + wiebe_para[2]*df2dy + (1-wiebe_para[1] - wiebe_para[2])*df3dy;			dmf = mqf*dmf_nom*omega*180/pi;		default do			dmf = 0;	end;	// Calculate normalized BMEP and omega (0~1)//	bmepnom = max([0.5;0/pemax]);//	bmepnom = min([1;bmepnom]);//	omeganom = max([0.61;omega/ommax]);//	omeganom = min([1;omeganom]);// Calculate the rate of heat release//	inarr_ROHR[1:11]=[nstroke; fiinj; pfi; P; T; omega; mqf ; hn; bmepnom; Comb_state; fiig];//	inarr_ROHR[12:20] = WiebePara;//	outarr_ROHR=dll(dll_ICE,dll_fcn_rohr, inarr_ROHR);//	if Comb_state == 1 //	dmf = outarr_ROHR[1];//	dqf = outarr_ROHR[2];//	Comb_state = outarr_ROHR[3];//	fiig = outarr_ROHR[4];//	WiebePara = outarr_ROHR[5:13];//	if dmf>0 and dmf<1e-4 then//		dmf = 0;//	end;	pp.f=dmf;	pF.f= dmf;	pT.f=dmf*hn;	//	if Comb_state == 5 then//		reset = true;//	end;	// Get Pmax for cycle 		inarr_pfimax=[time; phi; P];	outarr_pfimax=dll(dll_ICE,dll_icemax, inarr_pfimax);	Pmax=outarr_pfimax[1];Pmax_pfi=outarr_pfimax[2];	p_max = [Pmax;Pmax_pfi];implementation_end;   Splitter10 320 384    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 316.8 380.8 323.2 387.2 color -1 fill 0;      ellipse 315.7 379.7 324.3 388.3 color -1;     terminals      input 320 384 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;   Splitter11 416 456    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 412.8 452.8 419.2 459.2 color -1 fill 0;      ellipse 411.7 451.7 420.3 460.3 color -1;     terminals      input 416 456 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;   Splitter12 312 136    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 308.8 132.8 315.2 139.2 color -1 fill 0;      ellipse 307.7 131.7 316.3 140.3 color -1;     terminals      input 312 136 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;   Splitter13 728 456    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 724.8 452.8 731.2 459.2 color -1 fill 0;      ellipse 723.7 451.7 732.3 460.3 color -1;     terminals      input 728 456 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;   Splitter15 680 440    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 676.8 436.8 683.2 443.2 color -1 fill 0;      ellipse 675.7 435.7 684.3 444.3 color -1;     terminals      input 680 440 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;   Splitter3 448 608    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 444.8 604.8 451.2 611.2 color -1 fill 0;      ellipse 443.7 603.7 452.3 612.3 color -1;     terminals      input 448 608 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;   Splitter4 456 608    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 452.8 604.8 459.2 611.2 color -1 fill 0;      ellipse 451.7 603.7 460.3 612.3 color -1;     terminals      input 456 608 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;   Splitter6 320 608    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 316.8 604.8 323.2 611.2 color -1 fill 0;      ellipse 315.7 603.7 324.3 612.3 color -1;     terminals      input 320 608 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;   Splitter7 608 160    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 604.8 156.8 611.2 163.2 color -1 fill 0;      ellipse 603.7 155.7 612.3 164.3 color -1;     terminals      input 608 160 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;   Splitter8 448 160    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 444.8 156.8 451.2 163.2 color -1 fill 0;      ellipse 443.7 155.7 452.3 164.3 color -1;     terminals      input 448 160 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;   Splitter9 576 536    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 572.8 532.8 579.2 539.2 color -1 fill 0;      ellipse 571.7 531.7 580.3 540.3 color -1;     terminals      input 576 536 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;   Submodel1 344 432    type 'Submodel-Graphical'     ports      power in pQ;      signal in Vol;      signal in Pcyl;      signal in omega;      signal out T_w_phys;    end;    icon bg     figures      text 'dQ' 344 432 36;     terminals      pQ 368 416 fixed;      Vol 368 456 fixed;      Pcyl 320 416 fixed;      omega 320 456 fixed;    end;    implementation bg     submodels      C 272 200       description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\C.emx</LibraryPath>  <TimeStamp>2011-11-29 15:58:35</TimeStamp></Description></Information>';       type C        ports         power in p;         signal out state;        restrictions         causality preferred out p;       end;       icon bg bottom        figures         text 'C' 272 200 18 bold;       end;       implementation eqparameters	real global mCp;	real global T_w_init;variables	real global E_init;initialequations	E_init = mCp*T_w_init;		equations	state = int(p.f, E_init);	p.e = state / mCp;implementation_end;      plug pQ 30 135;      plug Vol 112.5 52.5;      plug Pcyl 165 52.5;      plug omega 217.5 52.5;      plug T_w_phys 272 48;      R 360 136       description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\R.emx</LibraryPath>  <TimeStamp>2011-11-29 16:35:37</TimeStamp></Description></Information>';       type R        ports         power in p;       end;       icon bg bottom        figures         text 'R' 360 136 18 bold;       end;       implementation eqparameters	real global C_cylHT[4];	integer global ncyl;variables	real T_w;	equations	T_w = p.e;	p.f = (((C_cylHT[1]*T_w + C_cylHT[2])*T_w + C_cylHT[3])*T_w + C_cylHT[4])*1e3/ncyl;implementation_end;      R1 168 136       type R        ports         power in pTCyl;         power out pTwall;         signal in Vol;         signal in Pcyl;         signal in omega;        restrictions         causality fixed in pTCyl;       end;       icon bg bottom        figures         text 'R' 168 136 18 bold;       end;       implementation eqparameters	real global slag, Diam;	real Cylhead= 1;variables	real hidden Area, AreaLin, AreaPis, alfa;	real Q;initialequations	AreaPis = 2*pi/4.0*Diam^2;	equations					AreaLin=Vol*4.0/Diam;	Area = AreaPis + AreaLin;	alfa = Cylhead*sqrt(Pcyl*pTCyl.e*1.0e-5)*(slag*omega/pi)^0.333;	Q = alfa*Area*(pTCyl.e-pTwall.e);    	pTCyl.f= Q;	pTwall.f= Q;implementation_end;      ZeroJunction 272 136       description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>  <TimeStamp>2011-11-29 16:45:16</TimeStamp></Description></Information>';       knot ZeroJunction        ports         power knot duplicatable none p [1];         signal knot out effort [1];        restrictions         causality constraint one_in p;       end;       icon bg        figures         text '0' 272 136 18 bold;       end;       implementation eqequations	sum (direct (p.f)) = 0;	equal (collect (p.e));	effort = first (p.e);implementation_end;      ZeroJunction1 97.5 135       knot ZeroJunction        ports         power knot duplicatable none p [1];         signal knot out effort [1];        restrictions         causality constraint one_in p;       end;       icon bg        figures         text '0' 97.5 135 18 bold;       end;       implementation eqequations	sum (direct (p.f)) = 0;	equal (collect (p.e));	effort = first (p.e);    implementation_end;     end;     connections      pQ => ZeroJunction1\p;      ZeroJunction1\p => R1\pTCyl;      R1\pTwall => ZeroJunction\p;      ZeroJunction\p => C\p;      ZeroJunction\p => R\p;      Vol -> R1\Vol;      Pcyl -> R1\Pcyl;      omega -> R1\omega;      ZeroJunction\effort -> T_w_phys;     end;    implementation_end;   Thdyn_Cont_Vol_Eng_Cyl 448 432    description '<Description> <LibraryPath>Bond Graph\C.emx</LibraryPath> <Version>No Version Info</Version> <IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate>   <Configuration><struct>  <member>    <name>DocumentationMask</name>    <value>      <struct>        <member>          <name>MaskChoice</name>          <value>            <int>1</int>          </value>        </member>        <member>          <name>BitmapFilename</name>          <value>            <string></string>          </value>        </member>        <member>          <name>ScriptFilename</name>          <value>            <string></string>          </value>        </member>        <member>          <name>Scaling</name>          <value>            <double>1</double>          </value>        </member>      </struct>    </value>  </member></struct></Configuration><Description>Thermodynamic control volume with fixed volume and no chemical reaction inside</Description></Description>';    type C     ports      pseudohydraulic in pp;      power in pF;      pseudothermalh in pT;      pneumatic out ppV;      signal out Cyl_vol;      signal out m_air_cyl;      pseudothermal out pHT;      signal in dmfb;      signal in omega;      signal in phi {rad} ;     restrictions      causality preferred out pp;      causality fixed out pHT;    end;    icon bg bottom     figures      text 'C' 448 432 51 bold;     terminals      pp 424 408 fixed;      pF 472 408 fixed;      pT 448 408 fixed;      ppV 448 456 fixed;      Cyl_vol 424 456 fixed;      pHT 424 416 fixed;      dmfb 472 432 fixed;      omega 472 456 fixed;      phi 472 440 fixed;    end;    implementation eqparameters	integer icyl = 1;	integer global ncyl;	real global FComb;	real global slag, Diam, alam, Veps;	real global pfi0[ncyl];	real global nstroke;	real global fs;	real global hn;	string global dll_ICE;	// dll filename for subroutines	string hidden dll_fcn_ThDP = 'thdyn_CombGasZachV1'; // subroutines names in the dll file	string hidden dll_fcn_th_MEV = 'thdyn_PTFV1'; // subroutines names in the dll file	real global alpha;  //Ratio of mass of burned zone and unburend zone after mixing	real global DPhiMix; // Duration of mixing of a burned zone and an unburned [deg]	real global phi0Mix; // Start of mixing of a burned zone and an unburned [deg]	real global p0[8]; 	real global T0[8];	real global F0[8];variables	real phi360, phiComb, q;	real hidden m0, E0, mb0, V0, Vc, pfi;	real hidden mu0, Uu0, mub0, Vu0, mbb0, Ub0, mbbb0, Vb0;	real mu, Uu, mub, Vu, mb, Ub, mbb, Vb;	real dmu, dUu, dmub, dVu, dmb, dUb, dmbb, dVb, dmMix, mb0Mix, dQu, dQb, dHu, dHb;	real p, pu, Tu, Fu, pb, Tb, Fb, errP;	real hidden Ru,uu,su,hu,RFu,RPu,RTu,uFu,uPu,uTu,sFu,sPu,sTu,Cpu,Cvu,Ku;	real hidden Rb,ub,sb,hb,RFb,RPb,RTb,uFb,uPb,uTb,sFb,sPb,sTb,Cpb,Cvb,Kb;		real hidden Tuu, Tub; //Partial derivatives of temperature w.r.t. u	real hidden inarr_ThermoProp[4], outarr_ThermoProp[16];	real hidden inarr_ThermoProp1[4], outarr_ThermoProp1[16];	real hidden inarr_ThermoProp2[4], outarr_ThermoProp2[16];		real hidden inarr_th_MEV1[9], outarr_th_MEV1[3];		real hidden inarr_th_MEV2[9], outarr_th_MEV2[3];		real hidden	Tu_prev, Tb_prev, Ru_prev, Rb_prev, uu_prev, ub_prev,	Cvu_prev, Cvb_prev;	real CR;	real hidden u1, u2, u3, u4;	real hidden a1, a2;	real hidden detJu, detJb; //Determinant of the jacobians of the (p,T,F) -> (R,u,s)	real hidden Ffs;	boolean resetMix;	initialequations	Vc		= pi*Diam^2/4.0*slag/(Veps-1);	pfi	= pfi0[icyl]/180.0*pi;	V0		= Vc + pi*Diam^2/4.0* ( slag/2.0*(1.0-cos(pfi) + 1.0/alam*(1.0-sqrt(1.0-alam^2*sin(pfi)^2))));		inarr_ThermoProp = [p0[icyl];T0[icyl];F0[icyl];fs];		outarr_ThermoProp = dll(dll_ICE,dll_fcn_ThDP, inarr_ThermoProp);			m0 	= p0[icyl]/(outarr_ThermoProp[1]*T0[icyl])*V0;	mb0   = F0[icyl]*fs/(1+F0[icyl]*fs)*m0;	E0 	= m0*outarr_ThermoProp[2];		mu0	= m0*alpha;	Uu0	= E0*alpha;	mub0	= mb0*alpha;	Vu0 	= V0*alpha;	mbb0	= m0 - mu0;	Ub0	= E0 - Uu0;		mbbb0	= mb0 - mub0;	Vb0 	= V0 - Vu0;	resetMix = true;		Tu_prev = T0[icyl];	Tb_prev = Tu_prev;	Ru_prev = outarr_ThermoProp[1];	Rb_prev = Ru_prev;	uu_prev = outarr_ThermoProp[2];	ub_prev = uu_prev;	Cvu_prev = outarr_ThermoProp[15];	Cvb_prev = Cvu_prev;	mb0Mix = 0;	Ffs = FComb*fs;		dmu = 0;	dUu = 0;	dmub = 0;	dVu = 0;	dmb = 0;	dUb = 0;	dmbb = 0;	dVb = 0;	equations	// Calculate the the mix rate	phi360 = phi[icyl]*180/pi mod 360;	if (phi360 > 180) then		phiComb = phi360 - 360;	else		phiComb = phi360;	end;	q = (phiComb - phi0Mix) / DPhiMix;	if (q < 0) then		q = 0;	else		if (q > 0) and resetMix then			mb0Mix = mb;			resetMix = false;		end;	   if (q > 1) then			q = 1;			if not resetMix then				resetMix = true;			end;   	end;	end;	dmMix = alpha*mb0Mix*6*q*(q-1)*omega*DPhiMix;	// Calculate the thermodynamic properties of the zones	inarr_ThermoProp1 = [p;Tu;Fu;fs];	outarr_ThermoProp1 = dll(dll_ICE,dll_fcn_ThDP, inarr_ThermoProp);		Ru = outarr_ThermoProp1[1];	uu = outarr_ThermoProp1[2];	su = outarr_ThermoProp1[3];	hu = outarr_ThermoProp1[4];	RFu = outarr_ThermoProp1[5];	RPu = outarr_ThermoProp1[6];	RTu = outarr_ThermoProp1[7];	uFu = outarr_ThermoProp1[8];	uPu = outarr_ThermoProp1[9];	uTu = outarr_ThermoProp1[10];	sFu = outarr_ThermoProp1[11];	sPu = outarr_ThermoProp1[12];	sTu = outarr_ThermoProp1[13];	Cpu = outarr_ThermoProp1[14];	Cvu = outarr_ThermoProp1[15];	Ku = outarr_ThermoProp1[16];		inarr_ThermoProp2 = [p;Tb;Fb;fs];	outarr_ThermoProp2 = dll(dll_ICE,dll_fcn_ThDP, inarr_ThermoProp);		Rb = outarr_ThermoProp2[1];	ub = outarr_ThermoProp2[2];	sb = outarr_ThermoProp2[3];	hb = outarr_ThermoProp2[4];	RFb = outarr_ThermoProp2[5];	RPb = outarr_ThermoProp2[6];	RTb = outarr_ThermoProp2[7];	uFb = outarr_ThermoProp2[8];	uPb = outarr_ThermoProp2[9];	uTb = outarr_ThermoProp2[10];	sFb = outarr_ThermoProp2[11];	sPb = outarr_ThermoProp2[12];	sTb = outarr_ThermoProp2[13];	Cpb = outarr_ThermoProp2[14];	Cvb = outarr_ThermoProp2[15];	Kb = outarr_ThermoProp2[16];			detJu = RPu*(uTu*sFu-uFu*sTu)-RTu*(uPu*sFu-uFu*sPu)+RFu*(uPu*sTu-uTu*sPu);	detJb = RPb*(uTb*sFb-uFb*sTb)-RTb*(uPb*sFb-uFb*sPb)+RFb*(uPb*sTb-uTb*sPb);	Tuu 	= (RPu*sFu - RFu*sPu) / detJu;	Tub 	= (RPb*sFb - RFb*sPb) / detJb;		// Calculate the flows 	a1 	= -(RTu*Tu+Ru)/(p*Ru*Tu)*Tuu;	a2 	= -(RTb*Tb+Rb)/(p*Rb*Tb)*Tub;			// Calculate the enthalpy flow rate	dHu 	= pT.dH - (1/Ffs*hu + hn)*dmfb + dmMix*hb;	dHb 	= (1/Ffs*hu + hn)*dmfb - dmMix*hb;		// Calculate the cylinder heat transfer	dQu 	= pHT.dQ * Vu/(Vb + Vu);	dQb 	= pHT.dQ - dQu;	u1 	= -dQu + dHu; 	u2 	= pT.dH - pHT.dQ - p*ppV.f;	u3 	= (a1*Tuu*Uu*dmu/mu + dmu/p)/mu - (a2*Tub*Ub*dmb/mb + dmb/p)/mb;	u4 	= ppV.f;			dmu 	= pp.f - (1+Ffs)/(Ffs)*dmfb + dmMix;	dUu 	= -(Vu - Vb)/(Vu*p*Vb)*u1 + a2*p*u2 - p*u3 + 1/Vb*u4;	dmub 	= pF.f - dmfb + dmMix*(Fb*fs/(1+Fb*fs));	dVu	= (-a1+a2)*u1 - (a2*u2) + u3 - 1/(Vb*p)*u4;	dmb 	= (1+Ffs)/Ffs*dmfb - dmMix;	dUb = (Vu - Vb)/(Vu*p*Vb)*u1 - 1/(Vu*p*Vb)*((Vu*Vb*a1*p*p) + Vu - Vb)*u2 + p*u3 - 1/Vb*u4;	dmbb = dmfb - dmMix*(Fb*fs/(1+Fb*fs));	dVb = (a1 - a2)*u1 + a2*u2 - u3 - (a1*p*p*Vu - a2*p*p * Vu - 1)/Vu/p*u4;	// State equations   mu		= int(dmu,mu0);	Uu 	= int(dUu,Uu0);	mub	= int(dmub,mub0);	Vu   	= int(dVu,Vu0);	mb		= int(dmb,mbb0);	Ub 	= int(dUb,Ub0);	mbb	= int(dmbb,mbbb0);	Vb   	= int(dVb,Vb0);	// Calculate the thermodynamic states p,T,F	inarr_th_MEV1 = [mu;Uu;mub;Vu;Tu_prev;Ru_prev;uu_prev;Cvu_prev;fs];	outarr_th_MEV1 = dll(dll_ICE,dll_fcn_th_MEV, inarr_th_MEV1);		pu = outarr_th_MEV1[1];	Tu = outarr_th_MEV1[2];	Fu = outarr_th_MEV1[3];	inarr_th_MEV2 = [mb;Ub;mbb;Vb;Tb_prev;Rb_prev;ub_prev;Cvb_prev;fs];	outarr_th_MEV2 = dll(dll_ICE,dll_fcn_th_MEV, inarr_th_MEV2);		pb = outarr_th_MEV2[1];	Tb = outarr_th_MEV2[2];	Fb = outarr_th_MEV2[3];		errP = (pu - pb)/pu;	p = (pu + pb) / 2;	CR = Cyl_vol/Vc;			pp.e = p;	pT.e = Tu;	pF.e = Fu;	ppV.e = p;	Cyl_vol = Vb + Vu;	pHT.T = p*(Cyl_vol) / (mu*Ru + mb*Rb);	m_air_cyl = mu + mb;	Tu_prev = Tu;	uu_prev = uu;	Ru_prev = Ru;	Cvu_prev = Cvu;	Tb_prev = Tb;	ub_prev = ub;	Rb_prev = Rb;	Cvb_prev = Cvb;		implementation_end;   ZeroJunction 424 312    description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>  <TimeStamp>2011-11-29 16:45:16</TimeStamp></Description></Information>';    knot ZeroJunction     ports      pseudohydraulic knot duplicatable none p [1];      signal knot out effort [1];     restrictions      causality constraint one_in p;    end;    icon bg     figures      text '0' 424 312 18 bold;    end;    implementation eqequations	sum (direct (p.f)) = 0;	equal (collect (p.e));	effort = first (p.e);implementation_end;   ZeroJunction1 448 336    description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>  <TimeStamp>2011-11-29 16:45:16</TimeStamp></Description></Information>';    knot ZeroJunction     ports      pseudothermalh knot duplicatable none p [1];      signal knot out effort [1];     restrictions      causality constraint one_in p;    end;    icon bg     figures      text '0' 448 336 18 bold;    end;    implementation eqequations	sum (direct (p.f)) = 0;	equal (collect (p.e));	effort = first (p.e);implementation_end;   ZeroJunction2 472 360    description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>  <TimeStamp>2011-11-29 16:45:16</TimeStamp></Description></Information>';    knot ZeroJunction     ports      power knot duplicatable none p [1];      signal knot out effort [1];     restrictions      causality constraint one_in p;    end;    icon bg     figures      text '0' 472 360 18 bold;    end;    implementation eqequations	sum (direct (p.f)) = 0;	equal (collect (p.e));	effort = first (p.e);implementation_end;  end;  connections   CrankMechanism\q_rad -> Splitter9\input 'CA(rad)';   Splitter4\output -> Splitter13\input 728 608 'omega';   Thdyn_Cont_Vol_Eng_Cyl\ppV => CrankMechanism\p1;   PowerDemux\output2 => InValve\pT_in;   ExhValve\pp_out => PowerMux\input1;   ExhValve\pF_out => PowerMux\input3;   PowerDemux\output1 => EffortSensor1\p1;   ZeroJunction\p => Thdyn_Cont_Vol_Eng_Cyl\pp;   CrankMechanism\p2 => M;   PowerDemux\output3 => InValve\pF_in;   ZeroJunction2\p => ExhValve\pF_in;   ROHR1\pT => FlowSensor3\p1;   ZeroJunction\p => ExhValve\pp_in;   EffortSensor1\p2 => InValve\pp_in;   Thdyn_Cont_Vol_Eng_Cyl\pHT => FlowSensor1\p1;   in => PowerDemux\input;   InValve\pT_out => ZeroJunction1\p;   FlowSensor1\p2 => Submodel1\pQ;   PowerMux\output => out;   ZeroJunction2\p => Thdyn_Cont_Vol_Eng_Cyl\pF;   ExhValve\pT_out => PowerMux\input2;   FlowSensor3\p2 => ZeroJunction1\p;   ROHR1\pp => FlowSensor4\p1;   InValve\pp_out => QSensor1\p1;   QSensor1\p2 => ZeroJunction\p;   FlowSensor4\p2 => ZeroJunction\p;   ZeroJunction1\p => Thdyn_Cont_Vol_Eng_Cyl\pT;   InValve\pF_out => ZeroJunction2\p;   ZeroJunction1\p => ExhValve\pT_in;   ROHR1\pF => ZeroJunction2\p;   EffortSensor1\effort -> CrankMechanism\p_scvg 256 280 128 280 128 560;   Demux\output6 -> InValve\AR 408 104;   ZeroJunction\effort -> Splitter10\input 392 328 392 384;   Splitter8\output -> ROHR1\pfi;   Splitter13\output -> ROHR1\omega 728 192 480 192;   InValve\open -> ExhValve\inport_open 344 168 536 168 552 280;   ROHR1\Comb_state -> ExhValve\Comb_state;   CrankMechanism\P -> MSf\flow 552 512;   Thdyn_Cont_Vol_Eng_Cyl\Cyl_vol -> Splitter11\input;   Splitter7\output -> ExhVVLift\CA;   Splitter13\output -> Thdyn_Cont_Vol_Eng_Cyl\omega;   Demux\output2 -> ExhVVLift\CA_start_nom 568 112;   Demux\output3 -> ExhValve\AR 544 120;   Splitter4\output -> Splitter6\input;   Demux\output1 -> ExhVVLift\dCA_lift_nom 592 104;   Splitter6\output -> Submodel1\omega 320 608;   FlowSensor3\flow -> Thdyn_Cont_Vol_Eng_Cyl\dmfb 488 288 488 432;   Demux\output4 -> ROHR1\fiinj 464 112;   Splitter10\output -> Submodel1\Pcyl 320 384;   CrankMechanism\flow -> Splitter3\input;   Splitter9\output -> Splitter15\input 680 536;   ExhValve\open -> exh_open;   Splitter9\output -> MSf\phi_rad 576 504;   ExhVVLift\lift -> ExhValve\lift 608 272 568 272;   Splitter15\output -> Splitter7\input 680 160;   FlowSensor1\flow -> Splitter12\input 400 264;   Splitter15\output -> Thdyn_Cont_Vol_Eng_Cyl\phi;   Splitter7\output -> Splitter8\input;   Splitter3\output -> Splitter4\input;   Mux\output -> output1;   input -> Demux\input;   Splitter10\output -> p_cyl;   InValve\beta -> ExhValve\purity 344 176 536 176 544 280;   Splitter11\output -> Submodel1\Vol;   Splitter12\output -> Mux\input2;   Demux1\output1 -> p_max;   Demux\output5 -> ROHR1\x_lev 424 112;   QSensor1\q -> InValve\m_in 368 288 344 288;   Submodel1\T_w_phys -> T_w_phys;   Demux1\input <- ROHR1\p_max;   Splitter11\output -> V_cyl;   FlowSensor4\flow -> Mux\input1;   Splitter8\output -> InValve\pfi 304 160;  end; implementation_end;]]>
    </Sidops>
  </Model>
</Document>
