<?xml version="1.0" encoding="UTF-8"?>
<Document>
 <Icons>
    <Icon size="128" bpp="32" format="png">
<![CDATA[89504e470d0a1a0a0000000d4948445200000080000000800806000000c33e61cb00000006624b474400ff00ff00ffa0bda793000000097048597300000ec400000ec401952b0e1b00000e4249444154789ced9d5b5053c7e3c7bf98408120e166408c0a855202d250400406c4a2b58a516eda567ff0d4e1a165daced8191ffac08c9d8e335edab10f4e5f5aa7ff8e53015b4ca988b5a0428182a98c5008062a372110b4a0c194c424e4ffc090e19290cbd960f1ece709369b2f27d9cfd9b3bb6713dc4c261328ec65cdf33e00caf3850ac072a8002c870ac072a8002c870ac072a8002c870ac072a8002c870ac072a8002c870ac072a8002c870ac072a8002c870ac072a8002c870ac072a8002c870ac072a8002c870ac072a8002c876ba9502c165ff3f6f616acf4c1505c8bd1689c91c964ff33994c8ab9328b02747474bc555656b67247465911eaeaeafe95c96429009617000082838357e4a0282b879f9f9f7171191d03b01c2a00cbb17a0970052a95cafc73505010381c0eb16ca3d188478f1eb92c5fafd76362620200c0e170101414442c1b00d46a35a6a7a701005e5e5ef0f5f5259a6f0d970ba052a9d0d2d282b367cfa2a4a404eeeeee0080eaea6aecd8b103e9e9e9d8b46993d3f9434343686c6c445d5d1db2b3b3c1e57289e6f7f6f6e2c68d1be8eded455a5a1a381c0e743a1dbefefa6b7cfae9a7d8b66d9bd38da5d56ad1d9d9892b57ae203030d07c9ce3e3e318191981442281582c36bf67aec0cdd2c7c3dddcdc4c376fde64146c341a71fdfa75a8d56a1c3a7408e9e9e9f0f0f05850a7afaf0f151515181a1a425e5e9e432f54afd7e3d2a54bf0f3f343414101121313cd8d4f225fa3d1e0c2850b108944c8cfcf8748245ad2a3b4b6b6e2dcb973888f8f47424282ddd9c0acb852a9147bf7ee45767636366cd8b0e4ef5fbf7e1ddf7fff3dde7df75d2283f2ab57af4e9d3e7dfa4393c9f47f73652e1140a3d1e0d2a54bc8c9c9c1fefdfb9734cc62fafbfb71e2c409646767c3dfdfdf66fee4e4242a2a2a505c5c8ccccc4c9b5dfd5c7e6e6e2e783c9ecd7c954a05a9548aa3478f62ebd6ad36eb575757a3b1b111bb76edb2ebb273f7ee5d8c8c8ce0e8d1a358bf7efdb275753a1d4e9c3881e0e060c4c4c4d8cc5e0e4b02101f041a8d465cb870011f7cf001f2f2f26c363e00848787e3cc9933a8abab8346a359b6ae56ab454545054a4b4b91959565d71b3e977fe3c60d68b5da65ebaad56a48a5529c3973c6aec607807dfbf6a1b0b010bffdf69bcdba9d9d9d989e9ec6f1e3c76d363e00bcf4d24b387efc38bcbcbcf0f7df7fdb753c8e405c802b57aee0c89123484e4e76e8797c3e1fa5a5a5a8adad85d1b864ba0a6056aecaca4a7cf8e1871089440ee77ff4d147686c6cb49aafd7eb71f1e2459496962ee9926d111b1b8bb7de7a0b1d1d1d56eba8542a28140abcfffefbf0f6f67628bfa8a80813131378f8f0a143cfb3055101eeddbb07814080bd7bf73af57c81408043870ea1ababcbe2e32d2d2dc8c8c8c0b66ddb9ccadfbc793376eedc89eeee6e8b8fd7d6d6e2f0e1c30ecb35c71b6fbc01bd5e8ff1f1f1258fe9f57a949797e3934f3e819f9f9fc3d95c2e17252525904aa556057606620268b55ad4d7d7a3a8a8c8ae6edf1a696969181a1ac293274f16944f4e4ea2abab0b0505058ca67719191990cbe54b2e352a950a8f1f3fc69e3d7b9cce0666cfd486868625e5b76fdf467e7e3ec2c2c29ccee6f178282929b17a8238033101eedcb983fdfbf743281432ce2a2e2e466767e782b2868606bcf7de7b0e779d8be172b9f8f8e38fd1d6d6b6a05c2a95a2a4a464c94cc551040201b66fdf8e81810173995aad466767270e1c38c0281b00929393d1d6d666732c632f4404301a8db87cf9322412098938bcfaeaab181b1bc3d3a74f01ccbe81434343c8c8c82096dfdfdf6f5e7851a954f0f7f7476c6c2c91fc5dbb76a1b9b9d9fc7b5b5b1bde7efb6d228b3b5c2e17858585181919619c051012a0afaf0f7979794457af0e1e3c08a5520900e8eeee466e6e2ee3b3733e478e1c31e777747460dfbe7dc4560e030202e0e9e96916f8d6ad5b48494921920d005bb76ec5ad5bb788641111a0bdbd1d3b76ec2011652629290935353500809a9a1a64656511cd4f4848406b6b2b8c46239a9a9a9c1e585aa3a0a0004aa5124aa512f1f1f1764df9ec85cfe7232222028f1f3f669cc55800a3d188969616c4c7c7333e98f9f0783c4447476378781842a1d0e169992d02020260341a313c3c8c2d5bb6105fdb17894490cbe5e8efef477a7a3ad16c00484f4f5f32507606c602a8d56a884422bb56d81c252e2e0ea3a3a3888b8b239e0dcc0ea846474719afb059222020005d5d5d18181840646424f1fc8d1b372eb8b9e62c8c0550a954484c4c647c2096080b0bc3c0c0005e79e51597e447474743a150383def5f0e2e978ba4a424c864326cdebc9978be5028446b6b2be31cc6028c8d8db9c47000d8b06103babbbb5d962f140a2197cb111e1eee92fc888808ac5bb7ceaefb1b8ec2e3f1c0e170f0ecd93346398c05d0ebf58ce7e6d658bb762dc6c6c6c0e7f35d92cfe572a1d56a5d76fc5e5e5e2edd5ae7ebebcb68d10d2020c0c3870f890fa0e6e07038989e9e869797974bf2fdfcfcd0d1d18180800097e40370c9d8688ea8a828f35a86b33016e0d9b36744e7e7f3e1f3f9181818705903198d46f8f8f8303e8bacc1e5725d7672ccc174b30863013c3c3c303333c334c622068381e8b6aec570381cf3628d2b30994c58b3e6bfbded9288004c0722d6d06834d8b4691391050f4b188d46f0f97c180c0697e5cfdfa7481aad56cbf804612c009fcf775903e9743a040404e0df7fff7549fed4d414c2c2c25c2a982b7b98a1a1a1e72f80b7b7b7cd5d3cce32353585909010f36e5cd268b55af8fbfbbb4cb0e9e9693c78f0c025d900303c3cfcfc6701a1a1a190cbe54c632c323c3c8c98989805b75649d2dfdf8f848404f4f6f6ba245f2e9763cd9a3550abd5c4b3272626101515c5f8f2c55880c0c040dcbd7b97698c45eeddbb87989818a21b20e6d3d3d383975f7ed92502e8743a28140a242626a2afaf8f78fee8e828a2a3a319e73016c0d7d7173d3d3dd0e9748c0f663132990cebd7af874c26239e0d0057af5e45787838eedcb9433c7b6c6c0c191919080e0e464f4f0ff1fcfbf7ef13d97c43648eb27bf76efcf9e79f24a2cc8c8f8f232828085e5e5ef0f6f6c6e8e828d1fcc1c141646666c2dbdb1b4aa51293939344f3dbdbdb111f1f8f888808d4d5d511cd0680aaaa2a0804cc3fc14f4480d8d858bbb6443bc2dc06d0999919a4a5a511cf97c96478fdf5d70100dbb76f47535313d1fc1f7ef8c17c1fe0d1a3474477f32a954a08854222d36f2202848686a2a1a181d86cc06030a0aaaa0aebd6ad0300444646e2f2e5cbc4e6eb0683013ffef8a37985512412a1bcbc9c483630dbbb88c562f3ec223535d5e2465167696e6e464a4a0a91053862cb54f9f9f9904aa544b26edfbe8dddbb779bdf404f4f4f242525117b13e776e8cee5fbfafa4220102cd988ea2ce5e5e5d8b973a7f977b1588ccaca4a22278846a3c1b56bd7101818c8380b202880482442434303e36bb54ea7437979f9925bc0898989387ffe3ce3c1a646a3c1f9f3e7111515b5a03c2b2b0ba74f9f66dccb28140af078bc05bb76dddddd919a9a4ae404a9a9a9c1e1c38789f5b6c404e07038c8cacac2b973e718e5fcf2cb2fc8c9c9593277f6f4f4447a7a3a2e5ebcc828ffe79f7f465151d192d53f1e8f87b8b8385cbb76cde96c83c180efbefb0e6969694bbae72d5bb6a0bebe9ed1c29052a944676727d6ae5deb74c66288dea9080e0e86402070daf4aeae2e3c79f2043e3e3e161f8f8e8ec6e8e8e8822dd78ed0dcdc0c0f0f0fab772f93929270f3e64da7d705befdf65be4e5e559ddab979393832fbffcd2a9b357a3d1e09b6fbe5970e92201f15b55afbdf61a5a5a5ad0d2d2e2d0f3140a057efae9272426262efb02939393515e5eeef0eaa342a1407b7b3bc2c3c397bd8cecd9b307a74e9d326f19b797aaaa2a6cdcb8117abdde6a1d1e8f879494149c3c79d2a14b9946a3c1175f7c018944427c59dc25f72adf7cf34dfcfefbef282b2bb3f9420d06036a6b6b515757879c9c1c9b3766381c0e2412092a2a2af0ebafbfdabc66cfcf4f4b4bc3d4d4d4b2f5dddddd51505080afbefa0a8d8d8dcbd605661be7d4a953f0f1f1415050d0b20200b3bd645c5c1c8e1d3b669764838383f8fcf3cf71e0c00197dc5872d9174400b3ab55f5f5f53878f020c462f182cd914aa51272b91c656565c8cdcd45484888c32fb0abab0b32990c85858588898941686828b17ca3d188bffefa0bededed282e2e466464a479e1c56030606464044d4d4da8aaaac2b163c7f0f4e95387a6651a8d06b5b5b50809098144224158589879f79046a3c1c0c000aaabab31333303894442e4b6f28a7d41c47cf47a3d944a25fafafaf0d9679f99cb4b4b4b111f1f0fa150c86844abd56af1e0c103dcbf7f1f274f9e249eafd16830383888dede5e9c3d7b16c0ec874af2f3f3919a9a0a1f1f1f46d7e47ffef907fdfdfdf8e38f3f505959090078e79d7790999909b1580c93c964b357b197e72200e5bfc38a7c43086575410560395400964305603956379491bebf4f79fef4f5f52d5902b5360bf81880e3df6444590d9c35994ce6b56a8b0250d8031d03b01c2a00cba102b01c2a00cba102b01c2a00cba102b01c2a00cba102b01c2a00cba102b01c2a00cba102b01c2a00cba102b01c2a00cba102b09c15fdefe14c707373330180c964729bfb790e93c9e466adbeb57ad6f2e6ea582a5b2edf529dd5c0aaeb012c35ece2324b75ec7dae3d79f6e6ac06564d0f301f4b67f2e2df179f91cb35d0fcb37ef1f3976b7c6b755613abae07b0d5d59a4c26b7c582d8d3f88efc8dc57556b308abb207b0c54a34c46a6c6c4bacba1ec016960667ab7580b612bc903d00e0fa51f98b22d50bd70358c215ddb5a5c1e16abc2cbcb03d80ab1a63febac18bb016f0c2f500ce8eeaff6b7f63a5a09f0d64392f5c0f40710c2a00cba102b01c2a00cba102b01c2a00cba102b01c2a00cba102b01c2a00cba102b01c2a00cba102b01c2a00cba102b01c2a00cba102b01c2a00cba102b01c2a00cba102b01c2a00cba102b01c2a00cba102b01c2a00cbf97f8191ec6cd997df9b0000000049454e44ae426082]]>
   </Icon>
</Icons>
 <Model version="4.5" build="4.5.4.6171">
    <Sidops>
<![CDATA[IntakePort 519.9 640 description '<Information>
 <Description>
    <Version>4.5</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
  <AllowLibraryUpdate>True</AllowLibraryUpdate>
  <Configuration>
   <struct>
    <member>
     <name>DocumentationMask</name>
     <value>
      <struct></struct>
     </value>
    </member>
   </struct>
  </Configuration>
    <LibraryPath>Components\IntakePort.emx</LibraryPath>
  <TimeStamp>2015-10-22 22:29:39</TimeStamp>
</Description>
</Information>'; type Submodel  ports   power in ppTFIn [3,1];   power out ppTFOut [3,1];   signal in phi; "Crank angle"   signal in AreaMulti;   signal out Area;   signal out Cd;   signal out xP; end; icon bg bottom shadow 11776947  figures   text 'name' 520.2 661 16;   rectangle 479.7 613 560.2 645 fill 12632256;   ellipse 487.9 617 504 641 fill 16777215;   ellipse 504 617 520.2 641 fill 16777215;   ellipse 520.2 617 536.2 641 fill 16777215;   ellipse 536.2 617 552.2 641 fill 16777215; end; implementation bg  submodels   MultiplyDivide1 912 144    description '<Description><Version>4.0</Version><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Block Diagram\MultiplyDivide.emx</LibraryPath>  <TimeStamp>2007-9-27 10:14:59</TimeStamp></Description>';    knot MultiplyDivide     ports      signal knot duplicatable in multiply [1];      signal knot duplicatable in divide [1];      signal knot out output [1];    end;    icon bg ellipse     figures      ellipse 904 136 920 152 fill 16777215;    end;    implementation eqequations	output = mul (collect (multiply)) ./ mul (collect (divide));     implementation_end;   plug ppTFIn 768 232;   plug ppTFOut 1072 232;   plug phi 912 40.1;   plug AreaMulti 816 40;   plug Area 1072 120;   plug Cd 1072 152;   plug xP 1072 183.9;   PortArea 912 96.1    description '<Information> <Description>    <Version>4.5</Version>  <LibraryPath>FlowRestriction\PortAreaCd.emx</LibraryPath><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <TimeStamp>2015-10-21 00:08:37</TimeStamp><AllowLibraryUpdate>False</AllowLibraryUpdate>  <Description>The model computes the opening area and discharge coefficient of intake ports for uniflow scavenging 2-stroke engine cylinder</Description>  <Title>IntakePortArea</Title>  <Author>Kevin K. Yum</Author>  <Company>Norwegian University of Science and Technology</Company>  <Department>Dept. of Marine Technology</Department>  <Configuration>   <struct>    <member>     <name>DocumentationMask</name>     <value>      <struct></struct>     </value>    </member>   </struct>  </Configuration> </Description></Information>';    type Submodel     ports      signal in phi {rad} ; "Crank angle"      signal out area {m2} ; "Opening area of intake ports"      signal out Cd; "Discharge coefficient"      signal out aEff {m2} ; "Effective opening area"      signal out xP {m} ; "Piston travel from TDC"    end;    icon bg     figures      rectangle 874.3 81 949.8 111.2 fill 15132390;      text 'name' 912.3 96.1 16;    end;    implementation eqparameters	real global S, lambdaR;  //stroke, ratio of crank rod to conneting rod// Port dimension	real global N_p;				//No of ports	real global Y;				//Height of the ports	real global X;				//Width of the ports// Parameters for purity calculationvariables	real a_CR, l_CR;  // Length of crank rod, connecting rod, position of piston relative to TDC	real r;				// Radius of the corner of the port		real y_open, theta;		// Opening height and angle for corner	real A_R;					// Opening ratioinitialequations	a_CR = S/2;	l_CR = a_CR / lambdaR;	r = X / 2;code// Calculating the position of the piston w.r.t. TDC	xP = a_CR + l_CR - (a_CR*cos(phi) + sqrt(l_CR^2 - (a_CR*sin(phi))^2));	if xP > (S - Y) then// Calculating the area and discharge coefficient of the port		y_open = xP - (S - Y);		if y_open < r then			theta = arcsin((r-y_open)/r);			area = (X-2*r)*y_open + 0.5*r^2*(pi/2-theta) - 0.5*(r-y_open)*r*cos(theta);		else if y_open > (Y - r) then				y_open = y_open - (Y - r);				theta = arcsin(min([y_open/r;1]));				area = X*(Y-r) - 0.43*r^2 + (X-2*r)*y_open + 0.5*r^2*theta + 0.5*r*cos(theta)*y_open;			else				area = X*y_open - 0.43*r^2;			end;		end;		A_R = area / (X*Y - 0.86*r^2);		area = area*N_p;		Cd = -5.408*A_R^5 + 15.9*A_R^4 + -19.03*A_R^3 + 11.39*A_R^2 + -3.284*A_R + 1.143;		// The fit model was taken from the Sher, E. (1990). Scavenging 		// the two-stroke engine. Progress in Energy and Combustion Science, 		// 16(2), 95-124. 		Cd = min([0.98, Cd]);	else		area = 0;		Cd = 0;	end;	aEff = area*Cd;implementation_end;   PowerDemux1 841 232			specifications active 'inputs_3'				specification 'default'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-10-5 22:44:58</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power in input [2,1];   power out output2;  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input; end; icon bg bottom  figures   line 128 64 128 96 width 2;   rectangle 124 64 132 96 color -1;   text '2' 133 91 color 8421504 8;  terminals   output1 128 72 fixed;   input 128 80 fixed;   output2 128 88 fixed; end; implementation eqequations	input.e = [output1.e; output2.e];	input.f = [output1.f; output2.f];implementation_end;specification_end;				specification 'inputs_1'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power in input;   power out output;  restrictions   causality constraint not_equal output input; end; icon bg bottom  figures   line 128 64 128 80 width 2;   rectangle 124 64 132 80 color -1;   text '1' 133 82 color 8421504 8;  terminals   input 128 72 fixed;   input 128 72 fixed; end; implementation eqequations	input.e = output.e;	input.f = output.f;implementation_end;specification_end;				specification 'inputs_2'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power in input [2,1];   power out output2;  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input; end; icon bg bottom  figures   line 128 56 128 88 width 2;   rectangle 124 56 132 88 color -1;   text '2' 133 83 color 8421504 8;  terminals   output1 128 64 fixed;   input 128 72 fixed;   output2 128 80 fixed; end; implementation eqequations	input.e = [output1.e; output2.e];	input.f = [output1.f; output2.f];implementation_end;specification_end;				specification 'inputs_3' description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power out output2;   power out output3;   power in input [3,1];  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input;   causality constraint not_equal output3 input; end; icon bg bottom  figures   line 840 216 840 248 width 2;   rectangle 836 216 844 248 color -1;   text '3' 845 242 color 8421504 8;  terminals   output1 840 224 fixed;   output2 840 232 fixed;   output3 840 240 fixed;   input 840 232 fixed; end; implementation eqequations	input.e = [output1.e; output2.e; output3.e];	input.f = [output1.f; output2.f; output3.f];implementation_end;specification_end;				specification 'inputs_4'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power out output2;   power out output3;   power out output4;   power in input [4,1];  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input;   causality constraint not_equal output3 input;   causality constraint not_equal output4 input; end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '4' 133 83 color 8421504 8;  terminals   output1 128 56 fixed;   output2 128 64 fixed;   output3 128 80 fixed;   output4 128 88 fixed;   input 128 72 fixed; end; implementation eqequations	input.e = [output1.e; output2.e; output3.e; output4.e];	input.f = [output1.f; output2.f; output3.f; output4.f];implementation_end;specification_end;				specification 'inputs_5'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power out output2;   power out output3;   power out output4;   power out output5;   power in input [5,1];  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input;   causality constraint not_equal output3 input;   causality constraint not_equal output4 input;   causality constraint not_equal output5 input;end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '5' 133 83 color 8421504 8;  terminals   output1 128 56 fixed;   output2 128 64 fixed;   output3 128 72 fixed;   output4 128 80 fixed;   output5 128 88 fixed;   input 128 72 fixed; end; implementation eqequations	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e];	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f];implementation_end;specification_end;				specification 'inputs_6'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power out output2;   power out output3;   power out output4;   power out output5;   power out output6;   power in input [6,1];  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input;   causality constraint not_equal output3 input;   causality constraint not_equal output4 input;   causality constraint not_equal output5 input;   causality constraint not_equal output6 input; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '6' 133 83 color 8421504 8;  terminals   output1 128 48 fixed;   output2 128 56 fixed;   output3 128 64 fixed;   output4 128 80 fixed;   output5 128 88 fixed;   output6 128 96 fixed;   input 128 72 fixed; end; implementation eqequations	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e];	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f];implementation_end;specification_end;				specification 'inputs_7'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power out output2;   power out output3;   power out output4;   power out output5;   power out output6;   power out output7;   power in input [7,1];  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input;   causality constraint not_equal output3 input;   causality constraint not_equal output4 input;   causality constraint not_equal output5 input;   causality constraint not_equal output6 input;   causality constraint not_equal output7 input; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '7' 133 83 color 8421504 8;  terminals   output1 128 48 fixed;   output2 128 56 fixed;   output3 128 64 fixed;   output4 128 72 fixed;   output5 128 80 fixed;   output6 128 88 fixed;   output7 128 96 fixed;   input 128 72 fixed; end; implementation eqequations	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e];	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f];implementation_end;specification_end;				specification 'inputs_8'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power out output2;   power out output3;   power out output4;   power out output5;   power out output6;   power out output7;   power out output8;   power in input [8,1];  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input;   causality constraint not_equal output3 input;   causality constraint not_equal output4 input;   causality constraint not_equal output5 input;   causality constraint not_equal output6 input;   causality constraint not_equal output7 input;   causality constraint not_equal output8 input; end; icon bg bottom  figures   line 128 32 128 112 width 2;   rectangle 124 32 132 112 color -1;   text '8' 133 83 color 8421504 8;  terminals   output1 128 40 fixed;   output2 128 48 fixed;   output3 128 56 fixed;   output4 128 64 fixed;   output5 128 80 fixed;   output6 128 88 fixed;   output7 128 96 fixed;   output8 128 104 fixed;   input 128 72 fixed; end; implementation eqequations	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e; output8.e];	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f; output8.f];implementation_end;specification_end;				specification 'inputs_9'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerDemux  ports   power out output1;   power out output2;   power out output3;   power out output4;   power out output5;   power out output6;   power out output7;   power out output8;   power out output9;   power in input [9,1];  restrictions   causality constraint not_equal output1 input;   causality constraint not_equal output2 input;   causality constraint not_equal output3 input;   causality constraint not_equal output4 input;   causality constraint not_equal output5 input;   causality constraint not_equal output6 input;   causality constraint not_equal output7 input;   causality constraint not_equal output8 input;   causality constraint not_equal output9 input; end; icon bg bottom  figures   line 128 32 128 112 width 2;   text '9' 132 83 color 8421504 8;  terminals   output1 128 40 fixed;   output2 128 48 fixed;   output3 128 56 fixed;   output4 128 64 fixed;   output5 128 72 fixed;   output6 128 80 fixed;   output7 128 88 fixed;   output8 128 96 fixed;   output9 128 104 fixed;   input 128 72 fixed; end; implementation eqequations	input.e = [output1.e; output2.e; output3.e; output4.e; output5.e; output6.e; output7.e; output8.e; output9.e];implementation_end;	input.f = [output1.f; output2.f; output3.f; output4.f; output5.f; output6.f; output7.f; output8.f; output9.f];specification_end;			end;   PowerMux1 993 232			specifications active 'inputs_3'				specification 'default'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerDemux.emx</LibraryPath>  <TimeStamp>2011-10-5 22:44:58</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power out output [2,1];   power in input2;  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output; end; icon bg bottom  figures   line 128 64 128 96 width 2;   rectangle 124 64 132 96 color -1;   text '2' 133 91 color 8421504 8;  terminals   input1 128 72 fixed;   output 128 80 fixed;   input2 128 88 fixed; end; implementation eqequations	output.e = [input1.e; input2.e];	output.f = [input1.f; input2.f];implementation_end;specification_end;				specification 'inputs_1'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input;   power out output;  restrictions   causality constraint not_equal input output; end; icon bg bottom  figures   line 128 64 128 80 width 2;   rectangle 124 64 132 80 color -1;   text '1' 133 82 color 8421504 8;  terminals   input 128 72 fixed;   output 128 72 fixed; end; implementation eqequations	output.e = input.e;	output.f = input.f;implementation_end;specification_end;				specification 'inputs_2'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power out output [2,1];   power in input2;  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output; end; icon bg bottom  figures   line 128 56 128 88 width 2;   rectangle 124 56 132 88 color -1;   text '2' 133 83 color 8421504 8;  terminals   input1 128 64 fixed;   output 128 72 fixed;   input2 128 80 fixed; end; implementation eqequations	output.e = [input1.e; input2.e];	output.f = [input1.f; input2.f];implementation_end;specification_end;				specification 'inputs_3' description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power in input2;   power in input3;   power out output [3,1];  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output;   causality constraint not_equal input3 output; end; icon bg bottom  figures   line 992 216 992 248 width 2;   rectangle 988 216 996 248 color -1;   text '3' 997 242 color 8421504 8;  terminals   input1 992 224 fixed;   input2 992 232 fixed;   input3 992 240 fixed;   output 992 232 fixed; end; implementation eqequations	output.e = [input1.e; input2.e; input3.e];	output.f = [input1.f; input2.f; input3.f];implementation_end;specification_end;				specification 'inputs_4'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power in input2;   power in input3;   power in input4;   power out output [4,1];  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output;   causality constraint not_equal input3 output;   causality constraint not_equal input4 output; end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '4' 133 83 color 8421504 8;  terminals   input1 128 56 fixed;   input2 128 64 fixed;   input3 128 80 fixed;   input4 128 88 fixed;   output 128 72 fixed; end; implementation eqequations	output.e = [input1.e; input2.e; input3.e; input4.e];	output.f = [input1.f; input2.f; input3.f; input4.f];implementation_end;specification_end;				specification 'inputs_5'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power in input2;   power in input3;   power in input4;   power in input5;   power out output [5,1];  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output;   causality constraint not_equal input3 output;   causality constraint not_equal input4 output;   causality constraint not_equal input5 output; end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '5' 133 83 color 8421504 8;  terminals   input1 128 56 fixed;   input2 128 64 fixed;   input3 128 72 fixed;   input4 128 80 fixed;   input5 128 88 fixed;   output 128 72 fixed; end; implementation eqequations	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e];	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f];implementation_end;specification_end;				specification 'inputs_6'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power in input2;   power in input3;   power in input4;   power in input5;   power in input6;   power out output [6,1];  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output;   causality constraint not_equal input3 output;   causality constraint not_equal input4 output;   causality constraint not_equal input5 output;   causality constraint not_equal input6 output; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '6' 133 83 color 8421504 8;  terminals   input1 128 48 fixed;   input2 128 56 fixed;   input3 128 64 fixed;   input4 128 80 fixed;   input5 128 88 fixed;   input6 128 96 fixed;   output 128 72 fixed; end; implementation eqequations	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e];	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f];implementation_end;specification_end;				specification 'inputs_7'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power in input2;   power in input3;   power in input4;   power in input5;   power in input6;   power in input7;   power out output [7,1];  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output;   causality constraint not_equal input3 output;   causality constraint not_equal input4 output;   causality constraint not_equal input5 output;   causality constraint not_equal input6 output;   causality constraint not_equal input7 output; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '7' 133 83 color 8421504 8;  terminals   input1 128 48 fixed;   input2 128 56 fixed;   input3 128 64 fixed;   input4 128 72 fixed;   input5 128 80 fixed;   input6 128 88 fixed;   input7 128 96 fixed;   output 128 72 fixed; end; implementation eqequations	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e];	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f];implementation_end;specification_end;				specification 'inputs_8'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power in input2;   power in input3;   power in input4;   power in input5;   power in input6;   power in input7;   power in input8;   power out output [8,1];  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output;   causality constraint not_equal input3 output;   causality constraint not_equal input4 output;   causality constraint not_equal input5 output;   causality constraint not_equal input6 output;   causality constraint not_equal input7 output;   causality constraint not_equal input8 output; end; icon bg bottom  figures   line 128 32 128 112 width 2;   rectangle 124 32 132 112 color -1;   text '8' 133 83 color 8421504 8;  terminals   input1 128 40 fixed;   input2 128 48 fixed;   input3 128 56 fixed;   input4 128 64 fixed;   input5 128 80 fixed;   input6 128 88 fixed;   input7 128 96 fixed;   input8 128 104 fixed;   output 128 72 fixed; end; implementation eqequations	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e; input8.e];	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f; input8.f];implementation_end;specification_end;				specification 'inputs_9'description '<Description>   <Version>4.1</Version>  <LibraryPath>Bond Graph\PowerMux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type PowerMux  ports   power in input1;   power in input2;   power in input3;   power in input4;   power in input5;   power in input6;   power in input7;   power in input8;   power in input9;   power out output [9,1];  restrictions   causality constraint not_equal input1 output;   causality constraint not_equal input2 output;   causality constraint not_equal input3 output;   causality constraint not_equal input4 output;   causality constraint not_equal input5 output;   causality constraint not_equal input6 output;   causality constraint not_equal input7 output;   causality constraint not_equal input8 output;   causality constraint not_equal input9 output; end; icon bg bottom  figures   line 128 32 128 112 width 2;   text '9' 132 83 color 8421504 8;  terminals   input1 128 40 fixed;   input2 128 48 fixed;   input3 128 56 fixed;   input4 128 64 fixed;   input5 128 72 fixed;   input6 128 80 fixed;   input7 128 88 fixed;   input8 128 96 fixed;   input9 128 104 fixed;   output 128 72 fixed; end; implementation eqequations	output.e = [input1.e; input2.e; input3.e; input4.e; input5.e; input6.e; input7.e; input8.e; input9.e];implementation_end;	output.f = [input1.f; input2.f; input3.f; input4.f; input5.f; input6.f; input7.f; input8.f; input9.f];specification_end;			end;   Submodel3 912 238.4    description '<Information>
 <Description>
    <Version>4.5</Version>
  <LibraryPath>FlowRestriction\IdealNozzleCompGas.emx</LibraryPath>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
    <TimeStamp>2015-10-22 22:22:27</TimeStamp>
<AllowLibraryUpdate>False</AllowLibraryUpdate>
 </Description>
</Information>';    type Submodel     ports      signal in Aeff; "Effective area of nozzle (m2)"      pseudohydraulic in ppIn;      pseudothermalh in pTIn;      power in pFIn;      pseudohydraulic out ppOut;      pseudothermalh out pTOut;      power out pFOut;     restrictions      causality fixed in ppIn;      causality fixed in pFIn;      causality fixed in ppOut;      causality fixed in pTIn;      causality fixed in pFOut;    end;    icon bg bottom     figures      text 'R' 912 227.8 53 bold;      text 'IdealNozzle
CompFlow' 912 259.1 16;     terminals      Aeff 912 202.7 fixed;      ppIn 880 215.3 fixed;      pTIn 880 227.8 fixed;      pFIn 880 240.3 fixed;      ppOut 944 215.3 fixed;      pTOut 944 227.8 fixed;      pFOut 944 240.3 fixed;    end;    implementation eq/* Ideal Nozzle ModelUses ideal nozzle equation for compressible flows assuming isentropic process. Flow restriction field. No states.Input   - Effective area of nozzle (Aeff)  - p,T,F in  - p,T,F outOutput  - dm, dE, dmb in  - dm, dE, dmb out*/parameters 	real global fs;	string global dll_ICE;	string global dll_fcn_idealNozzle;variables	real pIn, TIn, FIn, pOut;	real dm, dE, dmb;	real aa, d, pr;	real	inArrFlow[7];	real outArrFlow[3];equations  // start typing here 	aa = ppIn.e / ppOut.e;	if (aa > 1) then		pIn	= ppIn.e; TIn = pTIn.e; FIn = pFIn.e; d	= 1; 	pr = aa;		pOut = ppOut.e;	else		pIn	= ppOut.e; TIn=pTOut.e; FIn= pFOut.e;	d	= -1; pr	= 1.0/aa;		pOut = ppIn.e;	end;		// Calculate thermodynamic properties from (T,P,x)	inArrFlow = [1;Aeff;pIn;pOut;TIn;FIn;fs];	outArrFlow = dll(dll_ICE,dll_fcn_idealNozzle, inArrFlow);			dm = outArrFlow[1]*d;	dE = outArrFlow[2]*d;		dmb = outArrFlow[3]*d;	ppIn.dm = dm;	ppOut.dm  = dm;	pTIn.dH = dE;	pTOut.dH = dE;	pFIn.f = dmb;	pFOut.f = dmb;implementation_end;  end;  connections   AreaMulti -> MultiplyDivide1\multiply 816 144;   MultiplyDivide1\output -> Submodel3\Aeff;   phi -> PortArea\phi;   PortArea\aEff -> MultiplyDivide1\multiply;   PortArea\area -> Area;   PortArea\Cd -> Cd;   PortArea\xP -> xP;   PowerDemux1\output1 => Submodel3\ppIn;   PowerDemux1\output2 => Submodel3\pTIn;   PowerDemux1\output3 => Submodel3\pFIn;   PowerMux1\output => ppTFOut;   ppTFIn => PowerDemux1\input;   Submodel3\pFOut => PowerMux1\input3;   Submodel3\ppOut => PowerMux1\input1;   Submodel3\pTOut => PowerMux1\input2;  end; implementation_end;]]>
  </Sidops>
</Model>
</Document>
