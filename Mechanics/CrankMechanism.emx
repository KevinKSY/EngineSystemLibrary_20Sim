<?xml version="1.0" encoding="UTF-8"?>
<Document>
 <Icons>
    <Icon size="256" bpp="32" format="png">
<![CDATA[89504e470d0a1a0a0000000d49484452000001000000010008060000005c72a86600000006624b474400ff00ff00ffa0bda793000000097048597300000ec400000ec401952b0e1b0000155549444154789ceddd3f6c5d477606f0ef24066c565a56962b4b4961abb2b40960a90824a6b1b44820ca8dcc6d626e63691b4b4600dbdb688500d11a082209015676b35a57b253983490aca426b42ada8d6937a1dd2ce926942b5915e5eaa498f3688a7a67eebfb9f7be77e7fb3551de7d7c779c60ce3d33f7cc8ca82a88284f7fd1770388a83f0c004419630020ca18030051c618008832c6004094310600a28c3dd577037220222cb6980e0754f5bbbe1bd12566004419630020ca18030051c618008832c600409431be05e8d705005ff5dd88ccec07f051df8d98140c00fdfa4a55eff5dd889c88c8f37db7619270084094310600a28c310010658c018028630c004419630020ca18030051c618008832c6004094310600a28c310010658c018028630c004419630020ca18030051c618008832c6004094310600a28c310010658c018028630c004419630020ca18030051c618008832c68341a816117901e1941df07093e9c5004085acb3bf06e02c804363ae8ffef900c032804f01dc51d51fbb6a23d5c32100b944e44d11f95f00df00f82dc674fe3d66012c2204810722f2071ec535d91800e80922725644fe0ce01a8a3bbd67062118ac8bc8bf8bc8be640da4641800688788ec1391ff41383df760a29f9d017011c086881c4ff49b9408030001d819e7af02986be916b3003e1391375bfa7daa81018020222f2174febae97e15d744e40f1ddc874ae05b80ccd924dd0ac213bac82a808f017c05e0beaa7e6b63fbc3007e06e03480f912bfb52822f755f537f55b4e2988aaf6dd86c11311efffc827fa7c876e9db7cc93ff2680cbaafa5dc9df7d03c02500cf157cf53555fdb8cc6fa662016fd3b97ca0ec7fe350700890b71b8877fe75008755f557553a86aa7e803089f8db82afdeb4e107f58401205322f20a8085c85756001c53d5afebfcbeaafea8aa97118604dbced766103205ea090340beae44aead0038a5aa0f9bde44553f057026f29533168ca8070c00191291d3008e389737009c4959c6abaa77015c887c25168ca8450c00797a23726d31c5937f2f55bd0e60cdb97c44445e4e7d4f2ac60090199bf93fe15c5e6af9adc462e4dae916ef4b0e0680fccc234cbe8df35e9b37b609c5dbcee5d7dabc378dc700901fef49bba1aa5f74707fefbdff41be12ec1e03407ef63b9fdfe9e8feb1fb786da3963000e4c7eb645d3cfda1aadf23bc69188701a0630c00f9f13ad90f557f48445eaeb9cedfbb170340c71800f2e34d00560a0022f22c80258475fe5597f87af77aa6e2ef50430c00f9f1ca727f56f177de4658ec338bb0c4f7cf5660548677af4715db400d3100e4e7bef379e900602beaceedf9f820806511f9a4c44f78f7f2da462d6100c88fd7c9aabc82bb0a7f28112d24b239036fbb3106808e3100e4c7eb64f365fed8ded57b8b7b3600bc5ff013b1fb3000748c01203f9f3a9f1f2c598f7f3372ed62894544679dcf37ea2e3da6fa1800f2b31cb9f676ec0f0b5611aed9d2dfd8dfbf04e0548d76514b180032632bfd569ccb67bc725c11791a61ecef892df419892dfb8d060f6a0703409eae47aeddb0cebed739f893774b45e9bbd50a784fff359e2fd80f06800c59aaeeadcd3f863de37c2bfaf18607db08077fb8ec40906b91af5c8efd3db58701205fb14eb72022bfdf95098c8a7ec6793fb661a8cd1b2c45ee75bb68ee80dac3009029eb74b7225f390f604544fe164f16fd8c6c21b28780885c4298dcf3ce09d806f06e716ba92d0c00793b0f7f651e1086039f23b28188adee7b8c881c17912f51bc2df879befaeb174f06ca98aa3e149153088783784fe9bf743e7face8c76a084e22bce72f73c4d80d55fdb04273a9050c0099b3e3bd1610c6e9de937e9c83001e89489ddbde46c1c421758343001a6ddb3d8730a66fdb5555fd45ca6dc7a93e06000200d87e8047e0bf1e6c6a1be12cc0b75afa7daa8143806e7895779577e169934de8fddc96f4c64ef3a9ea16c23a8127260c7bf008feff3fb2db8f80a703d363ace8670dc527fb96b102e0dd8e761ba61a9801d05eb1a29f4728deb66b05a1ae7f39b7a3b6a7113300da613bfdac63fcdb802d004754f57b2bedddeb9b0949f1a9026600b45b6ca79f9da21f2edc190e6600046067adfe57cee50d0087f8ea6e78f81a90469aeef443538801801aeff443d38b4380ccd992df75f89b7d1ce6829de16206408d76faa1e9c60c206305453fdb08137f7c973f60cc00f2567ba71f1a066600992a5bf4d36daba86bcc00f255aae887868d1940860a8a7eb6001ce47bff3c3003c853ace8e73c3b7f3e180032c3a21fda8d43808c9428fa39cab5fb7961069097a2a21f76fecc3003c84489a29f23aafa6db7ada2be3103c84751d10f3b7f86980164a0a0e8e70142c92fdffb678819401e62453f97d9f9f3c50c60e058f44331cc00868f453fe46200183016fd50110e01068a453f54063380e162d10f15620630402cfaa1b298010c138b7ea814660003c3a21faa8219c0f0b0e8874a630630202cfaa1aa98010c0b8b7ea81206808160d10fd5c121c000b0e887ea6206300c2cfaa15a98014c3916fd5013cc00a61f8b7ea8366600538c453fd4143380e9c6a21f6a8419c09462d10fa5c00c607ab1e8871a630098422cfaa154380498322cfaa19498014c1f16fd5032cc00a6088b7e28356600d385453f9414338029c1a21f6a033380e9c1a21f4a8e19c01460d10fb58519c07460d10fb5820160c2b1e887dac421c00463d10fb58d19c06463d10fb58a19c08462d10f758119c0e462d10fb58e19c00462d10f758519c06462d10f758219c08461d10f758919c0e461d10f7586016082b0e887bac621c08460d10ff58119c0e460d10f758e19c00460d10ff58519c06460d10ff5821940cf58f4437d6206908888ec1391e335fe94453fd41b66001559273f0de0b07d7418c0ec98af6e00d8b47fdf05b0bc379567d10ff58d01a080bd9e9b07f08afdcf719dbdac0d00cb003e55d57b22f225fcf7fef37cef4f6d63007058c77f07c09b68d6e93ddf0378d6b9b6a6aa3f6fe19e448f6100184344de007009fecc7cdb4ea8eabd9eee4d1979aaef064c121bdfdf0070a8c7662cb1f35357f816c088c89b003e43bf9d5f01fc778ff7a7cc649f01d858ff2a80f315fe6c1b6132ef5b8499fe4dfbfc1b002fdabf8f027806c0710073659b03e03f44e42955fda0427b886ac97a0e4044f6015842b90eba85d0e9ef569d9db7fbcc037815c03f2274f4225755f5ad2af721aa2adb00604ffe55f8afe146b601bc07e09aaa3e6c78cf4f009ca9f0273754f5d74dee491493730028d3196f02783745355e41d14fcc0555bddef4fe44e364190044e45f01bc1bf9ca36804555fd38e13d63453f454eaaeadd546d211ac9ee2d80889c45bcf36f01984bdcf9a33bfd20ec05b01df9895b22f242aaf6108d64950114acbc0342a9ee9caa7e97f09e453bfd9cb0b2e057102624bdb6b13a9092cb2d0388adbc7b00e054cace6f8a76fab9070096e22f467ee788d52a1025934d065062122ef938bbc44e3fc754f5eb3d7f139b9fe00a414a2aa70ce06ae4da859626d98a76faf97aef87aafa1b84a1c038cf01b890a86d447964003609b7ec5c6e656c5d30dfb08df0241ffb7ad132878d3a7f4b54452e19c01b916b175bba676cbe215a5b60d7de732ecf0078bd59d38882c16700360bff00e33be392aabedac23d1beff463eddec0f821c48aaafe7db35612e59101ccc37f127b4fd9a662c77b5d2c338967dff12a00e76c9840d4480e01e015e7f38d360edb2871bc579502a38f22d74e56f81da2b1720800f3cee77752df68d7d2624fa5f906ab4958772e9faef25b44e30c3a0088c8cbf0f7f36b63c3cd52453f15796f2f98015063830e0000f63b9f6f23ecfe938c8dc9df8edcef72cd9ff6ea13666c9f01a2da720d00f75ba8a6ab5cf453d266e49af7df47544aae016033e54dace8e79c7379b4a1482d056b131800a891a10780e79dcfef27be4feda29f92b69ccf0f34fc5dcadcd003803b044875032bfaf17616da06f07e82db78ed6506408d0c3d003c723e7f26e13d62453f33006edaebc126bcf67aff7d44a50c3d00b4fae4b48efd4dc1d71600ac349cb16f3d93a13c0d3d007863ef240140557f54d55f02b852f0d56300566db2b0120b325e2d0303003532f400b0e97c9e74ec6c6bf8bdb700238700ac59715215b1b66e56fc2da2c70c3d00784fc88309c6e58fb1937c4e22ac3cf4cc220c07ce56f8e91723d798015023b90600a085525adb55680e6119af6706c04715f6f7f316333de0d660d4d4a0038055df79efd05b594c63f79c43d80b30e69a88fcbec44f76b69889f233e80060bcc5345ec76accaaf7e600dc2ef8ea7911f993f786c06a0cbcc5456d2c66a2cce41000bc8e322b22c7dbbaa9aa3e54d55f00b851f0d55308f302e336f8f082d43698015002b96f09d6c9611b36debf56f0b50d0067468b860a3606e5966094c4e033009b28f39e96476c079fb6db701dc06b881fff75102113184dfabd0d7f7d41b263cb286f83cf0080c24d3ad7100ee8687d46dd6a006ec32fec19f96700ff82f101808783503283cf00809d9979efb08d23002e75d48e2fec7ede365f23ff86c846a6ecfc944a161900b09305acc2ef58afa53c11b8a02dfb1032816315ff741dc01106004a258b0c00d8c902624b736fd628d3addb968708af096f55fcd377d9f929a56c32006067667d1dfe187c0be184e0badb77d56953ec30d0ddbe54d5bf69bb3d94976c320060e7c8ad85c8579e4358b5d7d996dbb690e8bf4a7cf5afbbca50281f59050060a75e3f76c2ee0c806511f176f84d46449e16914f00fc4389afef43f585444451d9050060e7bd7c5185deefac4cf7a536da6059c61afcedc4c6a9ba9088282aab3980ddac427009a114b7c84da4d9dc73540b70056112b0891baafaeba6eda1bc651b00809d207013f17981dd96100eea58ae120c44e40584bafeb3f0cf0ddc6b1d61139198db0016ecad025165590780111befffaee29fad219c2ef410c00ff8a9d2f0190047eddf2fd8bfbd157de33c40e8d4776db9f0f912ed3895223ba1fc3000181b93df825f28d4850d84cefcede8833a0b8988caca7212701c55fd14213d5fe9a9095711aafcbeddfda14d58cea3da4222a25298018c611de90aca8fd79b580270b1e008b02a0b895e57d50f53358e868d19c018aa7ad7f609781dfe96624dad0038aaaaaf16757e6b53d985447fb4ea42a242cc004ab05a8079847d049b6405b7117628ba53a6d33b6dd987903514bd46bc0560b1e9da017b537212c0618449cdfd08139dbb17326de1a703523e47388fe1cedee10c4d1e06808aec708f93081d61b4a5d8013c3ed3bf86f066e007005f23748e3ba95ed755787db98a30a958e9beb666e22442c03b89fa13a3eb089bb17c6c190c4d18068029567221d13a421028cc382cd3b98272c551556d21ec6570bd85dfa69a1800a69c88fc13425973ec29fd0021088c7d0adb13ff0a80c5f42d7cc206c2a42777359e000c000360bb1b2f21fe86601b614e6067d3131b4a5c42581cd575fdc32a4220e0d0a0470c000361e9fb128aab0e2fa8ea757beadf4637af3a63ced9b16ad403068001a9d0a9ff13c0df21ec7f50d61642e9f36866ff73008fecdf2f224c8a3e0de004aa6f75c6854d3d610018184beb6fa1da3263cf3ac2c94a1f572933b65795f308e71acea3dcf06205a19c990b9b3ac400305025171279d610963fdf4dd08e7d08f30ce7501c08d600cc310874870160c04a2e24da6d0ba1e3272f25b6fa892b28ae5db86d47aa5107180006ce56397e8450bd17b38e70404aab4fdf92af2dafaaea5b6db68302ae0518becf00fc5f89ef1d448b27268f58763187509be0b928226fb4dd166200c8c10d007f55e27bcfa0a385442517365d6d6b3f46fa09870003567026624c928544456c5e600d7e01d392aabeda661b72c70c60d88a763ef62c00b86d33f8adb1f50967e06f7672c6aa1ca9250c000365937f5e41ce3a8af7409c433824e5f9a40ddb4355ef01b818f9cad536ef9f3b0e01064a44be845f11785455bf48b190281511f913fc5588f35c3cd40e660003644f7faff32f8d3ab3cdc89f427c467e1661bfc1b68f4b8b2d6b6efd94a65c31000c53acb35edefdbf580a7e0c6199ae67745c5a6b271259a9f19273f958db43915c31000cd349e7f39be36afa6debae630833f231d7acc4b82db1b900efbf891a60001818db3dd85be5e78ea3ed609163f09fc223e7edccc4a76b36d1656f05bc20d4d989cd396100181eafa36c23eccfe752d51fedbd7bd1ccfb29843704cfd6685f112f489d68fbb5648e180086c74b95ef942decb13afcd811ea4098645c6da15a6fd9f97c0661af014a88016078f63b9f575adadbd789443647e19dc5e0fdb7514d0c00c3e38dffbf713e77d9bbf763881f8e320b60c96a0a52f1daca00901803c08014bc2abb5fe737ed895cf4866006691712796de5abc0c418008625f684ac1500809dd9f939141f9cfa7aa28941afadcc001263001816af836c37dde8c3fefe14c2894463ef81b0a7dff74dee63bcdf6000488c016058bc5d7f1e399f5762af097f05e09d31971712ae17f0da5bb4ab1155c400302c5eea3c9bb2704755df43383979f486e042e2c53ade30a2f63086c67baaef0650529b916bfb01d43a91781c55fd504436019c68e1bc3f2fd5df4c7c9fec31000c4bec097900090300b0b390e85ecadf34079ccf990124c621c08058a59fb7b4f740874d69ea80f3798a0946da85016078bca764b26abd3689c80bf0cf376406901803c0f0780b7e4eb6b182af05b1adc9a38b99a83a0680e1f166e367011cedb221357999ca0a8f0c4b8f0160783e873f0f70b6cb865465558473cee5c6e714d293180006c62602bd25b5a94a75db12dbfbefa3ce5a9111068061f29e96330807744e1c9bfc3be75c5eb7f508941803c0302dc35fc2bb38a1476e5d81bf3df9075d3624270c000364c380d836db3726e98d806d397ec6b9bc06e0fd0e9b93151e0c3260058783dc52d55f76d99e712c1b5985fff4e7a1202d6206306c9723d71644a4d703376c4272097ee75f63e76f173380812b38720b005eb713823a653bfcaec0cf5000e0f0b8730c281d6600c3b788f8a93f7f14914b5d3506d899f15f45bcf3bfc3cedf3e6600192831ce06805b0016cb6e1ddea02dc711d2fed9585b26617e2207cc0032604fd28582af2d0058b30e9a9c88ecb34d433f43bcf3af22642dd40106804cd864dab8adbc763b04e0333bfa2b49ad80883c6d878a6e20fe6a12f69d336d6721f4130e0132639df15ac9af2f2154152e57ddecd33289d308abfbbce5bdbbad21747e56fc758801204356787313f1547caf358495868f10161c01e1008f03089b75ee07f022c2defdf3157f7b0961fe81abfd3ac60090294bf19750eee9dca6ab761621f580730099b289c12308b3ff7dd842a8f263e7ef110340c654f5a1bd6e3b8ce2537f52798030197990557efde3108076d829bf57102fd0a96b1b6151cf658ef5270703003dc1e607ce224ce61d6af053db084b93476f12d8f1270c030045d989c3f3087bf58d66fbc705856d3cfe76e02e53fcc9c70040b589c8cb0036131d084a3df87fdfb70f2e1483f2290000000049454e44ae426082]]>
   </Icon>
</Icons>
 <Model version="4.6" build="4.6.1.6898">
    <Sidops>
<![CDATA[CrankMechanism 615.5 944.5specifications active 'LagrangianIC'	specification 'kinematicsOnly'description '<Information> <Description>    <Version>4.5</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>  <AllowLibraryUpdate>True</AllowLibraryUpdate>  <Configuration>   <struct>    <member>     <name>DocumentationMask</name>     <value>      <struct></struct>     </value>    </member>   </struct>  </Configuration>    <LibraryPath>Mechanics\CrankMechanismKinematics.emx</LibraryPath>  <TimeStamp>2015-10-22 22:30:23</TimeStamp></Description></Information>'; type CrankMechanism  ports   power in p1;   signal out q_rad;   power out p2;   signal out flow;   signal in p_scvg; end; icon bg bottom shadow 11776947  figures   ellipse 315 292 339 316 color 0 width 3;   line 328 304 298 278 328 224 color 0 width 3;   ellipse 286 266 310 290 color 0 width 3;   ellipse 319 216 335 232 color 0 width 3;   line 302 232 302 200 350 200 350 232 color 0 width 3;  terminals   p1 328 192 fixed;   q_rad 368 232 fixed;   p2 328 320 fixed;   flow 367 184 fixed; end; implementation bg  submodels   FlowSensor2 296 600    knot FlowSensor     ports      power knot in p1 [1];      power knot out p2 [1];      signal knot out flow [1];     restrictions      causality constraint not_equal p1 p2;    end;    icon bg ellipse     figures      ellipse 289.5 593.5 302.5 606.5 color 0 fill 16777215;      text 'f' 296.5 598.5 color 0;    end;    implementation eqequations	p2.f = p1.f;	p1.e = p2.e;	flow = p1.f;      implementation_end;   MSe 216 424    description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\MSe.emx</LibraryPath>  <TimeStamp>2011-11-29 16:12:33</TimeStamp></Description></Information>';    type MSe     ports      power in p;      signal in p_scvg;     restrictions      causality fixed out p;    end;    icon bg bottom     figures      text 'MSe' 216 424 color 0 18 bold;    end;    implementation eqvariables	real flow;equations	p.e = p_scvg;	flow = p.f;implementation_end;   MTF2 296 512    type MTF     ports      power in p1;      power out p2;      signal in pfi;     restrictions      causality constraint not_equal p1 p2;    end;    icon bg     figures      text 'MTF' 296 512 color 0 18 bold;    end;    implementation eqparameters	real global S, lambdaR;variables	real m;	real csin, ccos;equations		csin=sin(pfi);ccos=cos(pfi);	m = S/2.0*(csin + lambdaR*csin*ccos/sqrt(1.0-(lambdaR*csin)^2));					p1.e = 1/(m + 1e-6) * p2.e;	p2.f  = 1/(m + 1e-6) * p1.f;     implementation_end;   plug q_rad 416.1 552;   plug p2 295.9 648.1;   plug flow 415.9 600.1;   plug p_scvg 88 423.9;   plug p1 295.9 312;   OneJunction3 296 424    knot OneJunction     ports      power knot duplicatable none p [1];      signal knot out flow [1];     restrictions      causality constraint one_out p;    end;    icon bg     figures      text '1' 296 424 color 0 18 bold;    end;    implementation eqequations	sum (direct (p.e)) = 0;	equal (collect (p.f));	flow = first (p.f);    implementation_end;   QSensor4 296 552    knot q_     ports      power knot in p1 [1];      power knot out p2 [1];      signal knot out q_rad [1];     restrictions      causality constraint not_equal p1 p2;    end;    icon bg ellipse     figures      ellipse 289.5 546 302.5 559 color 0 fill 16777215;      text 'q' 295.5 550 color 0;    end;    implementation eqparameters//	integer global nCyl;//	integer global iCyl;	integer global nStroke;//	real global pfi0[nCyl];	real global phi0;variables	real q0;	real b;	real q_gr;initialequations	q0 	= phi0*pi/180.0;	b 		= nStroke*180.0;	equations	p2.f 	= p1.f;	p1.e 	= p2.e;	q_rad 	= int (p1.f, q0);	q_gr	= q_rad*180.0/pi;     implementation_end;   Splitter1 360 552    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 356.8 548.8 363.2 555.2 color -1 fill 0;      ellipse 355.7 547.7 364.3 556.3 color -1;     terminals      input 360 552 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;   TF2 296 472    type TF     ports      power in p1;      power out p2;     restrictions      causality constraint not_equal p1 p2;    end;    icon bg     figures      text 'TF' 296 472 color 0 18 bold;    end;    implementation eqparameters	real global B;variables	real r;initialequations	r=1/(pi*B^2/4.0);equations						p1.e = r * p2.e;	p2.f = r * p1.f;       implementation_end;  end;  connections   FlowSensor2\flow -> flow;   FlowSensor2\p2 => p2;   MTF2\p2 => QSensor4\p1;   OneJunction3\p <= p1;   OneJunction3\p => MSe\p;   OneJunction3\p => TF2\p1;   p_scvg -> MSe\p_scvg;   QSensor4\p2 => FlowSensor2\p1;   QSensor4\q_rad -> Splitter1\input;   Splitter1\output -> MTF2\pfi 360 512;   Splitter1\output -> q_rad;   TF2\p2 => MTF2\p1;  end; implementation_end;specification_end;	specification 'LagrangianIC' description '<Information>
 <Description>
    <Version>4.6</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
  <AllowLibraryUpdate>True</AllowLibraryUpdate>
  <Configuration>
   <struct>
    <member>
     <name>DocumentationMask</name>
     <value>
      <struct></struct>
     </value>
    </member>
   </struct>
  </Configuration>
    <LibraryPath>Mechanics\CrankMechanism.emx</LibraryPath>
  <TimeStamp>2016-4-30 23:10:27</TimeStamp>
</Description>
</Information>'; type CrankMechanism  ports   power in p1;   signal out q_rad;   power out p2;   signal out flow;   signal in p_scvg; end; icon bg bottom shadow 11776947  figures   ellipse 611 980 635 1004 color 0 width 3;   line 624 992 594 966 624 912 color 0 width 3;   ellipse 582 954 606 978 color 0 width 3;   ellipse 615 904 631 920 color 0 width 3;   line 598 920 598 888 646 888 646 920 color 0 width 3;  terminals   p1 624 880 fixed;   q_rad 664 920 fixed;   p2 624 1008 fixed;   flow 663 872 fixed; end; implementation bg  submodels   cyl_8 296 512    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\IC.emx</LibraryPath><TimeStamp>2011-11-29 16:01:19</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration><struct><member><name>DocumentationMask</name><value><struct></struct></value></member></struct></Configuration></Description></Information>';    type IC     ports      power in pI1;      power out pC1;      power in piston;      signal out phi;     restrictions      causality fixed out pC1;      causality fixed in pI1;      causality fixed in piston;    end;    icon bg left     figures      text 'IC' 296 512 color 0 18 bold;    end;    implementation eqparameters	real global phi0;		// initial angle 	real global omega0;		// initial angular velocity	real global m1;		// mass of crankshaft 10000kg	real global m2;			// mass of connection rod 1600kg	real global m3;			// mass of piston with rod and crosshead  650 + 700 + 1000 = 2350kg	real global J_crank;		// crankshaft moment of inertia (see Solidworks file crank)	real global J_rod;	// connection rod moment of inertia ( see Solidworks file connection rod)		real global rm1;		// crankshaft center of gravity from journal  	real global rm2;		// connection rod center of gravity from crosshead	real global S;			// Stroke	real global lambdaR;			// Ratio of the length of the crank arm to the connecting rodvariables	real r;			// distance between main journal and crankpin journal = Stroke / 2	real l;			// length of connecting rod	real dphi;	real M;	real p,q;	real a;	real p0;initialequations	a = phi0*pi/30;		r = S / 2;	l = r / lambdaR;	phi = a;	M = m1 * (0.2e1 * cos(phi) ^ 2 * rm1 ^ 2 + 0.2e1 * sin(phi) ^ 2 * rm1 ^ 2) / 0.2e1 + m2 * (0.2e1 * (r * cos(phi) - lambdaR * (l - rm2) * cos(phi)) ^ 2 + 0.2e1 * (-sin(phi) * r - (l - rm2) * (0.1e1 - lambdaR ^ 2 * sin(phi) ^ 2) ^ (-0.1e1 / 0.2e1) * lambdaR ^ 2 * sin(phi) * cos(phi)) ^ 2) / 0.2e1 + m3 * r ^ 2 * (-sin(phi) - (0.1e1 - lambdaR ^ 2 * sin(phi) ^ 2) ^ (-0.1e1 / 0.2e1) * lambdaR * sin(phi) * cos(phi)) ^ 2 + m1 * rm1 ^ 2 + J_crank + (m2 * rm2 ^ 2 + J_rod) * lambdaR ^ 2 * cos(phi) ^ 2 / (0.1e1 - lambdaR ^ 2 * sin(phi) ^ 2);	p0 = M*omega0;equations		p = int (pI1.e,p0);	q = int (pC1.f,a);		phi = q;	M = m1 * (0.2e1 * cos(phi) ^ 2 * rm1 ^ 2 + 0.2e1 * sin(phi) ^ 2 * rm1 ^ 2) / 0.2e1 + m2 * (0.2e1 * (r * cos(phi) - lambdaR * (l - rm2) * cos(phi)) ^ 2 + 0.2e1 * (-sin(phi) * r - (l - rm2) * (0.1e1 - lambdaR ^ 2 * sin(phi) ^ 2) ^ (-0.1e1 / 0.2e1) * lambdaR ^ 2 * sin(phi) * cos(phi)) ^ 2) / 0.2e1 + m3 * r ^ 2 * (-sin(phi) - (0.1e1 - lambdaR ^ 2 * sin(phi) ^ 2) ^ (-0.1e1 / 0.2e1) * lambdaR * sin(phi) * cos(phi)) ^ 2 + m1 * rm1 ^ 2 + J_crank + (m2 * rm2 ^ 2 + J_rod) * lambdaR ^ 2 * cos(phi) ^ 2 / (0.1e1 - lambdaR ^ 2 * sin(phi) ^ 2);		dphi = p / M;	pI1.f = dphi;		pC1.e = m2 * (0.2e1 * dphi ^ 2 * (r * cos(phi) - lambdaR * (l - rm2) * cos(phi)) * (-sin(phi) * r + lambdaR * (l - rm2) * sin(phi)) + 0.2e1 * dphi ^ 2 * (-sin(phi) * r - (l - rm2) * (0.1e1 - lambdaR ^ 2 * sin(phi) ^ 2) ^ (-0.1e1 / 0.2e1) * lambdaR ^ 2 * sin(phi) * cos(phi)) * (-r * cos(phi) - (l - rm2) * (0.1e1 - lambdaR ^ 2 * sin(phi) ^ 2) ^ (-0.3e1 / 0.2e1) * lambdaR ^ 4 * sin(phi) ^ 2 * cos(phi) ^ 2 - (l - rm2) * (0.1e1 - lambdaR ^ 2 * sin(phi) ^ 2) ^ (-0.1e1 / 0.2e1) * lambdaR ^ 2 * cos(phi) ^ 2 + (l - rm2) * (0.1e1 - lambdaR ^ 2 * sin(phi) ^ 2) ^ (-0.1e1 / 0.2e1) * lambdaR ^ 2 * sin(phi) ^ 2)) / 0.2e1 + m3 * dphi ^ 2 * r ^ 2 * (-sin(phi) - (0.1e1 - lambdaR ^ 2 * sin(phi) ^ 2) ^ (-0.1e1 / 0.2e1) * lambdaR * sin(phi) * cos(phi)) * (-cos(phi) - (0.1e1 - lambdaR ^ 2 * sin(phi) ^ 2) ^ (-0.3e1 / 0.2e1) * lambdaR ^ 3 * sin(phi) ^ 2 * cos(phi) ^ 2 - (0.1e1 - lambdaR ^ 2 * sin(phi) ^ 2) ^ (-0.1e1 / 0.2e1) * lambdaR * cos(phi) ^ 2 + (0.1e1 - lambdaR ^ 2 * sin(phi) ^ 2) ^ (-0.1e1 / 0.2e1) * lambdaR * sin(phi) ^ 2) - (m2 * rm2 ^ 2 + J_rod) * dphi ^ 2 * lambdaR ^ 2 * cos(phi) / (0.1e1 - lambdaR ^ 2 * sin(phi) ^ 2) * sin(phi) + (m2 * rm2 ^ 2 + J_rod) * dphi ^ 2 * lambdaR ^ 4 * cos(phi) ^ 3 / (0.1e1 - lambdaR ^ 2 * sin(phi) ^ 2) ^ 2 * sin(phi) + g_n * m1 * sin(phi) * rm1 - g_n * m2 * (-sin(phi) * r - (l - rm2) * (0.1e1 - lambdaR ^ 2 * sin(phi) ^ 2) ^ (-0.1e1 / 0.2e1) * lambdaR ^ 2 * sin(phi) * cos(phi)) - g_n * m3 * r * (-sin(phi) - (0.1e1 - lambdaR ^ 2 * sin(phi) ^ 2) ^ (-0.1e1 / 0.2e1) * lambdaR * sin(phi) * cos(phi)) - piston.e * r * (-sin(phi) - (0.1e1 - lambdaR ^ 2 * sin(phi) ^ 2) ^ (-0.1e1 / 0.2e1) * lambdaR * sin(phi) * cos(phi));	piston.f = dphi * r * (-sin(phi) - (0.1e1 - lambdaR ^ 2 * sin(phi) ^ 2) ^ (-0.1e1 / 0.2e1) * lambdaR * sin(phi) * cos(phi));implementation_end;   C_cyl8 256 568    description '<Information><Description><Version>4.2</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Bond Graph\PowerSensor.emx</LibraryPath><TimeStamp>2011-11-29 16:29:42</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration><struct><member><name>DocumentationMask</name><value><struct></struct></value></member></struct></Configuration></Description></Information>';    knot PowerSensor     ports      power knot in p1 [1];      power knot out p2 [1];      signal knot out P [1] {W} ;     restrictions      causality constraint not_equal p1 p2;    end;    icon bg ellipse left     figures      ellipse 249.1 560.8 262.9 575.2 color 0 fill 16777215;      text 'P' 256.5 567.8 color 0;    end;    implementation eqequations	p2.e = p1.e;	p1.f = p2.f;	P = p1.e .* p1.f;implementation_end;   FlowSensor2 296 664    knot FlowSensor     ports      power knot in p1 [1];      power knot out p2 [1];      signal knot out flow [1];     restrictions      causality constraint not_equal p1 p2;    end;    icon bg ellipse     figures      ellipse 289.5 657.5 302.5 670.5 color 0 fill 16777215;      text 'f' 296.5 662.5 color 0;    end;    implementation eqequations	p2.f = p1.f;	p1.e = p2.e;	flow = p1.f;      implementation_end;   MSe 216 424    description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\MSe.emx</LibraryPath>  <TimeStamp>2011-11-29 16:12:33</TimeStamp></Description></Information>';    type MSe     ports      power in p;      signal in p_scvg;     restrictions      causality fixed out p;    end;    icon bg bottom     figures      text 'MSe' 216 424 color 0 18 bold;    end;    implementation eqvariables	real flow;equations	p.e = p_scvg;	flow = p.f;implementation_end;   plug q_rad 432 512;   plug p2 295.9 712.1;   plug flow 432 664;   plug p_scvg 88 423.9;   plug p1 295.9 312;   OneJunction15 296 616    description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>  <TimeStamp>2011-11-29 16:17:51</TimeStamp></Description></Information>';    knot OneJunction     ports      power knot duplicatable none p [1];      signal knot out flow [1];     restrictions      causality constraint one_out p;    end;    icon bg     figures      text '1' 296 616 color 0 18 bold;    end;    implementation eqequations	sum (direct (p.e)) = 0;	equal (collect (p.f));	flow = first (p.f);implementation_end;   OneJunction3 296 424    knot OneJunction     ports      power knot duplicatable none p [1];      signal knot out flow [1];     restrictions      causality constraint one_out p;    end;    icon bg     figures      text '1' 296 424 color 0 18 bold;    end;    implementation eqequations	sum (direct (p.e)) = 0;	equal (collect (p.f));	flow = first (p.f);    implementation_end;   PowerSensor2 296 568    description '<Information> <Description>    <Version>4.2</Version><IsMainModel>1</IsMainModel>  <KeepParameterValues>False</KeepParameterValues>    <LibraryPath>Bond Graph\PowerSensor.emx</LibraryPath>  <TimeStamp>2011-11-29 16:29:42</TimeStamp></Description></Information>';    knot PowerSensor     ports      power knot in p1 [1];      power knot out p2 [1];      signal knot out P [1] {W} ;     restrictions      causality constraint not_equal p1 p2;    end;    icon bg ellipse     figures      ellipse 289.1 560.8 302.9 575.2 color 0 fill 16777215;      text 'P' 296.5 567.8 color 0;    end;    implementation eqequations	p2.e = p1.e;	p1.f = p2.f;	P = p1.e .* p1.f;implementation_end;   TF2 296 472    type TF     ports      power in p1;      power out p2;     restrictions      causality constraint not_equal p1 p2;    end;    icon bg     figures      text 'TF' 296 472 color 0 18 bold;    end;    implementation eqparameters	real global B;variables	real r;initialequations	r=1/(pi*B^2/4.0);equations						p1.e = r * p2.e;	p2.f = r * p1.f;       implementation_end;  end;  connections   C_cyl8\p2 => OneJunction15\p 256 592;   cyl_8\pC1 => C_cyl8\p1 254.5 541.6;   cyl_8\phi -> q_rad;   cyl_8\pI1 <= PowerSensor2\p2;   FlowSensor2\flow -> flow;   FlowSensor2\p2 => p2;   OneJunction15\p => FlowSensor2\p1;   OneJunction3\p <= p1;   OneJunction3\p => MSe\p;   OneJunction3\p => TF2\p1;   p_scvg -> MSe\p_scvg;   PowerSensor2\p1 <= OneJunction15\p;   TF2\p2 => cyl_8\piston;  end; implementation_end;specification_end;end;]]>
  </Sidops>
</Model>
</Document>
