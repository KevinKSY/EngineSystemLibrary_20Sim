<?xml version="1.0" encoding="UTF-8"?>
<Document>
  <Icons>
    <Icon size="128" bpp="32" format="png">
<![CDATA[89504e470d0a1a0a0000000d4948445200000080000000800806000000c33e61cb00000006624b474400ff00ff00ffa0bda793000000097048597300000ec400000ec401952b0e1b0000024249444154789ceddcbd6dc2401c40f1bf238a3459c0159bb086bb6cc42eac40952d2c1ab729d290ead20442d001b6c4d7dd7b3fc98583632ceec56763294d4a29c4f5f2e803d06319009c01c019009c01c019009c01c019009c01c019009c01c019009c01c019009c01c019009c01c019009c01c019009c01c019009c01c019009c01c019009c01c019009c01c019009c01c019009c01c019009c01c019009c01c019009c01c019009c01c019009c01d0a594f64b442c2222b954bfbcefc67c16ffcd97cbe557d7756fa12aadd7ebe8ba6ebe5b770a803300380380330038038033003803803300380380330038038033003803803300b8e3c7c14faf6ddb188621dab6ddff6c1886ec76870eb739b78f29fbcdbd5e9ae20288f81bc0b1eb637f27221fca94f7294d9153c0b90f7deca0e4b699badfe3b348898a3c039c93fbcbd769d50510919fa7af11428d315517c02de7e5d2e7fb9c22af019e49e967054400d718a4dc055f0d7701d54d01b981bad6d5fa98ef1f4a535c00636edf2e6d33f61670eaad62891053804e3300380380330038038033003803803300380380330038038033003803803300b8e3c7c1dbd56a35db6c369f0f391add5cdff7af11b1ddad37bfff2072af699ac5bd0f4a77f79152fa8ec8042016af01e00c00ce00e00c00ce00e00c00ce00e00c00ce00e00c00ce00e00c00ce00e00c00ce00e00c00ce00e00c00ce00e00c00ce00e00c00ce00e00c00ce00e00c00ce00e00c00ce00e00c00ce00e00c00ce00e00c00ce00e00c00ce00e00c00ce00e00c00ce00e07e001ad81dea9c5a690c0000000049454e44ae426082]]>
     </Icon>
  </Icons>
  <Model version="4.5" build="4.5.4.6171">
    <Sidops>
<![CDATA[Governor 496 184specifications active 'SmokeLimit'	specification 'default' description '<Information><Description><Version>4.5</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration><struct><member><name>DocumentationMask</name><value><struct></struct></value></member></struct></Configuration></Description></Information>'; type Submodel  ports   signal in RPMRef;   signal out uGov;   signal in omegaE; end; icon bg bottom shadow 11776947  figures   rectangle 451.3 169 540.7 199 fill 15132390;   text 'name' 496 184 16; end; implementation bg  submodels   Governor 344 224.1    description '<Information><Description><Version>4.5</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration><struct><member><name>DocumentationMask</name><value><struct></struct></value></member></struct></Configuration></Description><Attributes><GlobalRelations>parameters	real tau = 5;	//Time constant for RPM Command	real BW = 5; //cutoff frequency for LP fileter for engine speed	real K = 1.5;			// Proportional gain	real Td = 1;		// Derivative time constant: Td &gt; 0	real N = 0;			// Derivative gain limitation.	real Ti = 1;			// Integral time constant: Ti &gt; 0	real Ta = 0.5;		// Tracking time constant.t: Ta &gt; 0	real minimum = 0.1;	// Minimum controller output	real maximum = 1.1;	// Maximum controller output	real output_initial = 0.6;	// The controller output at start-up</GlobalRelations></Attributes></Information>';    type Submodel     ports      signal in omegaE;      signal in RPMRef;      signal out uGov;      signal in uGovSat;    end;    implementation bg     submodels      Controller 616 104       description '<Information><Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Signal\Control\PID Control\Continuous\Controller-PID_p_sp_aw_u0.emx</LibraryPath><TimeStamp>2007-9-27 14:5:1</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration><struct><member><name>DocumentationMask</name><value><struct></struct></value></member></struct></Configuration></Description></Information>';       type 'HybridCont-PID_p_sp_aw_u0'        ports         signal in SP;         signal in MV;         signal out output;         signal in outputSat;       end;       icon bg bottom        figures         rectangle 584 72 648 136 fill 15132390;         text 'PID' 630.4 103 color 16711680 18 bold;         text 'SP' 596.8 86.9 color 16711680 14;         text 'MV' 598.9 117.9 color 16711680 14;         group          group           line 618.1 133.9 621.3 129 624.6 133.9 618.1 133.9 fill 0;           line 611.7 129 631 129;          end;          text 'sp' 622.7 119.7 14;         end;         text 'p' 640.5 125.3 14;         group          text 'u' 610.6 81.5 14;          text '0' 616.1 87.1;         end;         text 'aw' 629.1 81.5 14;         group          line 629.8 93.8 633.9 93.8 641.9 77.2;          line 641.7 77.5 645.9 77.5;         end;        terminals         SP 584 88 fixed;         MV 584 120 fixed;         output 648 104 fixed;       end;       implementation eq// Created by C. Kleijn, 22 Sep 1999parameters	real global K;			// Proportional gain	real global Td;		// Derivative time constant: Td > 0	real global N;			// Derivative gain limitation.	real global Ti;			// Integral time constant: Ti > 0	real b = 1.0 {};			// Proportional setpoint weighting parameter: 0 <= b <= 1	real c = 1.0 {};			// Derivative setpoint weighting parameter: 0 <= c <= 1	real global Ta;		// Tracking time constant.t: Ta > 0	real global minimum;	// Minimum controller output	real global maximum;	// Maximum controller output	real global output_initial;	// The controller output at start-upvariables	real error,PB_high,PB_low;	real hidden uP,uI,uD,uDstate,ideal_output,uI_initial,uD_initial;equations	error = SP - MV;	uP = K * ( b * SP - MV );	if time == 0 then 			uI_initial = output_initial - uP;		else 			uI_initial = uI_initial;		end;	if time == 0 then 			uD_initial = K * (c * SP - MV ) * N;		else			uD_initial = uD_initial;		end;	uI = int ( K * error / Ti  -  ( ideal_output - min([output; outputSat]) ) / Ta) + uI_initial;	uDstate = int ( uD * N / Td ) + uD_initial;	uD = K * (c * SP - MV ) * N - uDstate;	  	ideal_output = uP + uI + uD;	output = limit (ideal_output, minimum, maximum);	PB_low = b * SP + (uI + uD - maximum)/K;	PB_high = b * SP + (uI + uD - minimum)/K;                                                                                                                implementation_end;      Gain1 448 88       description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>  <TimeStamp>2007-9-26 12:15:12</TimeStamp></Description>';       type Gain        ports         signal in input;         signal out output;       end;       icon bg bottom        figures         rectangle 432.1 72 463.9 104 fill 15132390;         text 'K' 448 88 color 16711680 16 bold;       end;       implementation eqparameters	real global RPMMax;		// gainequations	output = input/RPMMax;    implementation_end;      Gain2 448 144       description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>  <TimeStamp>2007-9-26 12:15:12</TimeStamp></Description>';       type Gain        ports         signal in input;         signal out output;       end;       icon bg bottom        figures         rectangle 432.1 128 463.9 160 fill 15132390;         text 'K' 448 144 color 16711680 16 bold;       end;       implementation eqparameters	real global RPMMax;		// gainequations	output = input /(RPMMax/30*pi);    implementation_end;      LowPassFilter 328 144       description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Filters\LowPassFilter-BW4.emx</LibraryPath>  <TimeStamp>2007-9-27 15:23:6</TimeStamp></Description>';       type 'LowPassFilter-BW4'        ports         signal in u;         signal out y;       end;       icon bg bottom        figures         rectangle 280 128 376 160 fill 15132390;         text 'Low-Pass Filter' 328.5 136.7 color 16711680 14;         text 'BW 4    (rad/s) ' 330.1 150.4 color 16711680 14;         text 'th' 324.3 146.3 color 16711680;       end;       implementation eq// Created by C. Kleijn, 27 September 1999parameters    real global BW;	// Bandwidth (Hz)variables    real hidden s1y,s2y,s3y,s4y,BWrad;equations	BWrad = twopi*BW;	s4y = BWrad^4.0*(u - y) - BWrad^3.0*2.6131*s1y - BWrad^2.0*3.4142*s2y - BWrad*2.6131*s3y;  	s3y = int(s4y,0);	s2y = int(s3y,0);	s1y = int(s2y,0);   	y = int(s1y,0);        implementation_end;      plug RPMRef 232.2 88.1;      plug uGov 752.1 104;      plug uGovSat 216.1 240;      plug omegaE 168.1 143.9;      RPMCommanTF 320 88						specifications active 'FO'							specification 'FO' description '<Information><Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath><TimeStamp>2008-1-24 10:10:10</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration><struct><member><name>DocumentationMask</name><value><struct></struct></value></member></struct></Configuration></Description></Information>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 296 71.4 344 104.6 fill 15132390;   text 'k' 321.1 79.1 color 16711680 14;   line 301.7 89 339.4 89 color 16711680 fill 15132390;   text 't' 314.7 95.7 color 16711680 'SymbolProp BT' 15;   text 's    + 1' 320 95.7 color 16711680 14; end; implementation eqparameters    real k = 1;		// gain []    real global tau;		// time constant [s / rad]variables    real rate, state;equations    rate = (k * input - state) / tau;    state = int (rate);    output = state;                    implementation_end;specification_end;							specification 'FOL'description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath>  <TimeStamp>2008-1-24 10:10:10</TimeStamp></Description>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 152 96 216 128 fill 15132390;   group    text 't' 176.5 118.8 color 16711680 'SymbolProp BT' 15;    text 's    + 1' 184 118.8 color 16711680 14;   end;   line 155.5 114 210.9 114 color 16711680 fill 15132390;   group    text 'L' 187.2 108.2 color 16711680 11;    text 't' 181.3 105 color 16711680 'SymbolProp BT' 15;   end;   text 'k' 160.5 105.5 color 16711680 14;   text '(s    + 1)' 188.8 105 color 16711680 14; end; implementation eqparameters	real k = 1;			// gain []	real tau = 1;		// time constant [s ]	real tauL = 1;		// lead time [s]variables    real hidden rate, state;equations	rate = ( k * input - state );	state = int ( rate / tau );	output = state + ( tauL/tau ) * rate;  implementation_end;specification_end;							specification 'FOLA'description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath>  <TimeStamp>2008-1-24 10:10:10</TimeStamp></Description>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 152 96.5 216 128.5 fill 15132390;   line 156.6 113.5 211.9 113.5 color 16711680 fill 15132390;   group    text 'k' 160.5 105 color 16711680 14;    text '(s    + 1)' 187.7 104.4 color 16711680 14;    text 't' 180.3 104.4 color 16711680 'SymbolProp BT' 15;   end;   group    text 's    + 1' 182.4 119.4 color 16711680 14;    text 't' 173.9 119.4 color 16711680 'SymbolProp BT' 15;    text 'L' 179.7 122.6 color 16711680 11;   end; end; implementation eqparameters	real k = 1;			// gain []	real tau = 1;		// time constant [s ]	real tauL = 1;		// lag time [s]variables    real hidden rate, state;equations	rate = ( k * input - state );	state = int ( rate / tauL );	output = state + ( tau/tauL ) * rate;  implementation_end;specification_end;							specification 'SOI'description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath>  <TimeStamp>2008-1-24 10:10:10</TimeStamp></Description>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 160 97 208 128 fill 15132390;   text 'k' 187.2 104 color 16711680 14;   line 163.2 112.5 202.7 112.5 color 16711680 fill 15132390;   group    text 's(s  + 1)' 184 118.4 color 16711680 14;    text 't' 181.9 118.4 color 16711680 'SymbolProp BT' 15;   end; end; implementation eqparameters	real k = 1;			// gain [] 	real tau = 1;		// time constant [s / rad]variables    real hidden rate1, state1;    real rate2,state2;equations	rate1 = ( k * input );	state1 = int (rate1);	rate2 = (state1 - state2)/tau;	state2 = int(rate2);	output = state2;                        implementation_end;specification_end;							specification 'SOO'description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath>  <TimeStamp>2008-1-24 10:10:10</TimeStamp></Description>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 136 96.6 232 128.6 fill 15132390;   group    text 't' 198.4 117.9 color 16711680 'SymbolProp BT' 15;    text '2' 203.2 121.1 color 16711680 11;   end;   group    text 't' 153.6 117.9 color 16711680 'SymbolProp BT' 15;    text '1' 157.9 120.1 color 16711680 11;   end;   line 140.8 112.1 226.1 112.1 color 16711680 fill 15132390;   text '(s    + 1)' 161.1 117.9 color 16711680 14;   text '(s    + 1)' 205.9 117.9 color 16711680 14;   text 'k' 183.5 103.3 color 16711680 14; end; implementation eqparameters    real k = 1;			// gain []    real tau1 = 1;		// time constant 1 [s / rad]	real tau2 = 1;		// time constant 2 [s / rad]variables    	real hidden rate1,rate2, state1;	real state2;equations	rate1 = (k * input - state1) / tau1;	state1 = int (rate1);	rate2 = (state1 - state2)/tau2;	state2 = int(rate2);	output = state2;                         implementation_end;specification_end;							specification 'SOOL'description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath>  <TimeStamp>2008-1-24 10:10:10</TimeStamp></Description>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 136 97.3 232 129.3 fill 15132390;   group    text 't' 198.4 118.1 color 16711680 'SymbolProp BT' 15;    text '2' 203.2 121.3 color 16711680 11;   end;   group    text 't' 153.6 118.1 color 16711680 'SymbolProp BT' 15;    text '1' 157.9 120.2 color 16711680 11;   end;   text 'k' 159.5 103.7 color 16711680 14;   line 140.8 112.2 226.1 112.2 color 16711680 fill 15132390;   text '(s    + 1)' 161.1 118.1 color 16711680 14;   text '(s    + 1)' 205.9 118.1 color 16711680 14;   group    text '(s    + 1)' 187.7 103.7 color 16711680 14;    text 't' 180.3 103.7 color 16711680 'SymbolProp BT' 15;    text 'L' 185.1 106.9 color 16711680 11;   end; end; implementation eqparameters    real k = 1;			// gain []    real tau1 = 1;		// time constant 1 [s ]	real tau2 = 1;		// time constant 2 [s ]	real tauL = 2;		// lead time [s]variables    	real hidden rate1,rate2, state1;	real state2;equations	rate1 = state2/k - input;	state1 = int (rate1);	rate2 = k/(tau1*tau2) * ( tauL*input - state1 - state2*(tau1+tau2)/k );	state2 = int(rate2);	output = state2;             implementation_end;specification_end;							specification 'SOU'description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath>  <TimeStamp>2011-3-23 10:32:13</TimeStamp></Description>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 200 511.7 296 543.7 fill 15132390;   line 204.8 527.2 290.1 527.2 color 16711680 fill 15132390;   text 's  + 2     s  + 1' 254.3 535.7 color 16711680 14;   text 'z' 251.4 536.8 color 16711680 'SymbolProp BT' 11 symbol;   text '2' 216.4 532 color 16711680 11;   text 't' 210 535.7 color 16711680 'SymbolProp BT' 15;   text 't' 258.5 535.7 color 16711680 'SymbolProp BT' 15;   text 'k' 248.4 519.2 color 16711680 14;   text '2' 228.4 532 color 16711680 11; end; implementation eqparameters    	real k = 1;			// gain []    	real tau = 1;		// time constant [s ]	real zeta = 0.7;		// damping constant []variables    	real hidden rate1,rate2, state1;	real state2;equations	rate1 = (k * input - state2) / tau;	state1 = int (rate1);	rate2 = (state1 - 2*zeta*state2)/tau;	state2 = int(rate2);	output = state2;                            implementation_end;specification_end;							specification 'SOUO'description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath>  <TimeStamp>2008-1-24 10:10:10</TimeStamp></Description>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 136 96.1 232 128.1 fill 15132390;   line 139.2 112.4 227.2 112.4 color 16711680 fill 15132390;   text 's  + 2      s  + ' 176 120.1 color 16711680 14;   text 'z' 172.3 121.2 color 16711680 'SymbolProp BT' 11 symbol;   text 'w' 181.3 120.1 color 16711680 'SymbolProp BT' 15;   text 'k' 176.5 103.6 color 16711680 14;   group    text '2' 194.7 101.2 color 16711680 11;    text 'w' 186.7 103.9 color 16711680 'SymbolProp BT' 15;   end;   group    text '2' 225.6 116.7 color 16711680 11;    text 'w' 217.6 119.4 color 16711680 'SymbolProp BT' 15;   end;   text '2' 149.3 116.2 color 16711680 11; end; implementation eqparameters    	real k = 1.0;			// gain []	real omega = 1.0;		// frequency [rad/s]	real zeta = 0.7;			// damping constant []variables    	real hidden rate1,rate2, state1;	real state2;equations	rate1 = (k * input - state2)*omega;	state1 = int (rate1);	rate2 = (state1 - 2*zeta*state2)*omega;	state2 = int(rate2);	output = state2;                            implementation_end;specification_end;						end;      Splitter1 400 144       description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';       knot Splitter        ports         signal knot duplicatable out output [1];         signal knot in input [1];       end;       icon bg ellipse        figures         ellipse 396.8 140.8 403.2 147.2 color -1 fill 0;         ellipse 395.7 139.7 404.3 148.3 color -1;        terminals         input 400 144 fixed;       end;       implementation eqequations    collect (output) = input;implementation_end;      Splitter2 520 144       description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';       knot Splitter        ports         signal knot duplicatable out output [1];         signal knot in input [1];       end;       icon bg ellipse        figures         ellipse 516.8 140.8 523.2 147.2 color -1 fill 0;         ellipse 515.7 139.7 524.3 148.3 color -1;        terminals         input 520 144 fixed;       end;       implementation eqequations    collect (output) = input;implementation_end;     end;     connections      Controller\output -> uGov;      Gain1\output -> Controller\SP;      Gain2\output -> Splitter2\input 508.4 144;      LowPassFilter\y -> Splitter1\input;      omegaE -> LowPassFilter\u;      RPMCommanTF\output -> Gain1\input;      RPMRef -> RPMCommanTF\input;      Splitter1\output -> Gain2\input;      Splitter2\output -> Controller\MV 552 144;      uGovSat -> Controller\outputSat 504 240;     end;    implementation_end;   plug RPMRef 216 224;   plug uGov 672 296;   plug omegaE 216.1 271.9;  end;  connections   Governor\uGov -> uGov 344 296;   omegaE -> Governor\omegaE;   RPMRef -> Governor\RPMRef;  end; implementation_end;specification_end;	specification 'SmokeLimit' description '<Information>
 <Description>
    <Version>4.5</Version>
<IsMainModel>1</IsMainModel>
  <KeepParameterValues>False</KeepParameterValues>
  <AllowLibraryUpdate>True</AllowLibraryUpdate>
  <Configuration>
   <struct>
    <member>
     <name>DocumentationMask</name>
     <value>
      <struct></struct>
     </value>
    </member>
   </struct>
  </Configuration>
    <LibraryPath>Controller\Governor.emx</LibraryPath>
  <TimeStamp>2015-11-16 21:10:54</TimeStamp>
</Description>
</Information>'; type Submodel  ports   signal in RPMRef;   signal out uGov;   signal in omegaE;   signal in pTAR [2,1]; end; icon bg bottom shadow 11776947  figures   rectangle 451.3 169 540.7 199 fill 15132390;   text 'name' 496 184 16; end; implementation bg  submodels   Constant 440 104    description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Sources\Constant.emx</LibraryPath>  <TimeStamp>2007-10-19 14:48:44</TimeStamp></Description>';    type Constant     ports      signal out output;    end;    icon bg bottom     figures      rectangle 424.1 88 455.9 120 fill 15132390;      line 428.9 99.6 450.9 99.6 color 16711680 width 2;      line 426.2 110.7 451.9 110.7;      line 428.5 94.7 428.5 113;    end;    implementation eqparameters	real C = 0.5;		// output valueequations	output = C;     implementation_end;   Demux 306.5 144			specifications active 'outputs_2'				specification 'default'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-10-5 22:44:58</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal in input [2,1];   signal out output2; end; icon bg bottom  figures   line 128 64 128 96 width 2;   rectangle 124 64 132 96 color -1;   text '2' 133 91 color 8421504 8;  terminals   output1 128 72 fixed;   input 128 80 fixed;   output2 128 88 fixed; end; implementation eqequations	[output1; output2] = input;implementation_end;specification_end;				specification 'outputs_1'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output;   signal in input; end; icon bg bottom  figures   line 128 64 128 80 width 2;   rectangle 124 64 132 80 color -1;   text '1' 133 82 color 8421504 8;  terminals   input 128 72 fixed;   output 128 72 fixed; end; implementation eqequations	output = input;implementation_end;specification_end;				specification 'outputs_2' description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal in input [2,1];   signal out output2; end; icon bg bottom  figures   line 304 128 304 160 width 2;   rectangle 300 128 308 160 color -1;   text '2' 309 155 color 8421504 8;  terminals   output1 304 136 fixed;   input 304 144 fixed;   output2 304 152 fixed; end; implementation eqequations	[output1; output2] = input;implementation_end;specification_end;				specification 'outputs_3'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal in input [3,1]; end; icon bg bottom  figures   line 128 56 128 88 width 2;   rectangle 124 56 132 88 color -1;   text '3' 133 82 color 8421504 8;  terminals   output1 128 64 fixed;   output2 128 72 fixed;   output3 128 80 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3] = input;implementation_end;specification_end;				specification 'outputs_4'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal in input [4,1]; end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '4' 133 83 color 8421504 8;  terminals   output1 128 56 fixed;   output2 128 64 fixed;   output3 128 80 fixed;   output4 128 88 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4] = input;implementation_end;specification_end;				specification 'outputs_5'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal in input [5,1]; end; icon bg bottom  figures   line 128 48 128 96 width 2;   rectangle 124 48 132 96 color -1;   text '5' 133 83 color 8421504 8;  terminals   output1 128 56 fixed;   output2 128 64 fixed;   output3 128 72 fixed;   output4 128 80 fixed;   output5 128 88 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5] = input;implementation_end;specification_end;				specification 'outputs_6'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal out output6;   signal in input [6,1]; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '6' 133 83 color 8421504 8;  terminals   output1 128 48 fixed;   output2 128 56 fixed;   output3 128 64 fixed;   output4 128 80 fixed;   output5 128 88 fixed;   output6 128 96 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5; output6] = input;implementation_end;specification_end;				specification 'outputs_7'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal out output6;   signal out output7;   signal in input [7,1]; end; icon bg bottom  figures   line 128 40 128 104 width 2;   rectangle 124 40 132 104 color -1;   text '7' 133 83 color 8421504 8;  terminals   output1 128 48 fixed;   output2 128 56 fixed;   output3 128 64 fixed;   output4 128 72 fixed;   output5 128 80 fixed;   output6 128 88 fixed;   output7 128 96 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5; output6; output7] = input;implementation_end;specification_end;				specification 'outputs_8'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal out output6;   signal out output7;   signal out output8;   signal in input [8,1]; end; icon bg bottom  figures   line 128 32 128 112 width 2;   rectangle 124 32 132 112 color -1;   text '8' 133 83 color 8421504 8;  terminals   output1 128 40 fixed;   output2 128 48 fixed;   output3 128 56 fixed;   output4 128 64 fixed;   output5 128 80 fixed;   output6 128 88 fixed;   output7 128 96 fixed;   output8 128 104 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5; output6; output7; output8] = input;implementation_end;specification_end;				specification 'outputs_9'description '<Description>   <Version>4.1</Version>  <LibraryPath>Signal\Block Diagram\Demux.emx</LibraryPath>  <TimeStamp>2011-3-4 15:12:50</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues> <AllowLibraryUpdate>True</AllowLibraryUpdate></Description>'; type Demux  ports   signal out output1;   signal out output2;   signal out output3;   signal out output4;   signal out output5;   signal out output6;   signal out output7;   signal out output8;   signal out output9;   signal in input [9,1]; end; icon bg bottom  figures   line 128 32 128 112 width 2;   text '9' 132 83 color 8421504 8;  terminals   output1 128 40 fixed;   output2 128 48 fixed;   output3 128 56 fixed;   output4 128 64 fixed;   output5 128 72 fixed;   output6 128 80 fixed;   output7 128 88 fixed;   output8 128 96 fixed;   output9 128 104 fixed;   input 128 72 fixed; end; implementation eqequations	[output1; output2; output3; output4; output5; output6; output7; output8; output9] = input;implementation_end;specification_end;			end;   Governor 344 224.1    description '<Information><Description><Version>4.5</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration><struct><member><name>DocumentationMask</name><value><struct></struct></value></member></struct></Configuration></Description><Attributes><GlobalRelations>parameters	real tau = 5;	//Time constant for RPM Command	real BW = 5; //cutoff frequency for LP fileter for engine speed	real K = 1.5;			// Proportional gain	real Td = 1;		// Derivative time constant: Td &gt; 0	real N = 0;			// Derivative gain limitation.	real Ti = 1;			// Integral time constant: Ti &gt; 0	real Ta = 0.5;		// Tracking time constant.t: Ta &gt; 0	real minimum = 0.1;	// Minimum controller output	real maximum = 1.1;	// Maximum controller output	real output_initial = 0.6;	// The controller output at start-up</GlobalRelations></Attributes></Information>';    type Submodel     ports      signal in omegaE;      signal in RPMRef;      signal out uGov;      signal in uGovSat;    end;    implementation bg     submodels      Controller 616 104       description '<Information><Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Signal\Control\PID Control\Continuous\Controller-PID_p_sp_aw_u0.emx</LibraryPath><TimeStamp>2007-9-27 14:5:1</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration><struct><member><name>DocumentationMask</name><value><struct></struct></value></member></struct></Configuration></Description></Information>';       type 'HybridCont-PID_p_sp_aw_u0'        ports         signal in SP;         signal in MV;         signal out output;         signal in outputSat;       end;       icon bg bottom        figures         rectangle 584 72 648 136 fill 15132390;         text 'PID' 630.4 103 color 16711680 18 bold;         text 'SP' 596.8 86.9 color 16711680 14;         text 'MV' 598.9 117.9 color 16711680 14;         group          group           line 618.1 133.9 621.3 129 624.6 133.9 618.1 133.9 fill 0;           line 611.7 129 631 129;          end;          text 'sp' 622.7 119.7 14;         end;         text 'p' 640.5 125.3 14;         group          text 'u' 610.6 81.5 14;          text '0' 616.1 87.1;         end;         text 'aw' 629.1 81.5 14;         group          line 629.8 93.8 633.9 93.8 641.9 77.2;          line 641.7 77.5 645.9 77.5;         end;        terminals         SP 584 88 fixed;         MV 584 120 fixed;         output 648 104 fixed;       end;       implementation eq// Created by C. Kleijn, 22 Sep 1999parameters	real global K;			// Proportional gain	real global Td;		// Derivative time constant: Td > 0	real global N;			// Derivative gain limitation.	real global Ti;			// Integral time constant: Ti > 0	real b = 1.0 {};			// Proportional setpoint weighting parameter: 0 <= b <= 1	real c = 1.0 {};			// Derivative setpoint weighting parameter: 0 <= c <= 1	real global Ta;		// Tracking time constant.t: Ta > 0	real global minimum;	// Minimum controller output	real global maximum;	// Maximum controller output	real global output_initial;	// The controller output at start-upvariables	real error,PB_high,PB_low;	real hidden uP,uI,uD,uDstate,ideal_output,uI_initial,uD_initial;equations	error = SP - MV;	uP = K * ( b * SP - MV );	if time == 0 then 			uI_initial = output_initial - uP;		else 			uI_initial = uI_initial;		end;	if time == 0 then 			uD_initial = K * (c * SP - MV ) * N;		else			uD_initial = uD_initial;		end;	uI = int ( K * error / Ti  -  ( ideal_output - min([output; outputSat]) ) / Ta) + uI_initial;	uDstate = int ( uD * N / Td ) + uD_initial;	uD = K * (c * SP - MV ) * N - uDstate;	  	ideal_output = uP + uI + uD;	output = limit (ideal_output, minimum, maximum);	PB_low = b * SP + (uI + uD - maximum)/K;	PB_high = b * SP + (uI + uD - minimum)/K;                                                                                                                implementation_end;      Gain1 448 88       description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>  <TimeStamp>2007-9-26 12:15:12</TimeStamp></Description>';       type Gain        ports         signal in input;         signal out output;       end;       icon bg bottom        figures         rectangle 432.1 72 463.9 104 fill 15132390;         text 'K' 448 88 color 16711680 16 bold;       end;       implementation eqparameters	real global RPMMax;		// gainequations	output = input/RPMMax;    implementation_end;      Gain2 448 144       description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>  <TimeStamp>2007-9-26 12:15:12</TimeStamp></Description>';       type Gain        ports         signal in input;         signal out output;       end;       icon bg bottom        figures         rectangle 432.1 128 463.9 160 fill 15132390;         text 'K' 448 144 color 16711680 16 bold;       end;       implementation eqparameters	real global RPMMax;		// gainequations	output = input /(RPMMax/30*pi);    implementation_end;      LowPassFilter 328 144       description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Filters\LowPassFilter-BW4.emx</LibraryPath>  <TimeStamp>2007-9-27 15:23:6</TimeStamp></Description>';       type 'LowPassFilter-BW4'        ports         signal in u;         signal out y;       end;       icon bg bottom        figures         rectangle 280 128 376 160 fill 15132390;         text 'Low-Pass Filter' 328.5 136.7 color 16711680 14;         text 'BW 4    (rad/s) ' 330.1 150.4 color 16711680 14;         text 'th' 324.3 146.3 color 16711680;       end;       implementation eq// Created by C. Kleijn, 27 September 1999parameters    real global BW;	// Bandwidth (Hz)variables    real hidden s1y,s2y,s3y,s4y,BWrad;equations	BWrad = twopi*BW;	s4y = BWrad^4.0*(u - y) - BWrad^3.0*2.6131*s1y - BWrad^2.0*3.4142*s2y - BWrad*2.6131*s3y;  	s3y = int(s4y,0);	s2y = int(s3y,0);	s1y = int(s2y,0);   	y = int(s1y,0);        implementation_end;      plug RPMRef 232.2 88.1;      plug uGov 752.1 104;      plug uGovSat 216.1 240;      plug omegaE 168.1 143.9;      RPMCommanTF 320 88						specifications active 'FO'							specification 'FO' description '<Information><Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath><TimeStamp>2008-1-24 10:10:10</TimeStamp><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration><struct><member><name>DocumentationMask</name><value><struct></struct></value></member></struct></Configuration></Description></Information>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 296 71.4 344 104.6 fill 15132390;   text 'k' 321.1 79.1 color 16711680 14;   line 301.7 89 339.4 89 color 16711680 fill 15132390;   text 't' 314.7 95.7 color 16711680 'SymbolProp BT' 15;   text 's    + 1' 320 95.7 color 16711680 14; end; implementation eqparameters    real k = 1;		// gain []    real global tau;		// time constant [s / rad]variables    real rate, state;equations    rate = (k * input - state) / tau;    state = int (rate);    output = state;                    implementation_end;specification_end;							specification 'FOL'description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath>  <TimeStamp>2008-1-24 10:10:10</TimeStamp></Description>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 152 96 216 128 fill 15132390;   group    text 't' 176.5 118.8 color 16711680 'SymbolProp BT' 15;    text 's    + 1' 184 118.8 color 16711680 14;   end;   line 155.5 114 210.9 114 color 16711680 fill 15132390;   group    text 'L' 187.2 108.2 color 16711680 11;    text 't' 181.3 105 color 16711680 'SymbolProp BT' 15;   end;   text 'k' 160.5 105.5 color 16711680 14;   text '(s    + 1)' 188.8 105 color 16711680 14; end; implementation eqparameters	real k = 1;			// gain []	real tau = 1;		// time constant [s ]	real tauL = 1;		// lead time [s]variables    real hidden rate, state;equations	rate = ( k * input - state );	state = int ( rate / tau );	output = state + ( tauL/tau ) * rate;  implementation_end;specification_end;							specification 'FOLA'description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath>  <TimeStamp>2008-1-24 10:10:10</TimeStamp></Description>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 152 96.5 216 128.5 fill 15132390;   line 156.6 113.5 211.9 113.5 color 16711680 fill 15132390;   group    text 'k' 160.5 105 color 16711680 14;    text '(s    + 1)' 187.7 104.4 color 16711680 14;    text 't' 180.3 104.4 color 16711680 'SymbolProp BT' 15;   end;   group    text 's    + 1' 182.4 119.4 color 16711680 14;    text 't' 173.9 119.4 color 16711680 'SymbolProp BT' 15;    text 'L' 179.7 122.6 color 16711680 11;   end; end; implementation eqparameters	real k = 1;			// gain []	real tau = 1;		// time constant [s ]	real tauL = 1;		// lag time [s]variables    real hidden rate, state;equations	rate = ( k * input - state );	state = int ( rate / tauL );	output = state + ( tau/tauL ) * rate;  implementation_end;specification_end;							specification 'SOI'description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath>  <TimeStamp>2008-1-24 10:10:10</TimeStamp></Description>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 160 97 208 128 fill 15132390;   text 'k' 187.2 104 color 16711680 14;   line 163.2 112.5 202.7 112.5 color 16711680 fill 15132390;   group    text 's(s  + 1)' 184 118.4 color 16711680 14;    text 't' 181.9 118.4 color 16711680 'SymbolProp BT' 15;   end; end; implementation eqparameters	real k = 1;			// gain [] 	real tau = 1;		// time constant [s / rad]variables    real hidden rate1, state1;    real rate2,state2;equations	rate1 = ( k * input );	state1 = int (rate1);	rate2 = (state1 - state2)/tau;	state2 = int(rate2);	output = state2;                        implementation_end;specification_end;							specification 'SOO'description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath>  <TimeStamp>2008-1-24 10:10:10</TimeStamp></Description>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 136 96.6 232 128.6 fill 15132390;   group    text 't' 198.4 117.9 color 16711680 'SymbolProp BT' 15;    text '2' 203.2 121.1 color 16711680 11;   end;   group    text 't' 153.6 117.9 color 16711680 'SymbolProp BT' 15;    text '1' 157.9 120.1 color 16711680 11;   end;   line 140.8 112.1 226.1 112.1 color 16711680 fill 15132390;   text '(s    + 1)' 161.1 117.9 color 16711680 14;   text '(s    + 1)' 205.9 117.9 color 16711680 14;   text 'k' 183.5 103.3 color 16711680 14; end; implementation eqparameters    real k = 1;			// gain []    real tau1 = 1;		// time constant 1 [s / rad]	real tau2 = 1;		// time constant 2 [s / rad]variables    	real hidden rate1,rate2, state1;	real state2;equations	rate1 = (k * input - state1) / tau1;	state1 = int (rate1);	rate2 = (state1 - state2)/tau2;	state2 = int(rate2);	output = state2;                         implementation_end;specification_end;							specification 'SOOL'description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath>  <TimeStamp>2008-1-24 10:10:10</TimeStamp></Description>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 136 97.3 232 129.3 fill 15132390;   group    text 't' 198.4 118.1 color 16711680 'SymbolProp BT' 15;    text '2' 203.2 121.3 color 16711680 11;   end;   group    text 't' 153.6 118.1 color 16711680 'SymbolProp BT' 15;    text '1' 157.9 120.2 color 16711680 11;   end;   text 'k' 159.5 103.7 color 16711680 14;   line 140.8 112.2 226.1 112.2 color 16711680 fill 15132390;   text '(s    + 1)' 161.1 118.1 color 16711680 14;   text '(s    + 1)' 205.9 118.1 color 16711680 14;   group    text '(s    + 1)' 187.7 103.7 color 16711680 14;    text 't' 180.3 103.7 color 16711680 'SymbolProp BT' 15;    text 'L' 185.1 106.9 color 16711680 11;   end; end; implementation eqparameters    real k = 1;			// gain []    real tau1 = 1;		// time constant 1 [s ]	real tau2 = 1;		// time constant 2 [s ]	real tauL = 2;		// lead time [s]variables    	real hidden rate1,rate2, state1;	real state2;equations	rate1 = state2/k - input;	state1 = int (rate1);	rate2 = k/(tau1*tau2) * ( tauL*input - state1 - state2*(tau1+tau2)/k );	state2 = int(rate2);	output = state2;             implementation_end;specification_end;							specification 'SOU'description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath>  <TimeStamp>2011-3-23 10:32:13</TimeStamp></Description>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 200 511.7 296 543.7 fill 15132390;   line 204.8 527.2 290.1 527.2 color 16711680 fill 15132390;   text 's  + 2     s  + 1' 254.3 535.7 color 16711680 14;   text 'z' 251.4 536.8 color 16711680 'SymbolProp BT' 11 symbol;   text '2' 216.4 532 color 16711680 11;   text 't' 210 535.7 color 16711680 'SymbolProp BT' 15;   text 't' 258.5 535.7 color 16711680 'SymbolProp BT' 15;   text 'k' 248.4 519.2 color 16711680 14;   text '2' 228.4 532 color 16711680 11; end; implementation eqparameters    	real k = 1;			// gain []    	real tau = 1;		// time constant [s ]	real zeta = 0.7;		// damping constant []variables    	real hidden rate1,rate2, state1;	real state2;equations	rate1 = (k * input - state2) / tau;	state1 = int (rate1);	rate2 = (state1 - 2*zeta*state2)/tau;	state2 = int(rate2);	output = state2;                            implementation_end;specification_end;							specification 'SOUO'description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath>  <TimeStamp>2008-1-24 10:10:10</TimeStamp></Description>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 136 96.1 232 128.1 fill 15132390;   line 139.2 112.4 227.2 112.4 color 16711680 fill 15132390;   text 's  + 2      s  + ' 176 120.1 color 16711680 14;   text 'z' 172.3 121.2 color 16711680 'SymbolProp BT' 11 symbol;   text 'w' 181.3 120.1 color 16711680 'SymbolProp BT' 15;   text 'k' 176.5 103.6 color 16711680 14;   group    text '2' 194.7 101.2 color 16711680 11;    text 'w' 186.7 103.9 color 16711680 'SymbolProp BT' 15;   end;   group    text '2' 225.6 116.7 color 16711680 11;    text 'w' 217.6 119.4 color 16711680 'SymbolProp BT' 15;   end;   text '2' 149.3 116.2 color 16711680 11; end; implementation eqparameters    	real k = 1.0;			// gain []	real omega = 1.0;		// frequency [rad/s]	real zeta = 0.7;			// damping constant []variables    	real hidden rate1,rate2, state1;	real state2;equations	rate1 = (k * input - state2)*omega;	state1 = int (rate1);	rate2 = (state1 - 2*zeta*state2)*omega;	state2 = int(rate2);	output = state2;                            implementation_end;specification_end;						end;      Splitter1 400 144       description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';       knot Splitter        ports         signal knot duplicatable out output [1];         signal knot in input [1];       end;       icon bg ellipse        figures         ellipse 396.8 140.8 403.2 147.2 color -1 fill 0;         ellipse 395.7 139.7 404.3 148.3 color -1;        terminals         input 400 144 fixed;       end;       implementation eqequations    collect (output) = input;implementation_end;      Splitter2 520 144       description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';       knot Splitter        ports         signal knot duplicatable out output [1];         signal knot in input [1];       end;       icon bg ellipse        figures         ellipse 516.8 140.8 523.2 147.2 color -1 fill 0;         ellipse 515.7 139.7 524.3 148.3 color -1;        terminals         input 520 144 fixed;       end;       implementation eqequations    collect (output) = input;implementation_end;     end;     connections      Controller\output -> uGov;      Gain1\output -> Controller\SP;      Gain2\output -> Splitter2\input 508.4 144;      LowPassFilter\y -> Splitter1\input;      omegaE -> LowPassFilter\u;      RPMCommanTF\output -> Gain1\input;      RPMRef -> RPMCommanTF\input;      Splitter1\output -> Gain2\input;      Splitter2\output -> Controller\MV 552 144;      uGovSat -> Controller\outputSat 504 240;     end;    implementation_end;   plug RPMRef 216 224;   plug uGov 671.9 296;   plug omegaE 216 272;   plug pTAR 216 144;   SmokeLimiter 528 224.1    description '<Information><Description><Version>4.5</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues><AllowLibraryUpdate>True</AllowLibraryUpdate><Configuration><struct><member><name>DocumentationMask</name><value><struct></struct></value></member></struct></Configuration></Description><Attributes><GlobalRelations>parameters	real BW1 = 0.66; //cutoff frequency of LP filter for pressure	real BW2 = 0.66; //cutoff frequency of LP filter for temperature	real FMax = 0.84; //Maximum allowable fuel-air equivalent ratio in the cylinder</GlobalRelations></Attributes></Information>';    type Submodel     ports      signal in uGov;      signal in pAR;      signal in TAR;      signal in volEff;      signal out uGovSat;    end;    implementation bg     submodels      LowPassFilter 216 224       description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Filters\LowPassFilter-BW4.emx</LibraryPath>  <TimeStamp>2007-9-27 15:23:6</TimeStamp></Description>';       type 'LowPassFilter-BW4'        ports         signal in u;         signal out y;       end;       icon bg bottom        figures         rectangle 168 208 264 240 fill 15132390;         text 'Low-Pass Filter' 216.5 216.7 color 16711680 14;         text 'BW 4    (rad/s) ' 218.1 230.4 color 16711680 14;         text 'th' 212.3 226.3 color 16711680;       end;       implementation eq// Created by C. Kleijn, 27 September 1999parameters    real global BW1;	// Bandwidth (Hz)variables    real hidden s1y,s2y,s3y,s4y,BWrad;equations	BWrad = twopi*BW1;	s4y = BWrad^4.0*(u - y) - BWrad^3.0*2.6131*s1y - BWrad^2.0*3.4142*s2y - BWrad*2.6131*s3y;  	s3y = int(s4y,0);	s2y = int(s3y,0);	s1y = int(s2y,0);   	y = int(s1y);        implementation_end;      LowPassFilter1 216 280       description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Filters\LowPassFilter-BW4.emx</LibraryPath>  <TimeStamp>2007-9-27 15:23:6</TimeStamp></Description>';       type 'LowPassFilter-BW4'        ports         signal in u;         signal out y;       end;       icon bg bottom        figures         rectangle 168 264 264 296 fill 15132390;         text 'Low-Pass Filter' 216.5 272.7 color 16711680 14;         text 'BW 4    (rad/s) ' 218.1 286.4 color 16711680 14;         text 'th' 212.3 282.3 color 16711680;       end;       implementation eq// Created by C. Kleijn, 27 September 1999parameters    real global BW2;	// Bandwidth (Hz)variables    real hidden s1y,s2y,s3y,s4y,BWrad;equations	BWrad = twopi*BW2;	s4y = BWrad^4.0*(u - y) - BWrad^3.0*2.6131*s1y - BWrad^2.0*3.4142*s2y - BWrad*2.6131*s3y;  	s3y = int(s4y,0);	s2y = int(s3y,0);	s1y = int(s2y,0);   	y = int(s1y);        implementation_end;      plug uGov 32 168;      plug pAR 32.2 224;      plug TAR 30 280;      plug volEff 40 336;      plug uGovSat 568 288;      Submodel3 424 288       description '<Description><Version>4.0</Version>   <LibraryPath>Template\Submodel-Equation.emx</LibraryPath><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues>   <TimeStamp>2007-11-1 22:32:1</TimeStamp>   <AllowLibraryUpdate>False</AllowLibraryUpdate></Description>';       type 'Submodel-Equation'        ports         signal in p_AR;         signal out output;         signal in T_AR;         signal in volEff;         signal in uGov;       end;       implementation eq	/* Equation SubmodelEnter you equations here. You can use the Toolbar buttons at the left ( Add , f(x) etc. ).*/parameters	real global vDisp, fs;	real global FMax;	real global mqf_max;variables	real mAirCyc, mfCycMax, uMax;equations  // start typing here	mAirCyc = (p_AR/287/(T_AR+1e-3))*vDisp*volEff;	mfCycMax = mAirCyc*fs*FMax;	uMax = mfCycMax/mqf_max;	output = min([uGov; mfCycMax/mqf_max]); implementation_end;      TransferFunction 216 336						specifications active 'FO'							specification 'FO' description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath>  <TimeStamp>2008-1-24 10:10:10</TimeStamp></Description>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 192 319.4 240 352.6 fill 15132390;   text 'k' 217.1 327.1 color 16711680 14;   line 197.7 337 235.4 337 color 16711680 fill 15132390;   text 't' 210.7 343.7 color 16711680 'SymbolProp BT' 15;   text 's    + 1' 216 343.7 color 16711680 14; end; implementation eqparameters    real k = 1;		// gain []    real tau = 0.01;		// time constant [s / rad]variables    real rate, state;equations    rate = (k * input - state) / tau;    state = int (rate);    output = state;                    implementation_end;specification_end;							specification 'FOL'description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath>  <TimeStamp>2008-1-24 10:10:10</TimeStamp></Description>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 152 96 216 128 fill 15132390;   group    text 't' 176.5 118.8 color 16711680 'SymbolProp BT' 15;    text 's    + 1' 184 118.8 color 16711680 14;   end;   line 155.5 114 210.9 114 color 16711680 fill 15132390;   group    text 'L' 187.2 108.2 color 16711680 11;    text 't' 181.3 105 color 16711680 'SymbolProp BT' 15;   end;   text 'k' 160.5 105.5 color 16711680 14;   text '(s    + 1)' 188.8 105 color 16711680 14; end; implementation eqparameters	real k = 1;			// gain []	real tau = 1;		// time constant [s ]	real tauL = 1;		// lead time [s]variables    real hidden rate, state;equations	rate = ( k * input - state );	state = int ( rate / tau );	output = state + ( tauL/tau ) * rate;  implementation_end;specification_end;							specification 'FOLA'description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath>  <TimeStamp>2008-1-24 10:10:10</TimeStamp></Description>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 152 96.5 216 128.5 fill 15132390;   line 156.6 113.5 211.9 113.5 color 16711680 fill 15132390;   group    text 'k' 160.5 105 color 16711680 14;    text '(s    + 1)' 187.7 104.4 color 16711680 14;    text 't' 180.3 104.4 color 16711680 'SymbolProp BT' 15;   end;   group    text 's    + 1' 182.4 119.4 color 16711680 14;    text 't' 173.9 119.4 color 16711680 'SymbolProp BT' 15;    text 'L' 179.7 122.6 color 16711680 11;   end; end; implementation eqparameters	real k = 1;			// gain []	real tau = 1;		// time constant [s ]	real tauL = 1;		// lag time [s]variables    real hidden rate, state;equations	rate = ( k * input - state );	state = int ( rate / tauL );	output = state + ( tau/tauL ) * rate;  implementation_end;specification_end;							specification 'SOI'description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath>  <TimeStamp>2008-1-24 10:10:10</TimeStamp></Description>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 160 97 208 128 fill 15132390;   text 'k' 187.2 104 color 16711680 14;   line 163.2 112.5 202.7 112.5 color 16711680 fill 15132390;   group    text 's(s  + 1)' 184 118.4 color 16711680 14;    text 't' 181.9 118.4 color 16711680 'SymbolProp BT' 15;   end; end; implementation eqparameters	real k = 1;			// gain [] 	real tau = 1;		// time constant [s / rad]variables    real hidden rate1, state1;    real rate2,state2;equations	rate1 = ( k * input );	state1 = int (rate1);	rate2 = (state1 - state2)/tau;	state2 = int(rate2);	output = state2;                        implementation_end;specification_end;							specification 'SOO'description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath>  <TimeStamp>2008-1-24 10:10:10</TimeStamp></Description>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 136 96.6 232 128.6 fill 15132390;   group    text 't' 198.4 117.9 color 16711680 'SymbolProp BT' 15;    text '2' 203.2 121.1 color 16711680 11;   end;   group    text 't' 153.6 117.9 color 16711680 'SymbolProp BT' 15;    text '1' 157.9 120.1 color 16711680 11;   end;   line 140.8 112.1 226.1 112.1 color 16711680 fill 15132390;   text '(s    + 1)' 161.1 117.9 color 16711680 14;   text '(s    + 1)' 205.9 117.9 color 16711680 14;   text 'k' 183.5 103.3 color 16711680 14; end; implementation eqparameters    real k = 1;			// gain []    real tau1 = 1;		// time constant 1 [s / rad]	real tau2 = 1;		// time constant 2 [s / rad]variables    	real hidden rate1,rate2, state1;	real state2;equations	rate1 = (k * input - state1) / tau1;	state1 = int (rate1);	rate2 = (state1 - state2)/tau2;	state2 = int(rate2);	output = state2;                         implementation_end;specification_end;							specification 'SOOL'description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath>  <TimeStamp>2008-1-24 10:10:10</TimeStamp></Description>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 136 97.3 232 129.3 fill 15132390;   group    text 't' 198.4 118.1 color 16711680 'SymbolProp BT' 15;    text '2' 203.2 121.3 color 16711680 11;   end;   group    text 't' 153.6 118.1 color 16711680 'SymbolProp BT' 15;    text '1' 157.9 120.2 color 16711680 11;   end;   text 'k' 159.5 103.7 color 16711680 14;   line 140.8 112.2 226.1 112.2 color 16711680 fill 15132390;   text '(s    + 1)' 161.1 118.1 color 16711680 14;   text '(s    + 1)' 205.9 118.1 color 16711680 14;   group    text '(s    + 1)' 187.7 103.7 color 16711680 14;    text 't' 180.3 103.7 color 16711680 'SymbolProp BT' 15;    text 'L' 185.1 106.9 color 16711680 11;   end; end; implementation eqparameters    real k = 1;			// gain []    real tau1 = 1;		// time constant 1 [s ]	real tau2 = 1;		// time constant 2 [s ]	real tauL = 2;		// lead time [s]variables    	real hidden rate1,rate2, state1;	real state2;equations	rate1 = state2/k - input;	state1 = int (rate1);	rate2 = k/(tau1*tau2) * ( tauL*input - state1 - state2*(tau1+tau2)/k );	state2 = int(rate2);	output = state2;             implementation_end;specification_end;							specification 'SOU'description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath>  <TimeStamp>2011-3-23 10:32:13</TimeStamp></Description>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 200 511.7 296 543.7 fill 15132390;   line 204.8 527.2 290.1 527.2 color 16711680 fill 15132390;   text 's  + 2     s  + 1' 254.3 535.7 color 16711680 14;   text 'z' 251.4 536.8 color 16711680 'SymbolProp BT' 11 symbol;   text '2' 216.4 532 color 16711680 11;   text 't' 210 535.7 color 16711680 'SymbolProp BT' 15;   text 't' 258.5 535.7 color 16711680 'SymbolProp BT' 15;   text 'k' 248.4 519.2 color 16711680 14;   text '2' 228.4 532 color 16711680 11; end; implementation eqparameters    	real k = 1;			// gain []    	real tau = 1;		// time constant [s ]	real zeta = 0.7;		// damping constant []variables    	real hidden rate1,rate2, state1;	real state2;equations	rate1 = (k * input - state2) / tau;	state1 = int (rate1);	rate2 = (state1 - 2*zeta*state2)/tau;	state2 = int(rate2);	output = state2;                            implementation_end;specification_end;							specification 'SOUO'description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>   <LibraryPath>Signal\Transfer Functions\TransferFunction.emx</LibraryPath>  <TimeStamp>2008-1-24 10:10:10</TimeStamp></Description>'; type TransferFunction  ports   signal in input;   signal out output; end; icon bg bottom  figures   rectangle 136 96.1 232 128.1 fill 15132390;   line 139.2 112.4 227.2 112.4 color 16711680 fill 15132390;   text 's  + 2      s  + ' 176 120.1 color 16711680 14;   text 'z' 172.3 121.2 color 16711680 'SymbolProp BT' 11 symbol;   text 'w' 181.3 120.1 color 16711680 'SymbolProp BT' 15;   text 'k' 176.5 103.6 color 16711680 14;   group    text '2' 194.7 101.2 color 16711680 11;    text 'w' 186.7 103.9 color 16711680 'SymbolProp BT' 15;   end;   group    text '2' 225.6 116.7 color 16711680 11;    text 'w' 217.6 119.4 color 16711680 'SymbolProp BT' 15;   end;   text '2' 149.3 116.2 color 16711680 11; end; implementation eqparameters    	real k = 1.0;			// gain []	real omega = 1.0;		// frequency [rad/s]	real zeta = 0.7;			// damping constant []variables    	real hidden rate1,rate2, state1;	real state2;equations	rate1 = (k * input - state2)*omega;	state1 = int (rate1);	rate2 = (state1 - 2*zeta*state2)*omega;	state2 = int(rate2);	output = state2;                            implementation_end;specification_end;						end;     end;     connections      LowPassFilter1\y -> Submodel3\T_AR;      LowPassFilter\y -> Submodel3\p_AR;      pAR -> LowPassFilter\u;      Submodel3\output -> uGovSat;      TAR -> LowPassFilter1\u;      TransferFunction\output -> Submodel3\volEff;      uGov -> Submodel3\uGov 216 168;      volEff -> TransferFunction\input;     end;    implementation_end;   Splitter1 528 296    description '<Description><Version>4.0</Version>   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>  <TimeStamp>2008-01-17 11:28:29</TimeStamp><IsMainModel>1</IsMainModel> <KeepParameterValues>False</KeepParameterValues></Description>';    knot Splitter     ports      signal knot duplicatable out output [1];      signal knot in input [1];    end;    icon bg ellipse     figures      ellipse 524.8 292.8 531.2 299.2 color -1 fill 0;      ellipse 523.7 291.7 532.3 300.3 color -1;     terminals      input 528 296 fixed;    end;    implementation eqequations    collect (output) = input;implementation_end;  end;  connections   Constant\output -> SmokeLimiter\volEff 512 104;   Demux\output1 -> SmokeLimiter\pAR;   Demux\output2 -> SmokeLimiter\TAR 'TAR';   Governor\uGov -> SmokeLimiter\uGov;   omegaE -> Governor\omegaE;   pTAR -> Demux\input;   RPMRef -> Governor\RPMRef;   SmokeLimiter\uGovSat -> Splitter1\input;   Splitter1\output -> Governor\uGovSat 344 296 'uGovSat';   Splitter1\output -> uGov;  end; implementation_end;specification_end;end;]]>
    </Sidops>
  </Model>
</Document>
